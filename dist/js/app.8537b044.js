(function(){"use strict";var t={5065:function(t,e,s){var i=s(144),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("services-main")],1)},o=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"services-main"},[s("div",{staticClass:"wrapper"},[s("v-header"),s("router-view")],1),s("v-footer",{staticClass:"footer"}),this.$store.getters.statePopupSignIn?s("popup-sign-in",{on:{closePopup:function(e){t.popup_sign_in=!1},forgetPassword:function(e){t.popup_pass_recovery=!0}}}):t._e(),this.$store.getters.statePopupReg?s("popup-reg",{on:{closePopup:function(e){t.popup_reg=!1}}}):t._e(),t.popup_pass_recovery?s("popup-pass-recovery",{on:{closePopup:function(e){t.popup_pass_recovery=!1},openCodeWaiting:function(e){t.popup_code_waiting=!0}}}):t._e(),t.popup_code_waiting?s("popup-code-waiting",{on:{closePopup:function(e){t.popup_code_waiting=!1}}}):t._e(),this.$store.getters.statePopupChangePass?s("popup-change-pass"):t._e()],1)},n=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"header",class:{"header-supplier":"supplier"==t.profile_mode},style:{background:t.background_color}},[i("div",{staticClass:"container-xl"},[i("div",{staticClass:"header__content"},[i("router-link",{staticClass:"header__logo logo",attrs:{to:{name:"ExcursionsHome"}}},[i("span",{staticClass:"logo__image"},[i("img",{attrs:{src:s(2835),alt:"Logo"}})]),i("span",{staticClass:"logo__text"},[i("span",{staticClass:"logo__name"},[t._v("Mapster")]),i("span",{staticClass:"logo__descr",domProps:{innerHTML:t._s(t.changeLogoDescr)}})])]),t.nav_visibility&&"client"==t.profile_mode?i("ul",{staticClass:"header__servises-nav"},[i("li",{staticClass:"header__servises-item"},[i("button",{staticClass:"header__servises-link",attrs:{type:"button"}},[i("span",{staticClass:"icon icon-palm"}),t._v(" "+t._s(t.$t("header.menu.tours"))+" ")])]),i("li",{staticClass:"header__servises-item"},[i("button",{staticClass:"header__servises-link",attrs:{type:"button"}},[i("span",{staticClass:"icon icon-plane"}),t._v(" "+t._s(t.$t("header.menu.air"))+" ")])]),i("li",{staticClass:"header__servises-item"},[i("button",{staticClass:"header__servises-link",attrs:{type:"button"}},[i("span",{staticClass:"icon icon-bed"}),t._v(" "+t._s(t.$t("header.menu.apartments"))+" ")])]),i("li",{staticClass:"header__servises-item"},[i("button",{staticClass:"header__servises-link active",attrs:{type:"button"}},[i("span",{staticClass:"icon icon-camera"}),t._v(" "+t._s(t.$t("header.menu.excursions"))+" ")])]),i("li",{staticClass:"header__servises-item"},[i("button",{staticClass:"header__servises-link",attrs:{type:"button"}},[i("span",{staticClass:"icon icon-taxi"}),t._v(" "+t._s(t.$t("header.menu.transfer"))+" ")])])]):t._e(),"GuideRegistration"!=t.$route.name&&"supplier"==t.profile_mode&&t.nav_visibility?i("ul",{staticClass:"header__servises-nav header__servises-nav--supplier"},[i("li",{staticClass:"header__servises-item"},[i("router-link",{staticClass:"header__servises-link",attrs:{to:{name:"GuideMyExcursions"}}},[t._v(" "+t._s(t.$t("header.menu_guide.my_excursions"))+" ")])],1),i("li",{staticClass:"header__servises-item"},[i("router-link",{staticClass:"header__servises-link",attrs:{to:{name:"GuideOrders"}}},[t._v(" "+t._s(t.$t("header.menu_guide.orders"))+" ")])],1),i("li",{staticClass:"header__servises-item"},[i("router-link",{staticClass:"header__servises-link",attrs:{to:{name:"GuideBalance"}}},[t._v(" "+t._s(t.$t("header.menu_guide.balance"))+" ")])],1)]):t._e(),i("div",{staticClass:"header__rightside"},[i("div",{staticClass:"lang",class:{active:t.lang_open}},[i("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeLang,expression:"closeLang"}],staticClass:"lang__head",attrs:{type:"button"},on:{click:function(e){t.lang_open=!t.lang_open}}},[t._v(" "+t._s(t.$t("header.lang"))+" "),i("span",{staticClass:"lang__triangle icon icon-triangle-down"})]),t.lang_open?i("div",{staticClass:"lang__body"},t._l(t.langs,(function(e,s){return i("button",{key:s,staticClass:"lang__item",class:{active:e.active},attrs:{type:"button"},on:{click:function(s){return t.selectLang(e)}}},[t._v(" "+t._s(e.name)+" ")])})),0):t._e()]),t.$store.getters.getUser?t._e():i("button",{staticClass:"header__login",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.openPopupSingIn.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("header.login"))+" ")]),t.$store.getters.getUser?i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropdown,expression:"closeDropdown"}],staticClass:"header__profile header-profile",class:{active:t.dropdown_open}},[i("button",{staticClass:"header-profile__head",on:{click:function(e){t.dropdown_open=!t.dropdown_open}}},[i("span",{staticClass:"header-profile__icon icon icon-person"}),i("span",{staticClass:"header-profile__triangle icon icon-triangle-down"}),i("span",{staticClass:"header-profile__burger icon icon-burger"})]),t.dropdown_open?i("div",{staticClass:"header-profile__body"},[i("div",{staticClass:"header-profile__body-block"},[i("button",{staticClass:"header-profile__item",attrs:{type:"button"}},[i("span",{staticClass:"header-profile__photo"},[t.$store.getters.getUser.photo[0]?i("span",{staticClass:"header-profile__photo-img"},[i("img",{attrs:{src:"data:image/"+t.$store.getters.getUser.photo[0].extension.slice(1)+";base64,"+t.$store.getters.getUser.photo[0].data,alt:""}})]):t._e(),t.$store.getters.getUser.photo[0]?t._e():i("span",{staticClass:"header-profile__item-icon icon icon-person"})]),t.$store.getters.getUser?i("span",{staticClass:"header-profile__item-text"},[t._v(" "+t._s(t.$store.getters.getUser.first_name+" "+t.$store.getters.getUser.last_name&&t.$store.getters.getUser.first_name)+" ")]):t._e()])]),i("div",{staticClass:"header-profile__body-block"},[i("div",{staticClass:"header-profile__langs"},t._l(t.langs,(function(e,s){return i("button",{key:s,staticClass:"header-profile__lang",class:{active:e.active},attrs:{type:"button"},on:{click:function(s){return t.selectLang(e)}}},[t._v(" "+t._s(e.name)+" ")])})),0),"client"==t.profile_mode?i("button",{staticClass:"header-profile__item",attrs:{type:"button"}},[i("span",{staticClass:"header-profile__item-icon icon icon-distribute-vertical"}),i("span",{staticClass:"header-profile__item-text"},[t._v(" "+t._s(t.$t("excursions.client.header.profile.history"))+" ")])]):t._e(),"supplier"==t.profile_mode?i("button",{staticClass:"header-profile__item",attrs:{type:"button"},on:{click:t.toAddExcursion}},[i("span",{staticClass:"header-profile__item-icon icon icon-plus"}),i("span",{staticClass:"header-profile__item-text"},[t._v(" "+t._s(t.$t("excursions.guide.header.profile.add"))+" ")])]):t._e(),"supplier"==t.profile_mode?i("button",{staticClass:"header-profile__item",attrs:{type:"button"},on:{click:t.toMyExcursions}},[i("span",{staticClass:"header-profile__item-icon icon icon-camera"}),i("span",{staticClass:"header-profile__item-text"},[t._v(" "+t._s(t.$t("excursions.guide.header.profile.my"))+" ")])]):t._e(),"supplier"==t.profile_mode?i("button",{staticClass:"header-profile__item",attrs:{type:"button"},on:{click:t.toMyOrders}},[i("span",{staticClass:"header-profile__item-icon icon icon-distribute-vertical"}),i("span",{staticClass:"header-profile__item-text"},[t._v(" "+t._s(t.$t("excursions.guide.header.profile.orders"))+" ")])]):t._e(),"supplier"==t.profile_mode?i("button",{staticClass:"header-profile__item",attrs:{type:"button"},on:{click:t.toBalance}},[i("span",{staticClass:"header-profile__item-icon icon icon-euro"}),i("span",{staticClass:"header-profile__item-text"},[t._v(" "+t._s(t.$t("excursions.guide.header.profile.balance"))+" ")])]):t._e(),"client"==t.profile_mode?i("button",{staticClass:"header-profile__item",attrs:{type:"button"},on:{click:t.toGuideHome}},[i("span",{staticClass:"header-profile__item-icon icon icon-person"}),i("span",{staticClass:"header-profile__item-text"},[t._v(" "+t._s(t.$t("excursions.client.header.profile.to_guide"))+" ")])]):t._e(),"supplier"==t.profile_mode?i("button",{staticClass:"header-profile__item",attrs:{type:"button"},on:{click:t.toClientHome}},[i("span",{staticClass:"header-profile__item-icon icon icon-person"}),i("span",{staticClass:"header-profile__item-text"},[t._v(" "+t._s(t.$t("excursions.guide.header.profile.to_client"))+" ")])]):t._e(),i("button",{staticClass:"header-profile__item",attrs:{type:"button"},on:{click:t.toProfile}},[i("span",{staticClass:"header-profile__item-icon icon icon-settings"}),i("span",{staticClass:"header-profile__item-text"},[t._v(" "+t._s(t.$t("excursions.client.header.profile.edit"))+" ")])])]),i("div",{staticClass:"header-profile__body-block"},[i("button",{staticClass:"header-profile__item",attrs:{type:"button"},on:{click:t.logoutHandler}},[i("span",{staticClass:"header-profile__item-icon icon icon-exit"}),i("span",{staticClass:"header-profile__item-text"},[t._v(" "+t._s(t.$t("excursions.client.header.profile.exit"))+" ")])])])]):t._e()]):t._e()])],1)])])},l=[],u=s(2649),d=s.n(u),_=s(9669),p=s.n(_);const m=p().create({baseURL:"https://api.mapster.bpinside.site",headers:{"Content-Type":"application/json"}});var h=m,g={name:"VHeader",data(){return{background_color:null,profile_mode:"client",nav_visibility:!0,profile:{photo:null,name:null},lang_open:!1,dropdown_open:!1,current_lang:"РУС",langs:[{name:"РУС",value:"ru",active:!0},{name:"ENG",value:"en",active:!1}]}},computed:{changeLogoDescr(){return"client"==this.profile_mode?this.$t("excursions.client.header.logo_descr"):"supplier"==this.profile_mode?this.$t("excursions.guide.header.logo_descr"):""}},watch:{$route:function(){this.changeHeader()},profile_mode:function(){"GuideRegistration"==this.$route.name?this.nav_visibility=!1:this.nav_visibility=!0}},methods:{toClientHome(){this.$router.push({name:"ExcursionsHome"}),this.dropdown_open=!1},toGuideHome(){this.$router.push({name:"GuideMyExcursions"}),this.dropdown_open=!1},toMyExcursions(){this.$router.push({name:"GuideMyExcursions"}),this.dropdown_open=!1},toAddExcursion(){this.$router.push({name:"GuideAddExcursion"}),this.dropdown_open=!1},toMyOrders(){this.$router.push({name:"GuideOrders"}),this.dropdown_open=!1},toBalance(){this.$router.push({name:"GuideBalance"}),this.dropdown_open=!1},toProfile(){"supplier"==this.profile_mode&&this.$router.push({name:"GuideProfile"}),this.dropdown_open=!1},changeHeader(){"ExcursionsHome"==this.$route.name||"ExcursionsCountry"==this.$route.name||"ExcursionsTown"==this.$route.name||"ExcursionPage"==this.$route.name?(this.profile_mode="client",this.background_color="rgba(0, 0, 0, 0.5)",window.innerWidth<768&&(this.background_color="#023047")):"BookingData"==this.$route.name||"PaymentExcursion"==this.$route.name||"ThankYou"==this.$route.name?(this.profile_mode="client",this.background_color="var(--black)",window.innerWidth<768&&(this.background_color="#023047")):"GuideMyExcursions"==this.$route.name?(this.profile_mode="supplier",this.background_color="var(--black)"):"GuideRegistration"==this.$route.name?(this.profile_mode="supplier",this.background_color="transparent",window.innerWidth<768&&(this.background_color="var(--black)")):("GuideAddExcursion"==this.$route.name||"GuideOrders"==this.$route.name||"GuideBalance"==this.$route.name||"GuideProfile"==this.$route.name||"GuideProfileEdit"==this.$route.name)&&(this.profile_mode="supplier",this.background_color="var(--black)",window.innerWidth<768&&(this.background_color="var(--black)"))},logoutHandler(){this.$store.dispatch("deleteUser"),localStorage.removeItem("user"),localStorage.removeItem("ref"),h.defaults.headers.common.Authorization="",window.location.reload()},openPopupSingIn(){this.$store.dispatch("popupSignIn",!0)},closeDropdown(){this.dropdown_open=!1},closeLang(){this.lang_open=!1},selectLang(t){this.langs.forEach((t=>{t.active=!1})),t.active=!0,this.current_lang=t.name,localStorage.setItem("lang",t.value),window.location.reload()}},mounted(){this.changeHeader(),"ru"==localStorage.getItem("lang")?(this.langs[0].active=!0,this.langs[1].active=!1):(this.langs[0].active=!1,this.langs[1].active=!0),"GuideRegistration"==this.$route.name?this.nav_visibility=!1:this.nav_visibility=!0},directives:{ClickOutside:d()}},v=g,x=s(1001),C=(0,x.Z)(v,c,l,!1,null,"60c9cb76",null),f=C.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"footer",class:{supplier:"supplier"==t.profile_mode}},[s("div",{staticClass:"footer__main"},[s("div",{staticClass:"container-xl"},[s("div",{staticClass:"footer__content"},[s("div",{staticClass:"footer__leftside"},[s("div",{staticClass:"footer__block"},[s("h3",{staticClass:"footer__title"},[t._v(" "+t._s(t.$t("footer.company"))+" ")]),s("div",{staticClass:"footer__list"},[s("button",{staticClass:"footer__link",attrs:{type:"button"}},[t._v(" "+t._s(t.$t("footer.privacy_policy"))+" ")]),s("button",{staticClass:"footer__link",attrs:{type:"button"}},[t._v(" "+t._s(t.$t("footer.info_company"))+" ")])])]),s("div",{staticClass:"footer__block footer__block--services"},[s("h3",{staticClass:"footer__title"},[t._v(t._s(t.$t("footer.services")))]),s("div",{staticClass:"footer__list"},[t.$store.getters.getUser?t._e():s("button",{staticClass:"footer__link",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.openPopupSingIn.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("footer.login"))+" ")]),s("button",{staticClass:"footer__link",attrs:{type:"button"}},[t._v(" "+t._s(t.$t("footer.app"))+" ")])])])]),s("div",{staticClass:"footer__rightside"},[s("div",{staticClass:"footer__socials"},[s("h4",{staticClass:"footer__socials-title"},[t._v(t._s(t.$t("footer.adress")))]),t._m(0)]),t._m(1)])])])]),t._m(2)])},y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer__socials-items"},[s("a",{staticClass:"footer__socials-link icon icon-facebook",attrs:{href:"#"}}),s("a",{staticClass:"footer__socials-link icon icon-inst",attrs:{href:"#"}}),s("a",{staticClass:"footer__socials-link icon icon-youtube",attrs:{href:"#"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"footer__apps footer__apps--mobile"},[i("a",{staticClass:"footer__app",attrs:{href:"#"}},[i("img",{attrs:{src:s(5934),alt:""}})]),i("a",{staticClass:"footer__app",attrs:{href:"#"}},[i("img",{attrs:{src:s(5332),alt:""}})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"footer__bottom"},[i("div",{staticClass:"container-xl"},[i("div",{staticClass:"footer__bottom-content"},[i("p",{staticClass:"footer__rights"},[t._v(" © 2022 All Right Reserved Meta Mapster | Design by "),i("a",{attrs:{href:"#"}},[t._v("Artur Kirakosyan")])]),i("div",{staticClass:"footer__apps footer__apps--desktop"},[i("a",{staticClass:"footer__app",attrs:{href:"#"}},[i("img",{attrs:{src:s(5934),alt:""}})]),i("a",{staticClass:"footer__app",attrs:{href:"#"}},[i("img",{attrs:{src:s(5332),alt:""}})])])])])])}],w={name:"VFooter",data(){return{profile_mode:null}},watch:{$route:function(){this.changeHeader()}},methods:{openPopupSingIn(){this.$store.dispatch("popupSignIn",!0)},changeHeader(){"ExcursionsHome"==this.$route.name||"ExcursionsCountry"==this.$route.name||"ExcursionsTown"==this.$route.name||"ExcursionPage"==this.$route.name||"BookingData"==this.$route.name||"PaymentExcursion"==this.$route.name||"ThankYou"==this.$route.name?this.profile_mode="client":("GuideMyExcursions"==this.$route.name||"GuideRegistration"==this.$route.name)&&(this.profile_mode="supplier")}},mounted(){this.changeHeader()}},k=w,$=(0,x.Z)(k,b,y,!1,null,null,null),E=$.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup"},[s("div",{staticClass:"popup__body"},[s("form",{directives:[{name:"click-outside",rawName:"v-click-outside.stop",value:t.emitClose,expression:"emitClose",modifiers:{stop:!0}}],staticClass:"popup__content"},[s("h2",{staticClass:"popup__title"},[t._v(t._s(t.$t("popups.sing_in.title")))]),s("div",{staticClass:"popup__inputs"},[s("div",{staticClass:"popup__input input-popup"},[s("h4",{staticClass:"input-popup__title"},[t._v(" "+t._s(t.$t("popups.sing_in.input_login.title"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input-popup__input",attrs:{type:"email",placeholder:t.$t("popups.sing_in.input_login.placeholder")},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"popup__input input-popup"},[s("h4",{staticClass:"input-popup__title"},[t._v(" "+t._s(t.$t("popups.sing_in.input_pass.title"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input-popup__input",attrs:{type:"password",placeholder:t.$t("popups.sing_in.input_pass.placeholder")},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t.errors.username.null?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.inputs.email.null"))+" ")]):t._e(),t.errors.username.wrong?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.inputs.email.wrong"))+" ")]):t._e(),t.errors.password?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.login.password"))+" ")]):t._e(),t.errors.unknown_request?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.unknown_request2"))+" ")]):t._e(),s("button",{staticClass:"popup__btn",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.sendForm.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("popups.sing_in.btn"))+" ")]),s("help-info",{staticClass:"popup__info",attrs:{color_style:"green",icon_style:"black"}},[t._v(" "+t._s(t.$t("popups.sing_in.info.text1"))+" "),s("br"),t._v(" "+t._s(t.$t("popups.sing_in.info.text2"))+" "),s("button",{staticClass:"popup__info-btn",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.emitOpenReg.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("popups.sing_in.info.reg"))+" ")])]),s("div",{staticClass:"popup__flex-row"},[s("label",{staticClass:"popup__check-block"},[s("span",{staticClass:"popup__check-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.remember_me,expression:"remember_me"}],staticClass:"popup__check-none",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.remember_me)?t._i(t.remember_me,null)>-1:t.remember_me},on:{change:function(e){var s=t.remember_me,i=e.target,a=!!i.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);i.checked?r<0&&(t.remember_me=s.concat([o])):r>-1&&(t.remember_me=s.slice(0,r).concat(s.slice(r+1)))}else t.remember_me=a}}}),s("span",{staticClass:"popup__check-style"})]),s("span",{staticClass:"popup__check-text"},[t._v(" "+t._s(t.$t("popups.sing_in.remember_me"))+" ")])]),s("button",{staticClass:"popup__forget-pass",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.emitForgetPass.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("popups.sing_in.forget_pass"))+" ")])])],1)])])},P=[],M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"help-info",style:{backgroundColor:t.bgColor}},[s("span",{staticClass:"help-info__icon icon icon-info",style:{color:t.iconColor}}),s("p",{staticClass:"help-info__text"},[t._t("default")],2)])},D=[],H={name:"HelpInfo",data(){return{}},props:{color_style:{default(){return null}},icon_style:{default(){return null}},text:{default(){return null}}},methods:{},computed:{bgColor(){return"green"==this.color_style?"#CDFFBC":"#ececec"},iconColor(){return this.icon_style&&"black"==this.icon_style?"#000000":"green"==this.color_style?"#41B619":"black"==this.color_style?"#000000":this.color_style}},mounted(){}},T=H,V=(0,x.Z)(T,M,D,!1,null,null,null),N=V.exports,O={name:"PopupSignIn",components:{HelpInfo:N},directives:{ClickOutside:d()},data(){return{username:"sanyok.vergun2@gmail.com",password:"12345",remember_me:!1,errors:{username:{null:!1,wrong:!1},password:!1,unknown_request:!1}}},methods:{async sendForm(){var t=[];function e(t){const e=/\S+@\S+\.\S+/;return e.test(t)}return this.errors.username.null=!1,this.errors.username.wrong=!1,this.username?e(this.username)?(t.login=this.username,this.errors.password=!1,""==this.password?(this.errors.password=!0,!1):(t.password=this.password,void await h.post("/user/login",{login:t.login,password:t.password}).then((t=>{this.$store.dispatch("setUser",t.data.data[0]),localStorage.setItem("user",JSON.stringify(t.data.data[0])),localStorage.setItem("ref",t.data.data[0].session.ref),h.defaults.headers.common.Authorization=t.data.data[0].session.ref,this.$emit("closePopup"),window.location.reload()})).catch((t=>{console.log(t),this.errors.unknown_request=!0})))):(this.errors.username.wrong=!0,!1):(this.errors.username.null=!0,!1)},emitClose(){this.$store.dispatch("popupSignIn",!1)},emitOpenReg(){this.$store.dispatch("popupReg",!0),this.$store.dispatch("popupSignIn",!1)},emitForgetPass(){this.$emit("forgetPassword"),this.$store.dispatch("popupSignIn",!1)}}},A=O,I=(0,x.Z)(A,S,P,!1,null,null,null),Z=I.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup"},[s("div",{staticClass:"popup__body"},[s("form",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.emitClose,expression:"emitClose"}],staticClass:"popup__content",on:{submit:function(e){return e.preventDefault(),t.validate.apply(null,arguments)}}},[s("h2",{staticClass:"popup__title"},[t._v(t._s(t.$t("popups.reg.title")))]),s("div",{staticClass:"popup__inputs"},[s("div",{staticClass:"popup__input input-popup"},[s("h4",{staticClass:"input-popup__title"},[t._v(" "+t._s(t.$t("popups.reg.input_name.title"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"input-popup__input",attrs:{type:"text",placeholder:t.$t("popups.reg.input_name.placeholder")},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"popup__input input-popup"},[s("h4",{staticClass:"input-popup__title"},[t._v(" "+t._s(t.$t("popups.reg.input_email.title"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],staticClass:"input-popup__input",attrs:{type:"email",placeholder:t.$t("popups.reg.input_email.placeholder")},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"popup__input input-popup"},[s("h4",{staticClass:"input-popup__title"},[t._v(" "+t._s(t.$t("popups.reg.input_pass.title"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input-popup__input",attrs:{type:"password",placeholder:t.$t("popups.reg.input_pass.placeholder")},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),s("vue-recaptcha",{ref:"recaptcha",attrs:{size:"invisible",sitekey:"6LcfRowgAAAAAJ17IBWsDRjaB-tyPxzEmXQ13RQB"},on:{verify:t.register,expired:t.onCaptchaExpired}}),t.errors.name.null?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.inputs.name"))+" ")]):t._e(),t.errors.email.null?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.inputs.email.null"))+" ")]):t._e(),t.errors.email.wrong?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.inputs.email.wrong"))+" ")]):t._e(),t.errors.password?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.login.password"))+" ")]):t._e(),t.errors.unknown_request?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.unknown_request2"))+" ")]):t._e(),t.success_reg?s("p",{staticClass:"popup__success"},[t._v(" "+t._s(t.$t("success.reg"))+" ")]):t._e(),s("button",{staticClass:"popup__btn",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("popups.reg.btn"))+" ")]),s("help-info",{staticClass:"popup__info",attrs:{color_style:"green",icon_style:"black"}},[t._v(" "+t._s(t.$t("popups.reg.info.text1"))+" "),s("br"),t._v(" "+t._s(t.$t("popups.reg.info.text2"))+" "),s("button",{staticClass:"popup__info-btn",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.emitOpenSingIn.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("popups.reg.info.login"))+" ")])])],1)])])},F=[],j=s(8506),L={name:"PopupReg",components:{HelpInfo:N,VueRecaptcha:j.Z},directives:{ClickOutside:d()},data(){return{name:"",email:"",password:"",errors:{name:!1,email:{null:!1,wrong:!1},password:!1,unknown_request:!1},success_reg:!1,sitekey:"6LcfRowgAAAAAJ17IBWsDRjaB-tyPxzEmXQ13RQB"}},methods:{onCaptchaExpired(){this.$refs.recaptcha.reset()},async register(t){console.log(t),this.token=t,await h.post("/user/register/user",{first_name:this.name,email:this.email,token:this.token,credetinal:{type:1,login:this.email,password:this.password,token:""}}).then((t=>{this.success_reg=!0,setTimeout((()=>{this.$store.dispatch("setUser",t.data.data[0]),localStorage.setItem("user",JSON.stringify(t.data.data[0])),localStorage.setItem("ref",t.data.data[0].session.ref),h.defaults.headers.common.Authorization=t.data.data[0].session.ref,this.$store.dispatch("popupReg",!1),window.location.reload()}),1e3)})).catch((t=>{console.log(t),this.errors.unknown_request=!0}))},validate(){if(this.token=null,this.errors.name=!1,this.errors.email.null=!1,this.errors.email.wrong=!1,this.errors.password=!1,this.success_reg=!1,this.errors.unknown_request=!1,""==this.name)return this.errors.name=!0,!1;function t(t){const e=/\S+@\S+\.\S+/;return e.test(t)}return this.email?t(this.email)?""==this.password?(this.errors.password=!0,!1):void this.$refs.recaptcha.execute():(this.errors.email.wrong=!0,!1):(this.errors.email.null=!0,!1)},emitOpenSingIn(){this.$store.dispatch("popupSignIn",!0),this.$store.dispatch("popupReg",!1)},emitClose(){this.$store.dispatch("popupReg",!1)}}},U=L,q=(0,x.Z)(U,R,F,!1,null,null,null),G=q.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup"},[s("div",{staticClass:"popup__body"},[s("form",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.emitClose,expression:"emitClose"}],staticClass:"popup__content",on:{submit:function(e){return e.preventDefault(),t.validate.apply(null,arguments)}}},[s("h2",{staticClass:"popup__title"},[t._v(t._s(t.$t("popups.pass_recovery.title")))]),s("div",{staticClass:"popup__inputs"},[s("div",{staticClass:"popup__input input-popup"},[s("h4",{staticClass:"input-popup__title"},[t._v(" "+t._s(t.$t("popups.pass_recovery.input_email.title"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input-popup__input",attrs:{type:"text",placeholder:t.$t("popups.pass_recovery.input_email.placeholder")},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),s("vue-recaptcha",{ref:"recaptcha",attrs:{size:"invisible",sitekey:"6LcfRowgAAAAAJ17IBWsDRjaB-tyPxzEmXQ13RQB"},on:{verify:t.register,expired:t.onCaptchaExpired}}),t.error.null?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.inputs.email.null"))+" ")]):t._e(),t.error.wrong?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.inputs.email.wrong"))+" ")]):t._e(),t.error.unknown_request?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.unknown_request"))+" ")]):t._e(),s("button",{staticClass:"popup__btn",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("popups.pass_recovery.btn"))+" ")]),s("help-info",{staticClass:"popup__info",attrs:{color_style:"green",icon_style:"black"}},[t._v(" "+t._s(t.$t("popups.pass_recovery.info.text1"))+" "),s("button",{staticClass:"popup__info-btn",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.openSingIn()}}},[t._v(" "+t._s(t.$t("popups.pass_recovery.info.login"))+" ")])])],1)])])},W=[],z={name:"PopupPassRecovery",components:{HelpInfo:N,VueRecaptcha:j.Z},directives:{ClickOutside:d()},data(){return{email:"sanyok.vergun2@gmail.com",error:{unknown_request:!1,wrong:!1,null:!1},token:"",sitekey:"6LcfRowgAAAAAJ17IBWsDRjaB-tyPxzEmXQ13RQB"}},methods:{onCaptchaExpired(){this.$refs.recaptcha.reset()},async register(t){this.token=t;var e=document.location.protocol+"//"+document.location.host;await h.post("/user/password/reset",{email:this.email,url:e+"/pass_recovery/",token:this.token}).then((t=>{this.emitClose(),this.$emit("openCodeWaiting")})).catch((t=>{console.log(t),this.error.unknown_request=!0}))},async validate(){function t(t){const e=/\S+@\S+\.\S+/;return e.test(t)}return this.error.null=!1,this.error.wrong=!1,this.email?t(this.email)?void this.$refs.recaptcha.execute():(this.error.wrong=!0,!1):(this.error.null=!0,!1)},openSingIn(){this.emitClose(),this.$store.dispatch("popupSignIn",!0)},emitClose(){this.$emit("closePopup")}}},Y=z,J=(0,x.Z)(Y,B,W,!1,null,null,null),Q=J.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup"},[s("div",{staticClass:"popup__body"},[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.emitClose,expression:"emitClose"}],staticClass:"popup__content"},[s("h2",{staticClass:"popup__title"},[t._v(t._s(t.$t("popups.code_waiting.title")))]),s("help-info",{staticClass:"popup__info",attrs:{color_style:"green",icon_style:"black"}},[t._v(" "+t._s(t.$t("popups.code_waiting.info1"))+" ")]),s("help-info",{staticClass:"popup__info",attrs:{color_style:"green",icon_style:"black"}},[t._v(" "+t._s(t.$t("popups.code_waiting.info2"))+" ")]),s("button",{staticClass:"popup__btn",attrs:{type:"button"},on:{click:t.emitClose}},[t._v(" "+t._s(t.$t("popups.code_waiting.btn"))+" ")])],1)])])},X=[],tt={name:"PopupCodeWaiting",components:{HelpInfo:N},directives:{ClickOutside:d()},methods:{emitClose(){this.$emit("closePopup")}}},et=tt,st=(0,x.Z)(et,K,X,!1,null,"24e43d7a",null),it=st.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup"},[s("div",{staticClass:"popup__body"},[s("form",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.emitClose,expression:"emitClose"}],staticClass:"popup__content",on:{submit:function(e){return e.preventDefault(),t.sendNewPass.apply(null,arguments)}}},[s("h2",{staticClass:"popup__title"},[t._v(t._s(t.$t("popups.change_pass.title")))]),s("div",{staticClass:"popup__inputs"},[s("div",{staticClass:"popup__input input-popup"},[s("h4",{staticClass:"input-popup__title"},[t._v(" "+t._s(t.$t("popups.change_pass.old_pass.title"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.old_password,expression:"old_password"}],staticClass:"input-popup__input",attrs:{type:"password",placeholder:t.$t("popups.change_pass.old_pass.placeholder")},domProps:{value:t.old_password},on:{input:function(e){e.target.composing||(t.old_password=e.target.value)}}})]),s("div",{staticClass:"popup__input input-popup"},[s("h4",{staticClass:"input-popup__title"},[t._v(" "+t._s(t.$t("popups.new_pass.input_login.title"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password1,expression:"password1"}],staticClass:"input-popup__input",attrs:{type:"password",placeholder:t.$t("popups.new_pass.input_login.placeholder")},domProps:{value:t.password1},on:{input:function(e){e.target.composing||(t.password1=e.target.value)}}})]),s("div",{staticClass:"popup__input input-popup"},[s("h4",{staticClass:"input-popup__title"},[t._v(" "+t._s(t.$t("popups.new_pass.input_pass.title"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"input-popup__input",attrs:{type:"password",placeholder:t.$t("popups.new_pass.input_pass.placeholder")},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}})])]),t.errors.null?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.new_pass.null"))+" ")]):t._e(),t.errors.not_match?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.new_pass.not_match"))+" ")]):t._e(),t.errors.unknown_request?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.unknown_request"))+" ")]):t._e(),t.success_password?s("p",{staticClass:"popup__success"},[t._v(" "+t._s(t.$t("success.change_password"))+" ")]):t._e(),s("button",{staticClass:"popup__btn",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("popups.new_pass.btn"))+" ")])])])])},ot=[],rt={name:"PopupNewPass",components:{},data(){return{old_password:null,password1:null,password2:null,token:"",errors:{null:!1,not_match:!1,unknown_request:!1},success_password:!1}},directives:{ClickOutside:d()},methods:{emitClose(){this.$store.dispatch("popupChangePass",!1)},async sendNewPass(){return this.errors.unknown_request=!1,this.errors.null=!1,this.errors.not_match=!1,""==this.password1||null==this.password1||""==this.password2||null==this.password2||null==this.old_password||""==this.old_password?(this.errors.null=!0,!1):this.password1!=this.password2?(this.errors.not_match=!0,!1):void await h.post("/user/password/change",{old_password:this.old_password,new_password:this.password1}).then((t=>{this.success_password=!0,setTimeout((()=>{console.log(t.data.data[0]),this.$store.dispatch("deleteUser"),localStorage.removeItem("user"),localStorage.removeItem("ref"),h.defaults.headers.common.Authorization="",window.location.reload()}),1e3)})).catch((t=>{console.log(t),this.errors.unknown_request=!0}))}},created(){},mounted(){this.success_password=!1}},nt=rt,ct=(0,x.Z)(nt,at,ot,!1,null,null,null),lt=ct.exports,ut={name:"ServicesMain",components:{VHeader:f,VFooter:E,PopupSignIn:Z,PopupReg:G,PopupPassRecovery:Q,PopupCodeWaiting:it,PopupChangePass:lt},data(){return{popup_pass_recovery:!1,popup_code_waiting:!1}},methods:{},created(){if(this.$store.dispatch("setUser",JSON.parse(localStorage.getItem("user"))),localStorage.getItem("user")){const t=localStorage.getItem("ref");h.defaults.headers.common.Authorization=t}},mounted(){}},dt=ut,_t=(0,x.Z)(dt,r,n,!1,null,null,null),pt=_t.exports,mt={name:"App",components:{ServicesMain:pt}},ht=mt,gt=(0,x.Z)(ht,a,o,!1,null,null,null),vt=gt.exports,xt=s(8345),Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"excursions-home"},[i("div",{staticClass:"excursions-home__banner"},[i("img",{staticClass:"excursions-home__banner-bg--tablet",attrs:{src:s(9397),alt:""}}),i("img",{staticClass:"excursions-home__banner-bg--mobile",attrs:{src:s(3373),alt:""}}),i("div",{staticClass:"container-xl"},[i("h1",{staticClass:"excursions-home__title"},[t._v(" "+t._s(t.$t("excursions.client.home.banner.title"))+" ")]),i("p",{staticClass:"excursions-home__descr"},[t._v(" "+t._s(t.$t("excursions.client.home.banner.descr",{count:t.all_cities_count}))+" ")]),i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeSearch,expression:"closeSearch"}],staticClass:"excursions-home__search excursions-search"},[i("div",{staticClass:"excursions-search__input-box"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search_input,expression:"search_input",modifiers:{trim:!0}}],staticClass:"excursions-search__input",attrs:{type:"text",placeholder:t.$t("excursions.client.search.placeholder")},domProps:{value:t.search_input},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.search_input&&t.searchResults()},input:[function(e){e.target.composing||(t.search_input=e.target.value.trim())},function(e){t.search_open=!1}],blur:function(e){return t.$forceUpdate()}}}),t.search_open?i("div",{staticClass:"excursions-search__input-body"},[t._l(t.search_answers,(function(e,s){return i("router-link",{key:s,staticClass:"excursions-search__item",attrs:{to:e.city?{name:"ExcursionsTown",params:{country_name:e.country,city_name:e.city}}:{name:"ExcursionsCountry",params:{country_name:e.country}},type:"button"}},[i("span",{staticClass:"excursions-search__item-mark icon icon-mark"}),i("span",{staticClass:"excursions-search__item-text"},[i("span",{staticClass:"excursions-search__item-text-main",domProps:{innerHTML:t._s(e.city?e.city:e.country)}}),e.city?i("span",{staticClass:"excursions-search__item-text-secondary",domProps:{innerHTML:t._s(e.country)}}):t._e()]),i("span",{staticClass:"excursions-search__amount",domProps:{innerHTML:t._s(t.calcExcursions(e.count))}})])})),0==t.search_answers.length?i("div",{staticClass:"excursions-search__empty"},[t._v(" "+t._s(t.$t("excursions.client.search.empty"))+" ")]):t._e()],2):t._e()]),i("button",{staticClass:"excursions-search__find",attrs:{type:"button"},on:{click:function(e){t.search_input&&t.searchResults()}}},[t._v(" "+t._s(t.$t("excursions.client.search.btn"))+" ")])])])]),i("div",{staticClass:"excursions-home__towns"},[i("div",{staticClass:"container-xl"},[i("div",{staticClass:"excursions-home__towns-content"},[i("h2",{staticClass:"excursions-home__subtitle"},[t._v(" "+t._s(t.$t("excursions.client.home.popular_towns"))+" ")]),i("div",{staticClass:"excursions-home__towns-wrap"},t._l(t.towns,(function(t,e){return i("card-town",{key:e,attrs:{town:t}})})),1)])])]),i("div",{staticClass:"excursions-home__articles"},[i("div",{staticClass:"container-xl"},[i("div",{staticClass:"excursions-home__articles-content"},[i("h2",{staticClass:"excursions-home__subtitle"},[t._v(" "+t._s(t.$t("excursions.client.home.watch_articles"))+" ")]),i("div",{staticClass:"excursions-home__articles-wrap"},t._l(t.articles,(function(t,e){return i("card-article",{key:e,attrs:{article:t}})})),1),t.show_btn_more?i("button",{staticClass:"excursions-home__articles-more",domProps:{innerHTML:t._s(t.forMobile())},on:{click:function(e){return t.moreArticles()}}}):t._e()])])]),i("router-view")],1)},ft=[],bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-link",{staticClass:"card-town",attrs:{to:{name:"ExcursionsTown",params:{country_name:t.town.country,city_name:t.town.city}}}},[t.image.data[0]?s("img",{staticClass:"card-town__img",attrs:{src:"data:image/jpg;base64,"+t.image.data,alt:""}}):t._e(),s("div",{staticClass:"card-town__content"},[s("h5",{staticClass:"card-town__name"},[t._v(t._s(t.town.city))]),s("p",{staticClass:"card-town__amount-excursions",domProps:{innerHTML:t._s(t.calcExcursions)}})])])},yt=[],wt={name:"CardTown",data(){return{image:{data:[]},count:0}},props:{town:{default(){return{city:"",image:null}}}},computed:{calcExcursions:function(){const t=async()=>{await h.get(`/guide/count?city=${this.town.city}`).then((t=>{t.data.data[0].count&&(this.count=t.data.data[0].count)})).catch((function(t){console.log(t)}))};t();var e=this.count.toString().slice(-1),s=this.count.toString().slice(-2);return 11!=s&&1==e?this.count+this.$t("excursions.client.amount_excursions.one"):2!=e&&3!=e&&4!=e||12==s||13==s||14==s?this.count+this.$t("excursions.client.amount_excursions.another"):this.count+this.$t("excursions.client.amount_excursions.two_to_four")}},methods:{getImage(){h.get(`/enums/cityphoto?city=${this.town.city}`).then((t=>{t.data.data[0]&&(this.image=t.data.data[0])})).catch((function(t){console.log(t)}))}},created(){const t=this.$route.params.country_name;t&&(this.current_country=t);const e=this.$route.params.city_name;e&&(this.current_city=e)},mounted(){this.getImage()}},kt=wt,$t=(0,x.Z)(kt,bt,yt,!1,null,"45a7199e",null),Et=$t.exports,St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-article"},[s("div",{staticClass:"card-article__image"},[""!=t.image.data?s("img",{attrs:{src:"data:image/"+t.fixFormat+";base64,"+t.image.data,alt:""}}):t._e()]),s("div",{staticClass:"card-article__text"},[s("h4",{staticClass:"card-article__title",domProps:{innerHTML:t._s(t.article.title)}}),s("div",{staticClass:"card-article__row"},[s("p",{staticClass:"card-article__date",domProps:{innerHTML:t._s(t.newDate)}}),s("p",{staticClass:"card-article__type",domProps:{innerHTML:t._s(t.type)}},[t._v("some type")])]),s("p",{staticClass:"card-article__descr",domProps:{innerHTML:t._s(t.article.short_description)}})])])},Pt=[],Mt={name:"CardArticle",data(){return{image:{id:null,primary:null,name:null,extension:".jpg",size:null,basemediamodel_ptr:null,owner:null,data:""},type:"Путешествия"}},props:{article:{default(){return{id:null,date:"-",owner:null,title:null,short_description:null,text:null,active:null,user:{id:null,privilegies:null,first_name:null,middle_name:null,last_name:null,email:null,phone:null,passport:null,timezone:null}}}}},methods:{async getImage(){await h.get(`/blog/media/${this.article.id}`).then((t=>{this.image=t.data.data[0]})).catch((function(t){console.log(t)}))}},computed:{fixFormat(){return this.image.extension.slice(1)},newDate(){const t=this.article.date,e=t.slice(0,4),s=t.slice(5,7),i=t.slice(8,10);return s+"."+i+"."+e}},mounted(){this.getImage()}},Dt=Mt,Ht=(0,x.Z)(Dt,St,Pt,!1,null,"83ceb55e",null),Tt=Ht.exports,Vt={name:"ExcursionsHome",components:{CardTown:Et,CardArticle:Tt},directives:{ClickOutside:d()},data(){return{all_cities_count:"-",search_input:null,search_open:!1,search_answers:[],towns:[],articles:[],amount_articles:3,show_btn_more:!0}},methods:{closeSearch(){this.search_open=!1},searchResults(){const t=async()=>{await h.get(`/guide/count?limit=20&country__icontains=${this.search_input}`).then((async t=>{const e=t.data.data,s=[...new Set(e.map((t=>t.country)))],i=[];await s.forEach((async t=>{var e=0;await h.get(`/guide/count/all?country=${t}`).then((t=>{const s=t.data.data;s.forEach((t=>{e+=t.count}))})).catch((function(t){console.log(t)}));const s={country:t,count:e};i.push(s),i.sort((function(t,e){return t.count>e.count?-1:t.count<e.count?1:void 0}))})),e.forEach((t=>{i.push(t)})),i.sort((function(t,e){return t.count>e.count?-1:t.count<e.count?1:void 0})),this.search_answers=i,this.search_open=!0})).catch((function(t){console.log(t)}))};t()},calcExcursions:function(t){var e=t.toString().slice(-1),s=t.toString().slice(-2);return 11!=s&&1==e?t+" экскурсия":2!=e&&3!=e&&4!=e||12==s||13==s||14==s?t+" экскурсий":t+" экскурсии"},forMobile(){return window.innerWidth<575?this.$t("excursions.client.home.show_more.mobile"):this.$t("excursions.client.home.show_more.desktop")},async getArticles(){await h.get(`/blog?last_id=${this.amount_articles+1}`).then((t=>{this.articles=t.data.data})).catch((function(t){console.log(t)}))},async moreArticles(){this.amount_articles+=6,await this.getArticles(),this.amount_articles>this.articles.length&&(this.show_btn_more=!1)},async calcCities(){await h.get("/guide/rating").then((t=>{this.all_cities_count=t.data.data.length})).catch((function(t){console.log(t)}))}},async mounted(){const t=async()=>{await h.get("/guide/rating?limit=10").then((t=>{const e=t.data.data;this.towns=e})).catch((function(t){console.log(t)}))};t(),window.innerWidth<992&&window.innerWidth>=768&&(this.amount_articles=4),this.getArticles(),await this.calcCities()}},Nt=Vt,Ot=(0,x.Z)(Nt,Ct,ft,!1,null,"1f72d63a",null),At=Ot.exports,It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"excursions-country"},[s("div",{staticClass:"excursions-country__banner"},[s("div",{staticClass:"excursions-country__banner-bg"},[s("img",{attrs:{src:"data:image/jpg;base64,"+t.banner_image.data,alt:""}})]),s("div",{staticClass:"container-xl"},[s("h1",{staticClass:"excursions-country__title"},[t._v(" "+t._s(t.$t("excursions.client.country.banner.title",{country:t.current_country}))+" ")]),s("p",{staticClass:"excursions-country__descr"},[t._v(" "+t._s(t.calcExcursions(t.excurtions_count)+t.$t("excursions.client.country.banner.descr")+t.calcTowns())+" ")]),s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeSearch,expression:"closeSearch"}],staticClass:"excursions-country__search excursions-search"},[s("div",{staticClass:"excursions-search__input-box"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.search_input,expression:"search_input",modifiers:{trim:!0}}],staticClass:"excursions-search__input",attrs:{type:"text",placeholder:t.$t("excursions.client.search.placeholder")},domProps:{value:t.search_input},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.search_input&&t.searchResults()},input:[function(e){e.target.composing||(t.search_input=e.target.value.trim())},function(e){t.search_open=!1}],blur:function(e){return t.$forceUpdate()}}}),t.search_open?s("div",{staticClass:"excursions-search__input-body"},[t._l(t.search_answers,(function(e,i){return s("router-link",{key:i,staticClass:"excursions-search__item",attrs:{to:{name:"ExcursionsTown",params:{country_name:e.country,city_name:e.city}},type:"button"}},[s("span",{staticClass:"excursions-search__item-mark icon icon-mark"}),s("span",{staticClass:"excursions-search__item-text"},[s("span",{staticClass:"excursions-search__item-text-main",domProps:{innerHTML:t._s(e.city?e.city:e.country)}}),e.city?s("span",{staticClass:"excursions-search__item-text-secondary",domProps:{innerHTML:t._s(e.country)}}):t._e()]),s("span",{staticClass:"excursions-search__amount",domProps:{innerHTML:t._s(t.calcExcursions(e.count))}})])})),0==t.search_answers.length?s("div",{staticClass:"excursions-search__empty"},[t._v(" "+t._s(t.$t("excursions.client.search.empty"))+" ")]):t._e()],2):t._e()]),s("button",{staticClass:"excursions-search__find",attrs:{type:"button"},on:{click:function(e){t.search_input&&t.searchResults()}}},[t._v(" "+t._s(t.$t("excursions.client.search.btn"))+" ")])])])]),s("div",{staticClass:"excursions-country__towns"},[s("div",{staticClass:"container-xl"},[s("div",{staticClass:"excursions-country__towns-content"},[s("h2",{staticClass:"excursions-country__subtitle"},[t._v("Популярные города")]),s("div",{staticClass:"excursions-country__towns-wrap"},t._l(t.towns,(function(t,e){return s("card-town",{key:e,attrs:{town:t}})})),1)])])]),s("div",{staticClass:"excursions-country__excursions"},[s("div",{staticClass:"container-xl"},[s("div",{staticClass:"excursions-country__excursions-content"},[s("h2",{staticClass:"excursions-country__subtitle"},[t._v(" "+t._s(t.$t("excursions.client.country.popular_excursions",{country:t.current_country}))+" ")]),s("div",{staticClass:"excursions-country__excursions-wrap"},t._l(t.excursions,(function(t,e){return s("router-link",{key:e,attrs:{to:{name:"ExcursionPage",params:{id:t.id}}}},[s("card-excursion",{attrs:{excursion:t}})],1)})),1),t.show_btn_more?s("button",{staticClass:"excursions-country__excursions-more",domProps:{innerHTML:t._s(t.forMobile())},on:{click:function(e){return t.moreExcursions()}}}):t._e()])])])])},Zt=[],Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-excursion"},[s("div",{staticClass:"card-excursion__image"},[""!=t.image.data?s("img",{attrs:{src:"data:image/"+t.photo_owner.extension.slice(1)+";base64,"+t.image.data,alt:""}}):t._e()]),s("div",{staticClass:"card-excursion__text"},[s("div",{staticClass:"card-excursion__photo"},[s("img",{attrs:{src:"data:image/"+t.photo_owner.extension.slice(1)+";base64,"+t.photo_owner.data,alt:""}})]),s("div",{staticClass:"card-excursion__mark"},[s("span",{staticClass:"card-excursion__mark-icon icon icon-mark"}),t._v(" "+t._s(t.excursion.city)+" ")]),s("h4",{staticClass:"card-excursion__title"},[t._v(t._s(t.excursion.subject))]),s("p",{staticClass:"card-excursion__descr"},[t._v(" "+t._s(t.excursion.subtitle)+" ")]),s("div",{staticClass:"card-excursion__price"},[1!=t.excursion.discount?s("span",{staticClass:"card-excursion__sum-discount"},[t._v(" "+t._s("€"+t.excursion.guideprices[0].price)+" ")]):t._e(),s("span",{staticClass:"card-excursion__sum"},[t._v(" "+t._s(1==t.excursion.discount?"€"+t.excursion.guideprices[0].price:"€"+t.calcDiscount)+" ")]),s("span",{staticClass:"card-excursion__price-text"},[t._v(" "+t._s("person"==t.excursion.cost_type?t.$t("excursions.client.card_excursion.cost_type.person"):t.$t("excursions.client.card_excursion.cost_type.excursion"))+" ")])]),t.my_excursion?s("div",{staticClass:"card-excursion__my"},[s("div",{staticClass:"card-excursion__btns"},[s("router-link",{staticClass:"card-excursion__button icon icon-pencil",attrs:{to:{name:"GuideEditExcursion",params:{id:t.excursion.id}}}}),s("button",{staticClass:"card-excursion__button icon icon-eye"})],1),s("label",{staticClass:"card-excursion__show-checkbox",on:{click:t.changeVisibility}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.show_excursion,expression:"show_excursion"}],staticClass:"card-excursion__show-checkbox-input",attrs:{type:"checkbox",disabled:""},domProps:{checked:Array.isArray(t.show_excursion)?t._i(t.show_excursion,null)>-1:t.show_excursion},on:{change:function(e){var s=t.show_excursion,i=e.target,a=!!i.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);i.checked?r<0&&(t.show_excursion=s.concat([o])):r>-1&&(t.show_excursion=s.slice(0,r).concat(s.slice(r+1)))}else t.show_excursion=a}}}),s("span",{staticClass:"card-excursion__show-checkbox-style"})])]):t._e()])])},Ft=[],jt={name:"CardExcursion",data(){return{show_excursion:!1,photo_owner:{id:null,primary:!0,name:"name",extension:".jpeg",size:null,basemediamodel_ptr:null,owner:null,data:""},image:{id:null,primary:null,name:null,extension:".jpg",size:null,basemediamodel_ptr:null,owner:null,data:""}}},computed:{calcDiscount(){let t=this.excursion.guideprices[0].price*this.excursion.discount;return t.toFixed(0)}},methods:{getImage(){h.get(`/guide/media/${this.excursion.id}`).then((t=>{t.data.data[0]&&(this.image=t.data.data[0])})).catch((function(t){console.log(t)}))},getPhotoOwner(){h.get(`/user/${this.excursion.owner}`).then((t=>{t.data.data[0]&&(this.photo_owner=t.data.data[0].photo[0])})).catch((t=>{console.log(t)}))},async changeVisibility(){console.log(this.show_excursion),await h.get(`/guide/${this.excursion.id}/visible`).then((t=>{this.show_excursion=t.data.data[0].active})).catch((t=>{console.log(t)}))}},mounted(){this.excursion.id&&this.getImage(),this.excursion.id&&this.getPhotoOwner(),this.show_excursion=this.excursion.active},props:{my_excursion:{type:Boolean,default(){return!1}},excursion:{default(){return{id:null,subject:"Title",subtitle:null,description:null,details:null,country:null,city:null,lang:null,duration:0,number:null,children_allowed:!1,moves:"На авто",type:"groups",expire:null,has_common_point:!0,expect_point:null,exact_point:null,cost_type:"person",price_type:"tickets",min_price:null,currency:"USD",discount:null,discount_expire:null,conductor_type:"company",conductor_description:null,active:!0,moderate:!0,hide:!1,owner:null,guideplan:[{id:null,subject:null,description:null,roadtime:null,stoptime:null,owner:null}],guideschedule:[{id:null,day:null,start:null,end:null,owner:null}],guideprices:[{id:null,type:null,name:"Стандартный билет",price:null,currency:"USD",owner:null}],guidediscountcalendar:[{id:null,discount:null,start:null,finish:null,owner:null}]}}}}},Lt=jt,Ut=(0,x.Z)(Lt,Rt,Ft,!1,null,"17744505",null),qt=Ut.exports,Gt={name:"ExcursionsCountry",components:{CardTown:Et,CardExcursion:qt},directives:{ClickOutside:d()},data(){return{current_country:"Франция",banner_image:{data:[]},excurtions_count:0,towns_count:0,search_input:null,search_open:!1,search_answers:[],towns:[],amount_excursions:3,excursions:[],show_btn_more:!0}},methods:{closeSearch(){this.search_open=!1},searchResults(){const t=async()=>{await h.get(`/guide/count?limit=20&country=${this.current_country}&city__icontains=${this.search_input}`).then((async t=>{const e=t.data.data,s=[];e.forEach((t=>{s.push(t)})),s.sort((function(t,e){return t.count>e.count?-1:t.count<e.count?1:void 0})),this.search_answers=s,this.search_open=!0})).catch((function(t){console.log(t)}))};t()},forMobile(){return window.innerWidth<575?this.$t("excursions.client.home.show_more.mobile"):this.$t("excursions.client.home.show_more.desktop")},calcExcursions(t){const e=t.toString().slice(-1),s=t.toString().slice(-2);return 11!=s&&1==e?t+" экскурсия":2!=e&&3!=e&&4!=e||12==s||13==s||14==s?t+" экскурсий":t+" экскурсии"},calcTowns(){const t=async()=>{await h.get(`/guide/rating?country=${this.current_country}`).then((t=>{this.towns_count=t.data.data.length})).catch((function(t){console.log(t)}))};t();var e=this.towns_count.toString().slice(-1),s=this.towns_count.toString().slice(-2);return 11!=s&&1==e?this.towns_count+this.$t("excursions.client.amount_towns.one"):2!=e&&3!=e&&4!=e||12==s||13==s||14==s?this.towns_count+this.$t("excursions.client.amount_towns.another"):this.towns_count+this.$t("excursions.client.amount_towns.two_to_four")},async getBannerImage(){await h.get(`/enums/cityphoto?country=${this.current_country}`).then((t=>{t.data.data[0]&&(this.banner_image=t.data.data[0])})).catch((function(t){console.log(t)}))},async getExcursions(){await h.get(`/guide?country=${this.current_country}&limit=${this.amount_excursions}`).then((t=>{this.excursions=t.data.data})).catch((function(t){console.log(t)}))},async moreExcursions(){this.amount_excursions+=6,await this.getExcursions(),this.amount_excursions>this.excursions.length&&(this.show_btn_more=!1)},async setCountExcursionsInCountry(){await h.get(`/guide/count/all?country=${this.current_country}`).then((t=>{const e=t.data.data;e.length&&e.forEach((t=>{this.excurtions_count+=t.count}))})).catch((function(t){console.log(t)}))}},computed:{},created(){const t=this.$route.params.country_name;t&&(this.current_country=t)},mounted(){this.getBannerImage();const t=async()=>{await h.get(`/guide/rating?limit=5&country=${this.current_country}`).then((t=>{const e=t.data.data;this.towns=e})).catch((function(t){console.log(t)}))};t(),window.innerWidth<992&&window.innerWidth>=768&&(this.amount_excursions=4),this.getExcursions(),this.setCountExcursionsInCountry()}},Bt=Gt,Wt=(0,x.Z)(Bt,It,Zt,!1,null,"3e806512",null),zt=Wt.exports,Yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"excursions-city"},[s("div",{staticClass:"excursions-in-city__head head-city"},[s("div",{staticClass:"container-xl"},[s("div",{staticClass:"head-city__content"},[s("div",{staticClass:"head-city__title"},[t._v(" "+t._s(t.$t("excursions.client.city.banner.title",{city:t.current_city}))+" ")]),s("div",{staticClass:"head-city__sub-title",domProps:{innerHTML:t._s(t.calcExcursions(t.excurtions_count))}}),s("div",{staticClass:"head-city__description"},[t._v(" "+t._s(t.$t("excursions.client.city.banner.descr",{min_price:t.min_price}))+" ")]),s("div",{staticClass:"filter-post__content filter-post__content_mob"},[s("div",{staticClass:"filter-post__list filter-post__list_mob"},[t.tags.length?s("button",{staticClass:"filter-post__item filter-post__item_mob",attrs:{type:"button"}},[t._v(" "+t._s(t.$t("excursions.client.city.tags.all"))+" "+t._s(t.excurtions_count)+" ")]):t._e(),t._l(t.tags,(function(e,i){return s("button",{directives:[{name:"show",rawName:"v-show",value:i<t.tags_limit||null==t.tags_limit,expression:"index < tags_limit || tags_limit == null"}],key:i,staticClass:"filter-post__item filter-post__item_mob",class:{active:e.checked},attrs:{type:"button"},on:{click:function(s){return t.searchByTags(e)}}},[t._v(" "+t._s(e.tag)+" "+t._s(e.count)+" ")])})),t.tags.length>t.tags_limit&&null!=t.tags_limit?s("button",{staticClass:"filter-post__item filter-post__item_mob",attrs:{type:"button"},on:{click:function(e){t.tags_limit=null}}},[t._v(" "+t._s(t.$t("excursions.client.city.tags.more"))+" ")]):t._e()],2)])])]),s("div",{staticClass:"head-city__bg"},[t.banner_image.data.length?s("img",{attrs:{src:"data:image/jpg;base64,"+t.banner_image.data,alt:""}}):t._e()])]),s("div",{staticClass:"excursions-in-city__filter-post filter-post"},[s("div",{staticClass:"container-xl"},[s("div",{staticClass:"filter-post__content"},[s("div",{staticClass:"filter-post__list"},[t.tags.length?s("button",{staticClass:"filter-post__item",class:{active:t.tags_all_checked},attrs:{type:"button"},on:{click:function(e){return t.crearTags()}}},[t._v(" "+t._s(t.$t("excursions.client.city.tags.all"))+" "+t._s(t.excurtions_count)+" ")]):t._e(),t._l(t.tags,(function(e,i){return s("button",{directives:[{name:"show",rawName:"v-show",value:i<t.tags_limit||null==t.tags_limit,expression:"index < tags_limit || tags_limit == null"}],key:i,staticClass:"filter-post__item",class:{active:e.checked},attrs:{type:"button"},on:{click:function(s){return t.searchByTags(e)}}},[t._v(" "+t._s(e.tag)+" "+t._s(e.count)+" ")])})),t.tags.length>t.tags_limit&&null!=t.tags_limit?s("button",{staticClass:"filter-post__item",attrs:{type:"button"},on:{click:function(e){t.tags_limit=null}}},[t._v(" "+t._s(t.$t("excursions.client.city.tags.more"))+" ")]):t._e()],2)])])]),s("div",{staticClass:"excursions-in-city__deep-options deep-options"},[s("div",{staticClass:"container-xl"},[s("div",{staticClass:"deep-options__content"},[s("div",{staticClass:"deep-options__list"},[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideFilterDate,expression:"hideFilterDate"}],staticClass:"deep-options__item",class:{active:t.filter_date}},[s("button",{staticClass:"deep-options__item-head",attrs:{type:"button"},on:{click:function(e){t.filter_date=!t.filter_date}}},[s("span",{staticClass:"deep-options__icon"},[s("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("g",{attrs:{"clip-path":"url(#clip0_1_8877)"}},[s("path",{attrs:{d:"M22 2.25001H18.75V0.750012C18.7501 0.551099 18.6712 0.360281 18.5307 0.219535C18.3901 0.0787893 18.1994 -0.000355495 18.0005 -0.000488103C17.8016 -0.000620711 17.6108 0.0782697 17.47 0.218828C17.3293 0.359387 17.2501 0.550099 17.25 0.749012V2.25001H12.75V0.750012C12.7501 0.65152 12.7307 0.553981 12.6931 0.462961C12.6555 0.371942 12.6003 0.289226 12.5307 0.219535C12.4611 0.149845 12.3784 0.0945453 12.2875 0.0567936C12.1965 0.0190419 12.099 -0.000422453 12.0005 -0.000488114C11.8016 -0.000620723 11.6108 0.0782697 11.47 0.218828C11.3293 0.359387 11.2501 0.550099 11.25 0.749012V2.25001H6.75V0.750012C6.75007 0.65152 6.73073 0.553981 6.6931 0.462961C6.65547 0.371942 6.60028 0.289226 6.53068 0.219535C6.46109 0.149845 6.37844 0.0945453 6.28747 0.0567936C6.19651 0.0190419 6.09899 -0.000422453 6.0005 -0.000488114C5.80159 -0.000620723 5.61077 0.0782697 5.47002 0.218828C5.32928 0.359387 5.25013 0.550099 5.25 0.749012V2.25001H2C1.46974 2.25001 0.961184 2.46059 0.58614 2.83544C0.211096 3.2103 0.00026513 3.71875 0 4.24901V21.999C0 22.5294 0.210714 23.0382 0.585786 23.4132C0.960859 23.7883 1.46957 23.999 2 23.999H22C22.5304 23.999 23.0391 23.7883 23.4142 23.4132C23.7893 23.0382 24 22.5294 24 21.999V4.24901C23.9997 3.71875 23.7889 3.2103 23.4139 2.83544C23.0388 2.46059 22.5303 2.25001 22 2.25001ZM22.5 22C22.5 22.1324 22.4475 22.2595 22.3539 22.3532C22.2604 22.447 22.1334 22.4997 22.001 22.5H2C1.86739 22.5 1.74021 22.4473 1.64645 22.3536C1.55268 22.2598 1.5 22.1326 1.5 22V4.25001C1.50026 4.11758 1.55306 3.99066 1.6468 3.8971C1.74054 3.80355 1.86756 3.75101 2 3.75101H5.25V5.25101C5.24987 5.44992 5.32876 5.64074 5.46932 5.78149C5.60988 5.92223 5.80059 6.00138 5.9995 6.00151C6.19841 6.00164 6.38923 5.92275 6.52998 5.7822C6.67072 5.64164 6.74987 5.45092 6.75 5.25201V3.75101H11.25V5.25101C11.2499 5.44992 11.3288 5.64074 11.4693 5.78149C11.6099 5.92223 11.8006 6.00138 11.9995 6.00151C12.1984 6.00164 12.3892 5.92275 12.53 5.7822C12.6707 5.64164 12.7499 5.45092 12.75 5.25201V3.75101H17.25V5.25101C17.2499 5.44992 17.3288 5.64074 17.4693 5.78149C17.6099 5.92223 17.8006 6.00138 17.9995 6.00151C18.1984 6.00164 18.3892 5.92275 18.53 5.7822C18.6707 5.64164 18.7499 5.45092 18.75 5.25201V3.75101H22C22.1323 3.75128 22.259 3.80393 22.3526 3.89746C22.4461 3.99098 22.4987 4.11775 22.499 4.25001L22.5 22Z",fill:"black"}}),s("path",{attrs:{d:"M5.25 9H8.25V11.25H5.25V9ZM5.25 12.75H8.25V15H5.25V12.75ZM5.25 16.5H8.25V18.75H5.25V16.5ZM10.5 16.5H13.5V18.75H10.5V16.5ZM10.5 12.75H13.5V15H10.5V12.75ZM10.5 9H13.5V11.25H10.5V9ZM15.75 16.5H18.75V18.75H15.75V16.5ZM15.75 12.75H18.75V15H15.75V12.75ZM15.75 9H18.75V11.25H15.75V9Z",fill:"black"}})]),s("defs",[s("clipPath",{attrs:{id:"clip0_1_8877"}},[s("rect",{attrs:{width:"24",height:"24",fill:"white"}})])])])]),s("p",{staticClass:"deep-options__name"},[t._v(" "+t._s(t.$t("excursions.client.city.filter.date"))+" ")]),s("span",{staticClass:"deep-options__arr icon icon-triangle-down"})]),t.filter_date?s("div",{staticClass:"deep-options__drop-price drop-date"},[s("date-picker",{attrs:{editable:!1,clearable:!1,"append-to-body":!1,"popup-style":{position:"static",width:"fit-content"},"popup-class":["datepicker"],"input-class":["datepicker__input"],open:!0,lang:t.langDatepicker,"title-format":"DD-MM-YYYY"},on:{input:function(e){return t.setDate()}},model:{value:t.datepicker,callback:function(e){t.datepicker=e},expression:"datepicker"}})],1):t._e()]),s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideFilterPeople,expression:"hideFilterPeople"}],staticClass:"deep-options__item",class:{active:t.filter_people}},[s("button",{staticClass:"deep-options__item-head",attrs:{type:"button"},on:{click:function(e){t.filter_people=!t.filter_people}}},[s("span",{staticClass:"deep-options__icon"},[s("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M22.5 21C22.5 21 24 21 24 19.5C24 18 22.5 13.5 16.5 13.5C10.5 13.5 9 18 9 19.5C9 21 10.5 21 10.5 21H22.5ZM10.533 19.5C10.5219 19.4985 10.5109 19.4965 10.5 19.494C10.5015 19.098 10.7505 17.949 11.64 16.914C12.468 15.9435 13.923 15 16.5 15C19.0755 15 20.5305 15.945 21.36 16.914C22.2495 17.949 22.497 19.0995 22.5 19.494L22.488 19.497C22.481 19.4982 22.474 19.4992 22.467 19.5H10.533ZM16.5 10.5C17.2956 10.5 18.0587 10.1839 18.6213 9.62132C19.1839 9.05871 19.5 8.29565 19.5 7.5C19.5 6.70435 19.1839 5.94129 18.6213 5.37868C18.0587 4.81607 17.2956 4.5 16.5 4.5C15.7044 4.5 14.9413 4.81607 14.3787 5.37868C13.8161 5.94129 13.5 6.70435 13.5 7.5C13.5 8.29565 13.8161 9.05871 14.3787 9.62132C14.9413 10.1839 15.7044 10.5 16.5 10.5ZM21 7.5C21 8.09095 20.8836 8.67611 20.6575 9.22208C20.4313 9.76804 20.0998 10.2641 19.682 10.682C19.2641 11.0998 18.768 11.4313 18.2221 11.6575C17.6761 11.8836 17.0909 12 16.5 12C15.9091 12 15.3239 11.8836 14.7779 11.6575C14.232 11.4313 13.7359 11.0998 13.318 10.682C12.9002 10.2641 12.5687 9.76804 12.3425 9.22208C12.1164 8.67611 12 8.09095 12 7.5C12 6.30653 12.4741 5.16193 13.318 4.31802C14.1619 3.47411 15.3065 3 16.5 3C17.6935 3 18.8381 3.47411 19.682 4.31802C20.5259 5.16193 21 6.30653 21 7.5ZM10.404 13.92C9.80397 13.7311 9.18545 13.6069 8.559 13.5495C8.207 13.516 7.85359 13.4995 7.5 13.5C1.5 13.5 0 18 0 19.5C0 20.5005 0.4995 21 1.5 21H7.824C7.60163 20.5317 7.49074 20.0183 7.5 19.5C7.5 17.985 8.0655 16.437 9.135 15.144C9.4995 14.703 9.924 14.2905 10.404 13.92ZM7.38 15C6.49223 16.3339 6.01266 17.8977 6 19.5H1.5C1.5 19.11 1.746 17.955 2.64 16.914C3.4575 15.96 4.878 15.03 7.38 15.0015V15ZM2.25 8.25C2.25 7.05653 2.72411 5.91193 3.56802 5.06802C4.41193 4.22411 5.55653 3.75 6.75 3.75C7.94347 3.75 9.08807 4.22411 9.93198 5.06802C10.7759 5.91193 11.25 7.05653 11.25 8.25C11.25 9.44347 10.7759 10.5881 9.93198 11.432C9.08807 12.2759 7.94347 12.75 6.75 12.75C5.55653 12.75 4.41193 12.2759 3.56802 11.432C2.72411 10.5881 2.25 9.44347 2.25 8.25ZM6.75 5.25C5.95435 5.25 5.19129 5.56607 4.62868 6.12868C4.06607 6.69129 3.75 7.45435 3.75 8.25C3.75 9.04565 4.06607 9.80871 4.62868 10.3713C5.19129 10.9339 5.95435 11.25 6.75 11.25C7.54565 11.25 8.30871 10.9339 8.87132 10.3713C9.43393 9.80871 9.75 9.04565 9.75 8.25C9.75 7.45435 9.43393 6.69129 8.87132 6.12868C8.30871 5.56607 7.54565 5.25 6.75 5.25Z",fill:"black"}})])]),s("p",{staticClass:"deep-options__name"},[t._v(" "+t._s(t.$t("excursions.client.city.filter.people.title"))+" ")]),s("span",{staticClass:"deep-options__arr icon icon-triangle-down"})]),t.filter_people?s("div",{staticClass:"deep-options__drop-people drop-people"},[s("p",{staticClass:"drop-people__title"},[t._v(" "+t._s(t.$t("excursions.client.city.filter.people.subtitle"))+" ")]),s("div",{staticClass:"drop-people__counter"},[s("button",{staticClass:"drop-people__sub",attrs:{type:"button",disabled:1==t.filter_people_count},on:{click:t.filerPeopleCountMinus}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter_people_count,expression:"filter_people_count"}],staticClass:"drop-people__result",attrs:{type:"text",disabled:""},domProps:{value:t.filter_people_count},on:{input:function(e){e.target.composing||(t.filter_people_count=e.target.value)}}}),s("button",{staticClass:"drop-people__add",attrs:{type:"button",disabled:1e3==t.filter_people_count},on:{click:t.filerPeopleCountPlus}})])]):t._e()]),s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideFilterPrice,expression:"hideFilterPrice"}],staticClass:"deep-options__item",class:{active:t.filter_price}},[s("button",{staticClass:"deep-options__item-head",attrs:{type:"button"},on:{click:function(e){t.filter_price=!t.filter_price}}},[s("span",{staticClass:"deep-options__icon"},[s("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M19.2 17.41C18.6674 18.1822 17.9611 18.8188 17.1379 19.2686C16.3147 19.7184 15.3975 19.9689 14.46 20C11.78 20 9.46 18 8.46 15H14C14.2652 15 14.5196 14.8946 14.7071 14.7071C14.8946 14.5196 15 14.2652 15 14C15 13.7348 14.8946 13.4804 14.7071 13.2929C14.5196 13.1054 14.2652 13 14 13H8.05C8.05 12.67 8 12.33 8 12C8 11.67 8 11.33 8.05 11H14C14.2652 11 14.5196 10.8946 14.7071 10.7071C14.8946 10.5196 15 10.2652 15 10C15 9.73478 14.8946 9.48043 14.7071 9.29289C14.5196 9.10536 14.2652 9 14 9H8.47C9.47 6 11.78 4 14.47 4C15.4058 4.03267 16.321 4.28392 17.1424 4.73366C17.9637 5.1834 18.6684 5.81913 19.2 6.59C19.2706 6.71152 19.366 6.8168 19.48 6.89898C19.5939 6.98116 19.724 7.03839 19.8616 7.06694C19.9992 7.09549 20.1412 7.09472 20.2785 7.06468C20.4158 7.03464 20.5452 6.976 20.6583 6.8926C20.7714 6.80919 20.8656 6.70288 20.9349 6.58061C21.0041 6.45833 21.0468 6.32283 21.0602 6.18294C21.0736 6.04305 21.0573 5.90192 21.0125 5.76874C20.9676 5.63556 20.8952 5.51332 20.8 5.41C20.0877 4.38118 19.1418 3.53577 18.0398 2.94304C16.9378 2.35031 15.711 2.02714 14.46 2C10.7 2 7.46 4.84 6.39 9H4C3.73478 9 3.48043 9.10536 3.29289 9.29289C3.10536 9.48043 3 9.73478 3 10C3 10.2652 3.10536 10.5196 3.29289 10.7071C3.48043 10.8946 3.73478 11 4 11H6.05V13H4C3.73478 13 3.48043 13.1054 3.29289 13.2929C3.10536 13.4804 3 13.7348 3 14C3 14.2652 3.10536 14.5196 3.29289 14.7071C3.48043 14.8946 3.73478 15 4 15H6.39C7.48 19.16 10.7 22 14.46 22C15.711 21.9729 16.9378 21.6497 18.0398 21.057C19.1418 20.4642 20.0877 19.6188 20.8 18.59C20.9237 18.377 20.9644 18.1258 20.9144 17.8846C20.8643 17.6434 20.727 17.4292 20.5288 17.283C20.3305 17.1368 20.0853 17.0689 19.8401 17.0923C19.5949 17.1158 19.367 17.2289 19.2 17.41Z",fill:"black"}})])]),s("p",{staticClass:"deep-options__name"},[t._v(" "+t._s(t.$t("excursions.client.city.filter.price.title"))+" ")]),s("span",{staticClass:"deep-options__arr icon icon-triangle-down"})]),t.filter_price?s("div",{staticClass:"deep-options__drop-price drop-price"},[s("h4",{staticClass:"drop-price__title"},[t._v(" "+t._s(t.$t("excursions.client.city.filter.price.subtitle"))+" ")]),s("div",{staticClass:"drop-price__price"},[s("p",{staticClass:"drop-price__from"},[t._v(" "+t._s(t.$t("excursions.client.city.filter.price.from")+"€ "+t.range_slider_value[0])+" ")]),s("p",{staticClass:"drop-price__to"},[t._v(" "+t._s(t.$t("excursions.client.city.filter.price.to")+"€ "+t.range_slider_value[1])+" ")])]),s("vue-slider",{staticClass:"drop-price__slider",attrs:{min:t.range_slider_min_const,max:t.range_slider_max_const,order:!1,tooltip:"none","rail-style":{background:"#ECECEC",height:"3px"},"process-style":{background:"#41B619"},"dot-size":20,"dot-style":{background:"#41B619",border:"none"}},on:{"drag-end":function(e){return t.getSliderValue(t.range_slider_value)}},model:{value:t.range_slider_value,callback:function(e){t.range_slider_value=e},expression:"range_slider_value"}})],1):t._e()]),s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideFilterMove,expression:"hideFilterMove"}],staticClass:"deep-options__item",class:{active:t.filter_move}},[s("button",{staticClass:"deep-options__item-head",attrs:{type:"button"},on:{click:function(e){t.filter_move=!t.filter_move}}},[s("p",{staticClass:"deep-options__name"},[s("span",{staticClass:"deep-options__pc-text"},[t._v(" "+t._s(t.$t("excursions.client.city.filter.move.title"))+" ")]),s("span",{staticClass:"deep-options__mob-text"},[t._v(" "+t._s(t.$t("excursions.client.city.filter.move.title_mobile"))+" ")])]),s("span",{staticClass:"deep-options__arr icon icon-triangle-down"})]),t.filter_move?s("div",{staticClass:"deep-options__drop-move drop-move"},[s("div",{staticClass:"drop-move__top-line"},[s("div",{staticClass:"drop-move__title"},[t._v(" "+t._s(t.$t("excursions.client.city.filter.move.subtitle"))+" ")]),s("label",{staticClass:"drop-move__any"},[s("span",{staticClass:"drop-move__any-name"},[t._v(" "+t._s(t.$t("excursions.client.city.filter.move.any"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter_any_move,expression:"filter_any_move"}],ref:"inputAnyMove",staticClass:"drop-move__any-input",attrs:{type:"checkbox",name:"any"},domProps:{checked:Array.isArray(t.filter_any_move)?t._i(t.filter_any_move,null)>-1:t.filter_any_move},on:{change:[function(e){var s=t.filter_any_move,i=e.target,a=!!i.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);i.checked?r<0&&(t.filter_any_move=s.concat([o])):r>-1&&(t.filter_any_move=s.slice(0,r).concat(s.slice(r+1)))}else t.filter_any_move=a},function(e){return t.selectMoveType(e)}]}}),s("span",{staticClass:"drop-move__any-style"})])]),s("div",{staticClass:"drop-move__bottom-line"},[s("label",{staticClass:"drop-move__onfoot"},[s("span",{staticClass:"drop-move__onfoot-name"},[t._v(" "+t._s(t.$t("excursions.client.city.filter.move.onfoot"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter_on_foot,expression:"filter_on_foot"}],ref:"inputOnFoot",staticClass:"drop-move__onfoot-input",attrs:{type:"checkbox",name:"onfoot"},domProps:{checked:Array.isArray(t.filter_on_foot)?t._i(t.filter_on_foot,null)>-1:t.filter_on_foot},on:{change:[function(e){var s=t.filter_on_foot,i=e.target,a=!!i.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);i.checked?r<0&&(t.filter_on_foot=s.concat([o])):r>-1&&(t.filter_on_foot=s.slice(0,r).concat(s.slice(r+1)))}else t.filter_on_foot=a},function(e){return t.selectMoveType(e)}]}}),s("span",{staticClass:"drop-move__onfoot-style"})]),s("label",{staticClass:"drop-move__bycar"},[s("span",{staticClass:"drop-move__bycar-name"},[t._v(" "+t._s(t.$t("excursions.client.city.filter.move.car"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter_by_car,expression:"filter_by_car"}],ref:"inputByCar",staticClass:"drop-move__bycar-input",attrs:{type:"checkbox",name:"bycar"},domProps:{checked:Array.isArray(t.filter_by_car)?t._i(t.filter_by_car,null)>-1:t.filter_by_car},on:{change:[function(e){var s=t.filter_by_car,i=e.target,a=!!i.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);i.checked?r<0&&(t.filter_by_car=s.concat([o])):r>-1&&(t.filter_by_car=s.slice(0,r).concat(s.slice(r+1)))}else t.filter_by_car=a},function(e){return t.selectMoveType(e)}]}}),s("span",{staticClass:"drop-move__bycar-style"})])])]):t._e()])]),s("div",{staticClass:"deep-options__select"},[s("button",{ref:"sortByPopular",staticClass:"deep-options__select-item",class:{active:t.sort_popular},attrs:{type:"button"},on:{click:function(e){return t.changeSortingType(e)}}},[t._v(" "+t._s(t.$t("excursions.client.city.sort.popular"))+" ")]),s("button",{ref:"sortByPrice",staticClass:"deep-options__select-item",class:{active:!t.sort_popular},attrs:{type:"button"},on:{click:function(e){return t.changeSortingType(e)}}},[t._v(" "+t._s(t.$t("excursions.client.city.sort.by_price"))+" ")])])])])]),s("div",{staticClass:"excursions-city__excursions"},[s("div",{staticClass:"container-xl"},[s("div",{staticClass:"excursions-city__excursions-content"},[s("h2",{staticClass:"excursions-city__subtitle"},[t._v(" "+t._s(t.$t("excursions.client.city.subtitle",{city:t.current_city}))+" ")]),0==t.excursions.length?s("h3",[t._v(" "+t._s(t.$t("excursions.client.city.not_found"))+" ")]):t._e(),0!=t.excursions.langth?s("div",{staticClass:"excursions-city__excursions-wrap"},t._l(t.excursions,(function(t,e){return s("router-link",{key:e,attrs:{to:{name:"ExcursionPage",params:{id:t.id}}}},[s("card-excursion",{attrs:{excursion:t}})],1)})),1):t._e(),t.show_btn_more?s("button",{staticClass:"excursions-city__excursions-more",domProps:{innerHTML:t._s(t.forMobile())},on:{click:function(e){return t.moreExcursions()}}}):t._e()])])])])},Jt=[],Qt=s(9454),Kt=s.n(Qt),Xt=s(796),te={name:"ExcursionsTown",components:{CardExcursion:qt,VueSlider:Kt(),DatePicker:Xt.Z},directives:{ClickOutside:d()},data(){return{current_country:"Франция",current_city:"Париж",excurtions_count:0,min_price:"€",banner_image:{data:[]},amount_excursions:6,excursions:[],show_btn_more:!0,tags:[],tags_all_checked:!0,tags_limit:7,sort_by_tag:"",filter_date:!1,filter_people:!1,filter_price:!1,filter_move:!1,filter_people_count:1,sort_by_people:"",filter_any_move:!0,filter_on_foot:!0,filter_by_car:!0,sort_by_moves:"",range_slider_min_const:0,range_slider_max_const:100,range_slider_min:0,range_slider_max:100,range_slider_value:[10,50],sort_by_price:"",sort_popular:!0,sort_by_popular:"",datepicker:null,datepicker_ru:{formatLocale:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июнь","Июль","Авг","Сен","Окт","Ноя","Дек"],weekdays:["Понедельник","Вторник","Среда","Черверг","Пятница","Суббота","Воскресенье"],weekdaysShort:["Пнд","Втр","Сре","Чтв","Птн","Суб","Вск"],weekdaysMin:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],firstDayOfWeek:0,firstWeekContainsDate:1}},datepicker_en:{formatLocale:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],firstDayOfWeek:0,firstWeekContainsDate:1}},sort_by_date:""}},methods:{forMobile(){return window.innerWidth<575?this.$t("excursions.client.home.show_more.mobile"):this.$t("excursions.client.home.show_more.desktop")},async getBannerImage(){await h.get(`/enums/cityphoto?country=${this.current_country}`).then((t=>{t.data.data[0]&&(this.banner_image=t.data.data[0])})).catch((function(t){console.log(t)}))},async getTags(){await h.get(`/guide/tags?owner__city=${this.current_city}&owner__country=${this.current_country}`).then((t=>{const e=t.data.data;e.forEach(((t,e)=>{t.checked=!1,this.$set(this.tags,e,t)}))})).catch((function(t){console.log(t)}))},searchByTags(t){0==t.checked?(this.tags.forEach((t=>{t.checked=!1})),this.tags_all_checked=!1,t.checked=!0,this.sort_by_tag=`&tags__tag=${t.tag}`):(t.checked=!1,this.sort_by_tag="",this.tags_all_checked=!0),this.getExcursions()},crearTags(){this.sort_by_tag="",this.tags.forEach((t=>{t.checked=!1})),this.tags_all_checked=!0,this.getExcursions()},hideFilterDate(){this.filter_date=!1},hideFilterPeople(){this.filter_people=!1},hideFilterPrice(){this.filter_price=!1},hideFilterMove(){this.filter_move=!1},filerPeopleCountMinus(){this.filter_people_count--;const t=this.filter_people_count;setTimeout((()=>{t==this.filter_people_count&&(this.sort_by_people=`&number__gte=${this.filter_people_count}`,this.getExcursions())}),1e3)},filerPeopleCountPlus(){this.filter_people_count++;const t=this.filter_people_count;setTimeout((()=>{t==this.filter_people_count&&(this.sort_by_people=`&number__gte=${this.filter_people_count}`,this.getExcursions())}),1e3)},selectMoveType(t){t.target==this.$refs.inputAnyMove&&(1==this.filter_any_move?(this.filter_on_foot=!0,this.filter_by_car=!0):this.filter_by_car=!1),1==this.filter_on_foot&&1==this.filter_by_car?this.filter_any_move=!0:0!=this.filter_on_foot&&0!=this.filter_by_car||(this.filter_any_move=!1),this.filter_by_car==this.filter_on_foot?this.sort_by_moves="":1==this.filter_by_car?this.sort_by_moves="&moves=car":1==this.filter_on_foot&&(this.sort_by_moves="&moves=onfoot"),this.getExcursions()},async getExcursions(){await h.get(`/guide?country=${this.current_country}&city=${this.current_city}&limit=${this.amount_excursions}${this.sort_by_tag}${this.sort_by_people}${this.sort_by_moves}${this.sort_by_price}${this.sort_by_popular}${this.sort_by_date}`).then((t=>{this.excursions=t.data.data,this.amount_excursions=6})).catch((function(t){console.log(t)})),this.moreExcursionsBtnVisibility()},moreExcursionsBtnVisibility(){this.amount_excursions>this.excursions.length?this.show_btn_more=!1:this.show_btn_more=!0},async moreExcursions(){this.amount_excursions+=6,await this.getExcursions(),this.moreExcursionsBtnVisibility()},calcExcursions(t){var e=t.toString().slice(-1),s=t.toString().slice(-2);return 11!=s&&1==e?t+this.$t("excursions.client.amount_excursions.one"):2!=e&&3!=e&&4!=e||12==s||13==s||14==s?t+this.$t("excursions.client.amount_excursions.another"):t+this.$t("excursions.client.amount_excursions.two_to_four")},async setCountExcursionsInCountry(){await h.get(`/guide/count/all?country=${this.current_country}&city=${this.current_city}`).then((t=>{const e=t.data.data;e.length&&e.forEach((t=>{this.excurtions_count+=t.count}))})).catch((function(t){console.log(t)}))},async setMinPrice(){await h.get(`/guide?country=${this.current_country}&city=${this.current_city}&limit=1&sort_min_price=1`).then((t=>{const e=t.data.data;e.length&&(this.min_price="€"+e[0].min_price)})).catch((function(t){console.log(t)}))},async setRangeSliderValues(){await h.get(`/guide?country=${this.current_country}&city=${this.current_city}&limit=1&sort_min_price=1`).then((t=>{const e=t.data.data[0].min_price.toFixed(0);this.range_slider_min_const=Number(e),this.range_slider_min=Number(e)})).catch((function(t){console.log(t)})),await h.get(`/guide?country=${this.current_country}&city=${this.current_city}&limit=1&sort_min_price=0`).then((t=>{const e=t.data.data[0].min_price.toFixed(0);this.range_slider_max_const=Number(e),this.range_slider_max=Number(e)})).catch((function(t){console.log(t)})),this.range_slider_value=[this.range_slider_min,this.range_slider_max]},getSliderValue(t){t[1]==this.range_slider_max_const&&t[0]==this.range_slider_min_const?this.sort_by_price="":t[1]==this.range_slider_max_const?this.sort_by_price=`&min_price__gte=${t[0]}`:t[0]==this.range_slider_min_const?this.sort_by_price=`&min_price__lte=${t[1]}`:this.sort_by_price=`&min_price__gte=${t[0]}&min_price__lte=${t[1]}`,this.getExcursions()},changeSortingType(t){t.target==this.$refs.sortByPopular?(this.sort_popular=!0,this.sort_by_popular=""):t.target==this.$refs.sortByPrice&&(this.sort_popular=!1,this.sort_by_popular="&sort_min_price=1"),this.getExcursions()},setDate(){const t=this.datepicker.toISOString().slice(0,10).split("-"),e=t[2]+"-"+t[1]+"-"+t[0];this.sort_by_date=`&end_expire=${e}`,this.getExcursions()}},computed:{langDatepicker(){return"ru"==this.$i18n.locale?this.datepicker_ru:this.datepicker_en}},created(){const t=this.$route.params.country_name;t&&(this.current_country=t);const e=this.$route.params.city_name;e&&(this.current_city=e)},async mounted(){this.getBannerImage(),this.setCountExcursionsInCountry(),this.getTags(),this.getExcursions(),this.setMinPrice(),await this.setRangeSliderValues(),window.innerWidth<768&&(this.tags_limit=null),this.moreExcursionsBtnVisibility()}},ee=te,se=(0,x.Z)(ee,Yt,Jt,!1,null,null,null),ie=se.exports,ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"excursion"},[s("div",{staticClass:"excursion__banner excursion-banner"},[s("div",{staticClass:"excursion-banner__image-bg"},[t.excursion_image?s("img",{attrs:{src:"data:image/jpg;base64,"+t.excursion_image[0].data,alt:""}}):t._e()]),s("div",{staticClass:"container-xl"},[s("div",{staticClass:"excursion-banner__content"},[s("div",{staticClass:"excursion-banner__text-block"},[s("h1",{staticClass:"excursion-banner__title"},[t._v(" "+t._s(t.excursion.subject)+" ")]),s("p",{staticClass:"excursion-banner__descr"},[t._v(" "+t._s(t.excursion.subtitle)+" ")])]),t.guide?s("div",{staticClass:"excursion-banner__guide"},[s("div",{staticClass:"excursion-banner__guide-photo"},[s("img",{attrs:{src:"data:image/jpg;base64,"+t.guide.photo[0].data,alt:""}})]),s("div",{staticClass:"excursion-banner__guide-text"},[s("p",{staticClass:"excursion-banner__guide-name"},[t._v(" "+t._s(t.guide.first_name+" "+(t.guide.last_name?t.guide.last_name:""))+" ")]),s("p",{staticClass:"excursion-banner__guide-function"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.guide_function.once"))+" ")])])]):t._e()])])]),s("div",{staticClass:"excursion__main"},[s("div",{staticClass:"container-m"},[s("div",{staticClass:"excursion__descr"},[s("span",{staticClass:"excursion__descr-qoutes icon icon-quotes"}),s("p",{staticClass:"excursion__descr-text"},[t._v(" "+t._s(t.excursion.description)+" ")])]),s("div",{staticClass:"excursion__content"},[s("h2",{staticClass:"excursion__title"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.title"))+" ")]),s("div",{staticClass:"excursion__content-wrap"},[s("div",{staticClass:"excursion__group"},[s("h4",{staticClass:"excursion__group-title"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.title_group"))+" ")]),s("div",{staticClass:"excursion__group-container"},[t._m(0),s("table",{staticClass:"excursion__table"},[s("tbody",{staticClass:"excursion__table-body"},[s("tr",{staticClass:"excursion__table-row"},[s("td",{staticClass:"excursion__table-item"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.table.duration"))+" ")]),s("td",{staticClass:"excursion__table-item"},[t._v(" "+t._s(t.calcDuration(t.excursion.duration))+" ")])]),s("tr",{staticClass:"excursion__table-row"},[s("td",{staticClass:"excursion__table-item"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.table.amount"))+" ")]),s("td",{staticClass:"excursion__table-item"},[t._v("до "+t._s(t.calcPeople))])]),s("tr",{staticClass:"excursion__table-row"},[s("td",{staticClass:"excursion__table-item"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.table.children.title"))+" ")]),s("td",{staticClass:"excursion__table-item"},[t._v(" "+t._s(1==t.excursion.children_allowed?t.$t("excursions.client.excursion_page.table.children.true"):t.$t("excursions.client.excursion_page.table.children.false"))+" ")])]),s("tr",{staticClass:"excursion__table-row"},[s("td",{staticClass:"excursion__table-item"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.table.move.title"))+" ")]),s("td",{staticClass:"excursion__table-item"},[t._v(" "+t._s("car"==t.excursion.moves?t.$t("excursions.client.excursion_page.table.move.car"):t.$t("excursions.client.excursion_page.table.move.onfoot"))+" ")])]),s("tr",{staticClass:"excursion__table-row excursion__table-row--bold"},[s("td",{staticClass:"excursion__table-item"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.table.length.term"))+" ")]),s("td",{staticClass:"excursion__table-item"},[t._v(" "+t._s(t.excursion.length+" "+t.$t("excursions.client.excursion_page.table.length.km"))+" ")])])])])])]),s("div",{staticClass:"excursion__route"},[s("h3",{staticClass:"excursion__route-title"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.route.title"))+" ")]),t.excursion.guideplan[0].id?s("div",{staticClass:"excursion__route-container"},t._l(t.excursion.guideplan,(function(e,i){return s("div",{key:i,staticClass:"excursion__route-block"},[t._m(1,!0),s("div",{staticClass:"excursion__route-text"},[s("h4",{staticClass:"excursion__route-subtitle"},[t._v(" "+t._s(i+1+". "+e.subject)+" ")]),e.stoptime?s("p",{staticClass:"excursion__route-info"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.route.wait")+t.calcMinutes(e.stoptime))+" ")]):t._e(),e.image?s("div",{staticClass:"excursion__route-image"},[s("img",{attrs:{src:"data:image/"+e.image.extension.slice(1)+";base64,"+e.image.data,alt:""}})]):t._e(),s("p",{staticClass:"excursion__route-descr"},[t._v(" "+t._s(e.description)+" ")]),e.roadtime?s("p",{staticClass:"excursion__route-info"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.route.next")+t.calcMinutes(e.roadtime))+" ")]):t._e()])])})),0):t._e()]),s("div",{staticClass:"excursion__organization"},[s("h3",{staticClass:"excursion__organization-title"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.organization.title"))+" ")]),s("div",{staticClass:"excursion__organization-block"},[s("h4",{staticClass:"excursion__organization-subtitle excursion__organization-subtitle--price"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.organization.price")+t.min_price+" €")+" ")]),s("p",{staticClass:"excursion__organization-text"},[t._v(" "+t._s(t.excursion.details)+" ")])]),s("div",{staticClass:"excursion__organization-block"},[s("h4",{staticClass:"excursion__organization-subtitle"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.organization.meeting_point"))+" ")]),s("p",{staticClass:"excursion__organization-text"},[t._v(" "+t._s(t.excursion.expect_point)+" ")])]),s("div",{staticClass:"excursion__organization-block"},[s("h4",{staticClass:"excursion__organization-subtitle"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.organization.book_now"))+" ")]),s("p",{staticClass:"excursion__organization-text"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.organization.book_now_text",{langs:t.calcLanguages(t.excursion.lang)}))+" ")])])]),s("div",{staticClass:"excursion__calendar excursion-calendar"},[s("div",{staticClass:"excursion-calendar__wrap"},[s("date-picker",{directives:[{name:"show",rawName:"v-show",value:t.sdd,expression:"sdd"}]}),s("calendar-panel",{attrs:{calendar:t.calendar1,"get-classes":t.getClasses},on:{"update:calendar":t.handleUpdateCalendar1,select:t.handleSelect},model:{value:t.datepicker,callback:function(e){t.datepicker=e},expression:"datepicker"}}),s("calendar-panel",{attrs:{calendar:t.calendar2,"get-classes":t.getClasses},on:{"update:calendar":t.handleUpdateCalendar2,select:t.handleSelect},model:{value:t.datepicker,callback:function(e){t.datepicker=e},expression:"datepicker"}})],1),s("div",{staticClass:"excursion-calendar__info"},[s("div",{staticClass:"excursion-calendar__info-item excursion-calendar__info-item--red"},[s("span"),t._v(" "+t._s(t.$t("calendar.info.busy"))+" ")]),s("div",{staticClass:"excursion-calendar__info-item excursion-calendar__info-item--green"},[s("span"),t._v(" "+t._s(t.$t("calendar.info.free"))+" ")])])]),s("help-info",{staticClass:"excursion__info",attrs:{color_style:"green"}},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.calendar.info"))+" ")]),s("button",{staticClass:"excursion__btn",attrs:{type:"button"},on:{click:t.pickDate}},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.calendar.btn"))+" ")]),t.errors.date.null?s("div",{staticClass:"excursion__error"},[t._v(" "+t._s(t.$t("errors.date.null"))+" ")]):t._e()],1)])])])])},oe=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"excursion__group-mark"},[i("img",{attrs:{src:s(5998),alt:""}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"excursion__route-mark"},[i("span"),i("img",{attrs:{src:s(9572),alt:""}})])}],re=s(8830),ne=s(4559);const{CalendarPanel:ce}=Xt.Z;var le={name:"ExcursionPage",components:{DatePicker:Xt.Z,CalendarPanel:ce,HelpInfo:N},directives:{ClickOutside:d()},data(){return{text:"Для бронирования экскурсии выберите желаемую дату и нажмите кнопку “выбрать”",sdd:!1,current_id:null,excursion:{id:null,subject:null,subtitle:null,description:null,details:null,country:null,city:null,lang:"",duration:null,number:0,children_allowed:null,moves:null,type:null,expire:null,has_common_point:null,expect_point:null,exact_point:null,cost_type:null,price_type:null,min_price:null,currency:null,discount:null,discount_expire:null,conductor_type:null,conductor_description:null,active:null,moderate:null,hide:null,owner:null,tags:[{id:null,tag:null,owner:null}],guideplan:[{id:null,subject:null,description:null,roadtime:null,stoptime:null,owner:null,image:null},{id:null,subject:null,description:null,roadtime:null,stoptime:null,owner:null,image:null}],guideschedule:[{id:null,day:null,start:null,end:null,owner:null}],guideprices:[{id:null,type:null,name:null,price:null,currency:null,owner:null}],guidediscountcalendar:[{id:null,discount:null,start:null,finish:null,owner:null}]},min_price:"?",guide:null,excursion_image:null,datepicker:null,datepicker_ru:{formatLocale:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июнь","Июль","Авг","Сен","Окт","Ноя","Дек"],weekdays:["Понедельник","Вторник","Среда","Черверг","Пятница","Суббота","Воскресенье"],weekdaysShort:["Пнд","Втр","Сре","Чтв","Птн","Суб","Вск"],weekdaysMin:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],firstDayOfWeek:0,firstWeekContainsDate:1}},datepicker_en:{formatLocale:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],firstDayOfWeek:0,firstWeekContainsDate:1}},value:[new Date],startValue:null,endValue:null,value1:[new Date(2022,7,3),new Date(2022,7,10)],value2:[new Date(2022,7,11),new Date(2022,7,10)],calendar1:new Date,calendar2:new Date,busy_array:[],errors:{date:{null:!1}}}},watch:{busy_array:{immediate:!0,handler(t){t[0]&&this.handleUpdateCalendar1(new Date(t[0]))}}},methods:{handleUpdateCalendar1(t){this.calendar1=t,this.calendar2=(0,re.Z)(t,1)},handleUpdateCalendar2(t){this.calendar2=t,this.calendar1=(0,ne.Z)(t,1)},selectTimeNow(t){var e=new Date,s=e.getHours(),i=e.getMinutes(),a=new Date(t.setHours(s)),o=new Date(a.setMinutes(i));return o},getClasses(t){const e=[];var s=this.selectTimeNow(t);return this.busy_array.some((t=>t===new Date(s.getTime()+864e5).toISOString().slice(0,10)))&&e.push("busy"),(new Date).toISOString()>=s.toISOString()&&e.push("disabled"),e},handleSelect(t){this.datepicker=t},pickDate(){this.datepicker?this.$router.push({name:"BookingData",params:{id:this.current_id,week_day:this.datepicker.getDay(),date:this.datepicker.toLocaleDateString()}}):this.errors.date.null=!0},calcDuration(t){const e=(t/60).toFixed(0);var s=e.toString().slice(-1),i=e.toString().slice(-2);return 11!=i&&1==s?e+" час":2!=s&&3!=s&&4!=s||12==i||13==i||14==i?e+" часов":e+" часа"},calcMinutes(t){var e=t.toString().slice(-1),s=t.toString().slice(-2);return 11!=s&&1==e?t+" минута":2!=e&&3!=e&&4!=e||12==s||13==s||14==s?t+" минут":t+" минуты"},calcLanguages(t){const e=t.split(";");var s="";e.forEach(((t,i)=>{e.length==i+1&&(s+=","),"Русский"==t?s+=" русском":"Украинский"==t?s+=" украинском":"Матерный"==t&&(s+=" матерном")}));var i=t.toString().slice(-1),a=t.toString().slice(-2);return 11!=a&&1==i?s+" языке":s+" языках"},checkPrice(){const t=this.excursion.guideprices;t.forEach((t=>{"default"==t.type&&(this.min_price=t.price.toFixed(0))}))},getGuidePlanImages(){this.excursion.guideplan.forEach((t=>{h.get(`/guide/media/guideplan/${t.id}`).then((e=>{const s=e.data.data[0];this.$set(t,"image",s)})).catch((function(t){console.log(t)}))}))}},computed:{langDatepicker(){return"ru"==this.$i18n.locale?this.datepicker_ru:this.datepicker_en},calcPeople:function(){var t=this.excursion.number.toString().slice(-1),e=this.excursion.number.toString().slice(-2);return 11!=e&&1==t?this.excursion.number+" человека":this.excursion.number+" человек"}},created(){const t=this.$route.params.id;t&&(this.current_id=t)},async beforeMount(){await h.get(`/guide/${this.current_id}`).then((t=>{this.excursion=t.data.data[0],console.log(this.excursion)})).catch((function(t){console.log(t)})),this.checkPrice(),this.getGuidePlanImages(),await h.get(`/user/${this.excursion.owner}`).then((t=>{this.guide=t.data.data[0]})).catch((function(t){console.log(t)})),await h.get(`/guide/media/${this.current_id}`).then((t=>{this.excursion_image=t.data.data})).catch((function(t){console.log(t)}));var t=[];const e=this.excursion.available_calendar,s=this.excursion.number;for(var i in e)e[i]<s&&t.push(i.toString().slice(0,10));this.busy_array=t},async mounted(){}},ue=le,de=(0,x.Z)(ue,ae,oe,!1,null,null,null),_e=de.exports,pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"booking-data"},[s("div",{staticClass:"container-m"},[s("div",{staticClass:"booking-data__content"},[s("div",{staticClass:"booking-data__image"},[s("div",{staticClass:"booking-data__image-bg"},[t.excursion_image?s("img",{attrs:{src:"data:image/jpg;base64,"+t.excursion_image[0].data,alt:""}}):t._e()]),s("h2",{staticClass:"booking-data__title booking-data__title--mobile"},[t._v(" "+t._s(t.excursion.subject)+" ")]),s("p",{staticClass:"booking-data__descr booking-data__descr--mobile"},[t._v(" "+t._s(t.excursion.subtitle)+" ")]),t.guide?s("div",{staticClass:"booking-data__guide"},[s("div",{staticClass:"booking-data__guide-text"},[s("p",{staticClass:"booking-data__guide-name"},[t._v(" "+t._s(t.guide.first_name+" "+t.guide.middle_name+" "+t.guide.last_name)+" ")]),s("p",{staticClass:"booking-data__guide-function"},[t._v(" "+t._s(t.$t("excursions.client.excursion_page.guide_function.once"))+" ")])]),s("div",{staticClass:"booking-data__guide-image"},[s("img",{attrs:{src:"data:image/jpg;base64,"+t.guide.photo[0].data,alt:""}})])]):t._e()]),s("div",{staticClass:"booking-data__city"},[s("span",{staticClass:"icon icon-mark"}),s("span",{staticClass:"booking-data__city-name"},[t._v(" "+t._s(t.excursion.city)+" ")])]),s("h2",{staticClass:"booking-data__title booking-data__title--desktop"},[t._v(" "+t._s(t.excursion.subject)+" ")]),s("p",{staticClass:"booking-data__descr booking-data__descr--desktop"},[t._v(" "+t._s(t.excursion.subtitle)+" ")]),s("div",{staticClass:"booking-data__date"},[s("h4",{staticClass:"booking-data__date-title"},[t._v(" "+t._s(t.$t("excursions.client.booking.date_title"))+" ")]),s("p",{staticClass:"booking-data__date-params"},[t._v(t._s(t.excursion_date))])]),s("div",{staticClass:"booking-data__time"},[s("h4",{staticClass:"booking-data__time-title"},[t._v(" "+t._s(t.$t("excursions.client.booking.time_title"))+" ")]),s("ul",{staticClass:"booking-data__time-list"},t._l(t.new_schedule,(function(e,i){return s("li",{key:i,staticClass:"booking-data__time-item"},[s("label",{staticClass:"booking-data__time-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.radio_time,expression:"radio_time"}],staticClass:"booking-data__time-checkbox-none",attrs:{type:"radio",name:"time"},domProps:{value:e.date.slice(-5),checked:t._q(t.radio_time,e.date.slice(-5))},on:{change:function(s){t.radio_time=e.date.slice(-5)}}}),s("span",{staticClass:"booking-data__time-checkbox-style"})]),s("p",{staticClass:"booking-data__time-text"},[t._v(" "+t._s(e.date.slice(-5)+" - "+t.calcPlace(e.count))+" ")])])})),0)]),s("div",{staticClass:"booking-data__ticket"},[s("h4",{staticClass:"booking-data__ticket-title"},[t._v(" "+t._s(t.$t("excursions.client.booking.ticket.title"))+" ")]),s("table",{staticClass:"booking-data__ticket-table"},[s("tr",{staticClass:"booking-data__ticket-head"},[s("th",{staticClass:"booking-data__ticket-head-item"},[t._v(" "+t._s(t.$t("excursions.client.booking.ticket.category"))+" ")]),s("th",{staticClass:"booking-data__ticket-head-item"},[t._v(" "+t._s(t.$t("excursions.client.booking.ticket.price",{for:t.costType}))+" ")])]),t._l(t.excursion.guideprices,(function(e,i){return s("tr",{key:i,staticClass:"booking-data__ticket-row"},[s("td",{staticClass:"booking-data__ticket-item",domProps:{innerHTML:t._s(t.setPriceListName(e.type))}}),s("td",{staticClass:"booking-data__ticket-item"},[s("div",{staticClass:"booking-data__ticket-item-flex"},[s("div",{staticClass:"booking-data__ticket-price"},[s("span",{staticClass:"booking-data__ticket-price-num"},[t._v(" "+t._s(e.price)+" ")]),t._m(0,!0)]),s("div",{staticClass:"booking-data__ticket-counter counter"},[s("button",{staticClass:"booking-data__ticket-counter counter__minus",attrs:{type:"button"},on:{click:function(t){0!=e.counter&&e.counter--}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.counter,expression:"price.counter"}],staticClass:"counter__num",attrs:{type:"text",disabled:""},domProps:{value:e.counter},on:{input:function(s){s.target.composing||t.$set(e,"counter",s.target.value)}}}),s("button",{staticClass:"booking-data__ticket-counter counter__plus",attrs:{type:"button"},on:{click:function(t){e.counter++}}})])])])])}))],2)]),s("div",{staticClass:"booking-data__inputs"},[s("div",{staticClass:"booking-data__input-block"},[s("h5",{staticClass:"booking-data__input-title"},[t._v(" "+t._s(t.$t("excursions.client.booking.input_name.title"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputs.name,expression:"inputs.name",modifiers:{trim:!0}}],staticClass:"booking-data__input",attrs:{type:"text",placeholder:t.$t("excursions.client.booking.input_name.placeholder")},domProps:{value:t.inputs.name},on:{input:function(e){e.target.composing||t.$set(t.inputs,"name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"booking-data__input-block"},[s("h5",{staticClass:"booking-data__input-title"},[t._v(" "+t._s(t.$t("excursions.client.booking.input_email.title"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputs.email,expression:"inputs.email",modifiers:{trim:!0}}],staticClass:"booking-data__input",attrs:{type:"email",placeholder:t.$t("excursions.client.booking.input_email.placeholder")},domProps:{value:t.inputs.email},on:{input:function(e){e.target.composing||t.$set(t.inputs,"email",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"booking-data__input-block"},[s("h5",{staticClass:"booking-data__input-title"},[t._v(" "+t._s(t.$t("excursions.client.booking.input_phone.title"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputs.phone,expression:"inputs.phone",modifiers:{trim:!0}}],staticClass:"booking-data__input",attrs:{type:"number",placeholder:t.$t("excursions.client.booking.input_phone.placeholder")},domProps:{value:t.inputs.phone},on:{input:function(e){e.target.composing||t.$set(t.inputs,"phone",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"booking-data__input-block"},[s("h5",{staticClass:"booking-data__input-title"},[t._v(" "+t._s(t.$t("excursions.client.booking.input_textarea.title"))+" ")]),s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputs.question,expression:"inputs.question",modifiers:{trim:!0}}],staticClass:"booking-data__input booking-data__textarea",domProps:{value:t.inputs.question},on:{input:function(e){e.target.composing||t.$set(t.inputs,"question",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),s("button",{staticClass:"booking-data__submit",attrs:{type:"button"},on:{click:t.submitForm}},[t._v(" "+t._s(t.$t("excursions.client.booking.submit"))+" ")]),s("div",{staticClass:"booking-data__errors"},[t.errors.unknown_request?s("div",{staticClass:"booking-data__error"},[t._v(" "+t._s(t.$t("errors.unknown_request"))+" ")]):t._e(),t.errors.unauthorized?s("div",{staticClass:"booking-data__error"},[t._v(" "+t._s(t.$t("errors.unauthorized"))+" ")]):t._e(),t.errors.date.null?s("div",{staticClass:"booking-data__error"},[t._v(" "+t._s(t.$t("errors.date.null"))+" ")]):t._e(),t.errors.date.wrong?s("div",{staticClass:"booking-data__error"},[t._v(" "+t._s(t.$t("errors.date.wrong"))+" ")]):t._e(),t.errors.time.null?s("div",{staticClass:"booking-data__error"},[t._v(" "+t._s(t.$t("errors.time.null"))+" ")]):t._e(),t.errors.ticket.null?s("div",{staticClass:"booking-data__error"},[t._v(" "+t._s(t.$t("errors.ticket.null"))+" ")]):t._e(),t.errors.inputs.name.null?s("div",{staticClass:"booking-data__error"},[t._v(" "+t._s(t.$t("errors.inputs.name.null"))+" ")]):t._e(),t.errors.inputs.email.null?s("div",{staticClass:"booking-data__error"},[t._v(" "+t._s(t.$t("errors.inputs.email.null"))+" ")]):t._e(),t.errors.inputs.email.wrong?s("div",{staticClass:"booking-data__error"},[t._v(" "+t._s(t.$t("errors.inputs.email.wrong"))+" ")]):t._e(),t.errors.inputs.phone.null?s("div",{staticClass:"booking-data__error"},[t._v(" "+t._s(t.$t("errors.inputs.phone.null"))+" ")]):t._e()])])])])},me=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"booking-data__ticket-currency"},[s("span",{staticClass:"icon icon-euro"})])}],he={name:"BookingData",components:{},directives:{},data(){return{current_id:null,week_day:null,excursion_date:null,excursion_image:null,guide:null,counter:0,excursion:{id:null,subject:null,subtitle:null,description:null,details:null,country:null,city:null,lang:"",duration:null,number:0,children_allowed:null,moves:null,type:null,expire:null,has_common_point:null,expect_point:null,exact_point:null,cost_type:null,price_type:null,min_price:null,currency:null,discount:null,discount_expire:null,conductor_type:null,conductor_description:null,active:null,moderate:null,hide:null,owner:null,tags:[{id:null,tag:null,owner:null}],guideplan:[{id:null,subject:null,description:null,roadtime:null,stoptime:null,owner:null,image:null},{id:null,subject:null,description:null,roadtime:null,stoptime:null,owner:null,image:null}],guideschedule:[{id:null,day:null,start:null,end:null,owner:null}],guideprices:[{id:null,type:null,name:null,price:null,currency:null,owner:null}],guidediscountcalendar:[{id:null,discount:null,start:null,finish:null,owner:null}],available_calendar:[]},new_schedule:null,radio_time:null,inputs:{name:"",email:"",phone:"",question:""},errors:{unauthorized:!1,unknown_request:!1,date:{null:!1,wrong:!1},time:{null:!1},ticket:{null:!1},inputs:{name:{null:!1},email:{null:!1,wrong:!1},phone:{null:!1}}}}},methods:{setPriceListName(t){return"default"==t?this.$t("excursions.client.booking.ticket.default_ticket"):"child"==t?this.$t("excursions.client.booking.ticket.child_ticket"):"unknown type"},async submitForm(){var t={};if(this.errors.date.null=!1,!this.excursion_date)return this.errors.date.null=!0,!1;if(t.date=this.excursion_date,this.errors.time.null=!1,!this.radio_time)return this.errors.time.null=!0,!1;t.time=this.radio_time,this.errors.ticket.null=!1;var e=0;if(this.excursion.guideprices.forEach((t=>{e+=t.counter})),0==e)return this.errors.ticket.null=!0,!1;if(t.tickets=this.excursion.guideprices,this.errors.inputs.name.null=!1,!this.inputs.name)return this.errors.inputs.name.null=!0,!1;function s(t){const e=/\S+@\S+\.\S+/;return e.test(t)}if(t.name=this.inputs.name,this.errors.inputs.email.null=!1,this.errors.inputs.email.wrong=!1,!this.inputs.email)return this.errors.inputs.email.null=!0,!1;if(!s(this.inputs.email))return this.errors.inputs.email.wrong=!0,!1;if(t.email=this.inputs.email,this.errors.inputs.phone.null=!1,!this.inputs.phone)return this.errors.inputs.phone.null=!0,!1;t.phone=this.inputs.phone,t.question=this.inputs.question;var i=[],a=0;t.tickets.forEach((e=>{for(let o=0;o<e.counter;o++){var s={type:"guides",servicetype:this.excursion.id,on_the_date:t.date+" "+t.time,departure:t.date+" "+t.time,cost:e.price,category:e.type};a+=e.price,i.push(s)}})),t.price=a,this.errors.unknown_request=!1,await h.post("/order/new",{date:t.date+" "+t.time,name:t.name,email:t.email,phone:t.phone,question:t.question,currency:"USD",details:i}).then((e=>{200===e.data.status?(localStorage.setItem("order",JSON.stringify(t)),localStorage.setItem("id_for_order",this.excursion.id),localStorage.setItem("id_order",e.data.data[0].id),this.$router.push({name:"PaymentExcursion",params:{order:t,id:this.excursion.id}})):this.errors.unknown_request=!0})).catch((t=>{401==t.request.status?this.errors.unauthorized=!0:this.errors.unknown_request=!0,console.log(t)}))},setTimeSchedule(){var t=[];const e=this.excursion_date.slice(0,2),s=this.excursion_date.slice(3,5),i=this.excursion_date.slice(6,11),a=i+"-"+s+"-"+e,o=this.excursion.available_calendar;for(var r in o)if(r.indexOf(a)>-1){let e={date:r,count:o[r]};t.push(e)}this.new_schedule=t},calcPlace(t){if(!t<10)var e=t.toString().slice(-2,2);var s=t.toString().slice(-1,1);return"11"!=e&&"1"==s?t+" место":"2"!=s&&"3"!=s&&"4"!=s||12==e||13==e||14==e?t+" мест":t+" места"}},computed:{costType(){return"person"==this.excursion.cost_type?"за человека":"excursion"==this.excursion.cost_type?"за экскурсию":""},langDatepicker(){return"ru"==this.$i18n.locale?this.datepicker_ru:this.datepicker_en}},created(){const t=this.$route.params.id;t&&(this.current_id=t);const e=this.$route.params.week_day;e&&(this.week_day=e);const s=this.$route.params.date;s&&(this.excursion_date=s)},async beforeMount(){await h.get(`/guide/${this.current_id}`).then((t=>{this.excursion=t.data.data[0],this.excursion.guideprices.forEach((t=>{this.$set(t,"counter",0)})),this.setTimeSchedule()})).catch((function(t){console.log(t)})),await h.get(`/guide/media/${this.current_id}`).then((t=>{this.excursion_image=t.data.data})).catch((function(t){console.log(t)})),await h.get(`/user/${this.excursion.owner}`).then((t=>{this.guide=t.data.data[0]})).catch((function(t){console.log(t)}))},async mounted(){}},ge=he,ve=(0,x.Z)(ge,pe,me,!1,null,null,null),xe=ve.exports,Ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info-pay"},[s("div",{staticClass:"container-m"},[s("div",{staticClass:"info-pay__wrap"},[s("div",{staticClass:"info-pay__title"},[t._v(" "+t._s(t.$t("excursions.client.payment.title"))+" "+t._s(t.order_id)+" ")]),s("div",{staticClass:"info-pay__tour-information tour-info"},[s("div",{staticClass:"tour-info__img"},[t.excursion_image?s("img",{attrs:{src:"data:image/jpg;base64,"+t.excursion_image[0].data,alt:"tour-img"}}):t._e(),s("div",{staticClass:"tour-info__guide-img"},[s("img",{attrs:{src:"data:image/jpg;base64,"+t.guide_photo,alt:""}})])]),s("div",{staticClass:"tour-info__content"},[s("div",{staticClass:"tour-info__block"},[s("div",{staticClass:"tour-info__item"},[s("p",{staticClass:"tour-info__subtitle"},[t._v(" "+t._s(t.$t("excursions.client.card_order.route"))+" ")]),s("p",{staticClass:"tour-info__text tour-info__text_city"},[s("span",{staticClass:"icon icon-mark"}),t._v(" "+t._s(t.excursion.city)+" ")]),s("p",{staticClass:"tour-info__name-location"},[t._v(" "+t._s(t.excursion.subtitle)+" ")])])]),s("div",{staticClass:"tour-info__block"},[s("div",{staticClass:"tour-info__item"},[s("p",{staticClass:"tour-info__subtitle"},[t._v(" "+t._s(t.$t("excursions.client.card_order.date"))+" ")]),s("p",{staticClass:"tour-info__text"},[s("span",{staticClass:"icon icon-calendar"}),t._v(" "+t._s(t.order.date)+" ")])]),s("div",{staticClass:"tour-info__item"},[s("p",{staticClass:"tour-info__subtitle"},[t._v(" "+t._s(t.$t("excursions.client.card_order.duration"))+" ")]),s("p",{staticClass:"tour-info__text"},[s("span",{staticClass:"icon icon-watch"}),t._v(" "+t._s(t.calcExcurtionDuration)+" ")])])]),s("div",{staticClass:"tour-info__block"},[s("div",{staticClass:"tour-info__item"},[s("p",{staticClass:"tour-info__subtitle"},[t._v(" "+t._s(t.$t("excursions.client.card_order.customer"))+" ")]),s("p",{staticClass:"tour-info__text"},[s("span",{staticClass:"icon icon-person-edit"}),t._v(" "+t._s(t.order.name)+" ")])]),s("div",{staticClass:"tour-info__item tour-info__item_amount"},[s("p",{staticClass:"tour-info__subtitle"},[t._v(" "+t._s(t.$t("excursions.client.card_order.amount"))+" ")]),s("p",{staticClass:"tour-info__text tour-info__text_amount"},t._l(t.order.tickets,(function(e,i){return s("span",{key:i},[t._v(" "+t._s(t.calcPriceType(e.type,e.counter))+" ")])})),0)])])])]),s("div",{staticClass:"info-pay__general-info-block"},[s("help-info",{staticClass:"info-pay__general-info",attrs:{color_style:"green"}},[t._v(" "+t._s(t.$t("excursions.client.payment.info_card"))+" ")]),s("help-info",{staticClass:"info-pay__general-info",attrs:{color_style:"green"}},[t._v(" "+t._s(t.$t("excursions.client.payment.policy"))+" ")])],1),s("div",{staticClass:"info-pay__payment"},[s("div",{staticClass:"info-pay__to-pay to-pay"},[s("p",{staticClass:"to-pay__text"},[t._v(" "+t._s(t.$t("excursions.client.payment.to_pay"))+" ")]),s("p",{staticClass:"to-pay__price"},[t._v(" "+t._s(t.order.price)+" "),s("span",{staticClass:"icon icon-euro"})])]),t._m(0)]),s("button",{staticClass:"info-pay__pay-btn green-btn",on:{click:t.pay}},[t._v(" "+t._s(t.$t("excursions.client.payment.pay"))+" ")]),s("div",{staticClass:"booking-data__errors"},[t.errors.unknown_request?s("div",{staticClass:"booking-data__error"},[t._v(" "+t._s(t.$t("errors.unknown_request"))+" ")]):t._e()])])])])},fe=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info-pay__payment-system"},[i("img",{staticClass:"info-pay__visa",attrs:{src:s(7676),alt:"Visa"}}),i("img",{staticClass:"info-pay__mastercard",attrs:{src:s(7914),alt:"MasterCard"}})])}],be={name:"PaymentExcursion",components:{HelpInfo:N},directives:{},data(){return{order:[],order_id:null,excursion_id:null,excursion_image:null,excursion:{id:null,subject:null,subtitle:null,description:null,details:null,country:null,city:null,lang:"",duration:null,number:0,children_allowed:null,moves:null,type:null,expire:null,has_common_point:null,expect_point:null,exact_point:null,cost_type:null,price_type:null,min_price:null,currency:null,discount:null,discount_expire:null,conductor_type:null,conductor_description:null,active:null,moderate:null,hide:null,owner:null,tags:[{id:null,tag:null,owner:null}],guideplan:[{id:null,subject:null,description:null,roadtime:null,stoptime:null,owner:null,image:null},{id:null,subject:null,description:null,roadtime:null,stoptime:null,owner:null,image:null}],guideschedule:[{id:null,day:null,start:null,end:null,owner:null}],guideprices:[{id:null,type:null,name:null,price:null,currency:null,owner:null}],guidediscountcalendar:[{id:null,discount:null,start:null,finish:null,owner:null}],available_calendar:[]},guide_photo:null,errors:{unknown_request:!1}}},methods:{calcPriceType(t,e){var s=e.toString().slice(-1),i=e.toString().slice(-2);return"default"==t?11!=i&&1==s?e+" взрослый":e+" взрослых":"child"==t?11!=i&&1==s?e+" ребенок":2!=s&&3!=s&&4!=s||12==i||13==i||14==i?e+" детей":e+" ребенка":e},async pay(){var t=document.location.protocol+"//"+document.location.host;await h.post("/order/checkout/paypal",{id:this.order_id,success:t+"/thank_you",cancel:t+"/payment"}).then((t=>{localStorage.setItem("payment_id",t.data.data[0].id),location.href=t.data.data[0].approve})).catch((function(t){console.log(this.errors.unknown_request),this.errors.unknown_request=!0,console.log(t)}))}},computed:{calcExcurtionDuration(){const t=this.excursion.duration/60;var e=t.toString().slice(-1),s=t.toString().slice(-2);return 11!=s&&1==e?t+" час":2!=e&&3!=e&&4!=e||12==s||13==s||14==s?t+" часов":t+" часа"}},created(){const t=localStorage.getItem("order");t&&(this.order=JSON.parse(t));const e=localStorage.getItem("id_order");e&&(this.order_id=e);const s=localStorage.getItem("id_for_order");s&&(this.excursion_id=s)},async mounted(){await h.get(`/guide/${this.excursion_id}`).then((t=>{this.excursion=t.data.data[0]})).catch((function(t){console.log(t)})),await h.get(`/guide/media/${this.excursion_id}`).then((t=>{this.excursion_image=t.data.data})).catch((function(t){console.log(t)})),await h.get(`/user/${this.excursion.owner}`).then((t=>{this.guide_photo=t.data.data[0].photo[0].data})).catch((function(t){console.log(t)}))}},ye=be,we=(0,x.Z)(ye,Ce,fe,!1,null,"bde9223a",null),ke=we.exports,$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-thanks"},[s("div",{staticClass:"container-m"},[s("div",{staticClass:"page-thanks__wrap"},[s("div",{staticClass:"page-thanks__title"},[t._v(" "+t._s(t.$t("excursions.client.thanks.title"))+" ")]),s("div",{staticClass:"page-thanks__sub-title"},[t._v(" "+t._s(t.$t("excursions.client.thanks.descr"))+" ")]),s("div",{staticClass:"page-thanks__order-number"},[t._v(" "+t._s(t.$t("excursions.client.thanks.order_num"))+" "+t._s(t.order_id)+" ")]),s("div",{staticClass:"page-thanks__tour-information tour-info"},[s("div",{staticClass:"tour-info__img"},[t.excursion_image?s("img",{attrs:{src:"data:image/jpg;base64,"+t.excursion_image[0].data,alt:"tour-img"}}):t._e(),s("div",{staticClass:"tour-info__guide-img"},[s("img",{attrs:{src:"data:image/jpg;base64,"+t.guide_photo,alt:""}})])]),s("div",{staticClass:"tour-info__content"},[s("div",{staticClass:"tour-info__block"},[s("div",{staticClass:"tour-info__item"},[s("p",{staticClass:"tour-info__subtitle"},[t._v(" "+t._s(t.$t("excursions.client.card_order.route"))+" ")]),s("p",{staticClass:"tour-info__text tour-info__text_city"},[s("span",{staticClass:"icon icon-mark"}),t._v(" "+t._s(t.excursion.city)+" ")]),s("p",{staticClass:"tour-info__name-location"},[t._v(" "+t._s(t.excursion.subtitle)+" ")])])]),s("div",{staticClass:"tour-info__block"},[s("div",{staticClass:"tour-info__item"},[s("p",{staticClass:"tour-info__subtitle"},[t._v(" "+t._s(t.$t("excursions.client.card_order.date"))+" ")]),s("p",{staticClass:"tour-info__text"},[s("span",{staticClass:"icon icon-calendar"}),t._v(" "+t._s(t.order.date)+" ")])]),s("div",{staticClass:"tour-info__item"},[s("p",{staticClass:"tour-info__subtitle"},[t._v(" "+t._s(t.$t("excursions.client.card_order.duration"))+" ")]),s("p",{staticClass:"tour-info__text"},[s("span",{staticClass:"icon icon-watch"}),t._v(" "+t._s(t.calcExcurtionDuration)+" ")])])]),s("div",{staticClass:"tour-info__block"},[s("div",{staticClass:"tour-info__item"},[s("p",{staticClass:"tour-info__subtitle"},[t._v(" "+t._s(t.$t("excursions.client.card_order.customer"))+" ")]),s("p",{staticClass:"tour-info__text"},[s("span",{staticClass:"icon icon-person-edit"}),t._v(" "+t._s(t.order.name)+" ")])]),s("div",{staticClass:"tour-info__item tour-info__item_amount"},[s("p",{staticClass:"tour-info__subtitle"},[t._v(" "+t._s(t.$t("excursions.client.card_order.amount"))+" ")]),s("p",{staticClass:"tour-info__text tour-info__text_amount"},t._l(t.order.tickets,(function(e,i){return s("span",{key:i},[t._v(" "+t._s(t.calcPriceType(e.type,e.counter))+" ")])})),0)])])])]),s("div",{staticClass:"page-thanks__bottom-content"},[s("div",{staticClass:"page-thanks__to-pay to-pay"},[s("p",{staticClass:"to-pay__text"},[t._v(" "+t._s(t.$t("excursions.client.thanks.paid"))+" ")]),s("p",{staticClass:"to-pay__price"},[t._v(" "+t._s(t.order.price)+" "),s("span",{staticClass:"icon icon-euro"})])]),s("router-link",{staticClass:"page-thanks__go-main-btn green-btn",attrs:{to:{name:"ExcursionsHome"}}},[t._v(" "+t._s(t.$t("excursions.client.thanks.to_main"))+" ")])],1)])])])},Ee=[],Se={name:"ThankYou",components:{},directives:{},data(){return{order_id:null,payment_id:null,excursion_id:null,excursion_image:null,excursion:{id:null,subject:null,subtitle:null,description:null,details:null,country:null,city:null,lang:"",duration:null,number:0,children_allowed:null,moves:null,type:null,expire:null,has_common_point:null,expect_point:null,exact_point:null,cost_type:null,price_type:null,min_price:null,currency:null,discount:null,discount_expire:null,conductor_type:null,conductor_description:null,active:null,moderate:null,hide:null,owner:null,tags:[{id:null,tag:null,owner:null}],guideplan:[{id:null,subject:null,description:null,roadtime:null,stoptime:null,owner:null,image:null},{id:null,subject:null,description:null,roadtime:null,stoptime:null,owner:null,image:null}],guideschedule:[{id:null,day:null,start:null,end:null,owner:null}],guideprices:[{id:null,type:null,name:null,price:null,currency:null,owner:null}],guidediscountcalendar:[{id:null,discount:null,start:null,finish:null,owner:null}],available_calendar:[]},guide_photo:null}},methods:{calcPriceType(t,e){var s=e.toString().slice(-1),i=e.toString().slice(-2);return"default"==t||"child"==t?11!=i&&1==s?e+" взрослый":e+" взрослых":e}},computed:{calcExcurtionDuration(){const t=this.excursion.duration/60;var e=t.toString().slice(-1),s=t.toString().slice(-2);return 11!=s&&1==e?t+" час":2!=e&&3!=e&&4!=e||12==s||13==s||14==s?t+" часов":t+" часа"}},created(){const t=localStorage.getItem("order");t&&(this.order=JSON.parse(t));const e=this.$route.params.order_id;e&&(this.order_id=e);const s=this.$route.params.payment_id;s&&(this.payment_id=s),console.log(this.order),console.log(this.excursion_id)},async mounted(){await h.get(`/order/checkout/success/${this.payment_id}/${this.order_id}`).then((t=>{console.log(t)})).catch((function(t){console.log(t)})),await h.get(`/order/${this.order_id} `).then((t=>{console.log(t.data.data[0].details[0].servicetype.id),this.excursion_id=t.data.data[0].details[0].servicetype.id})).catch((function(t){console.log(t)})),await h.get(`/guide/${this.excursion_id}`).then((t=>{this.excursion=t.data.data[0],console.log(this.excursion)})).catch((function(t){console.log(t)})),await h.get(`/guide/media/${this.excursion_id}`).then((t=>{this.excursion_image=t.data.data})).catch((function(t){console.log(t)})),await h.get(`/user/${this.excursion.owner}`).then((t=>{this.guide_photo=t.data.data[0].photo[0].data})).catch((function(t){console.log(t)}))},beforeRouteLeave(t,e,s){localStorage.removeItem("order"),localStorage.removeItem("id_for_order"),localStorage.removeItem("id_order"),localStorage.removeItem("payment_id"),s()}},Pe=Se,Me=(0,x.Z)(Pe,$e,Ee,!1,null,"9726f8a4",null),De=Me.exports,He=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup"},[s("div",{staticClass:"popup__body"},[s("form",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.emitClose,expression:"emitClose"}],staticClass:"popup__content",on:{submit:function(e){return e.preventDefault(),t.sendNewPass.apply(null,arguments)}}},[s("h2",{staticClass:"popup__title"},[t._v(t._s(t.$t("popups.new_pass.title")))]),s("div",{staticClass:"popup__inputs"},[s("div",{staticClass:"popup__input input-popup"},[s("h4",{staticClass:"input-popup__title"},[t._v(" "+t._s(t.$t("popups.new_pass.input_login.title"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password1,expression:"password1"}],staticClass:"input-popup__input",attrs:{type:"password",placeholder:t.$t("popups.new_pass.input_login.placeholder")},domProps:{value:t.password1},on:{input:function(e){e.target.composing||(t.password1=e.target.value)}}})]),s("div",{staticClass:"popup__input input-popup"},[s("h4",{staticClass:"input-popup__title"},[t._v(" "+t._s(t.$t("popups.new_pass.input_pass.title"))+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"input-popup__input",attrs:{type:"password",placeholder:t.$t("popups.new_pass.input_pass.placeholder")},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}})])]),t.errors.null?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.new_pass.null"))+" ")]):t._e(),t.errors.not_match?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.new_pass.not_match"))+" ")]):t._e(),t.errors.unknown_request?s("p",{staticClass:"popup__error"},[t._v(" "+t._s(t.$t("errors.unknown_request"))+" ")]):t._e(),t.success_password?s("p",{staticClass:"popup__success"},[t._v(" "+t._s(t.$t("success.change_password"))+" ")]):t._e(),s("button",{staticClass:"popup__btn",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("popups.new_pass.btn"))+" ")])])])])},Te=[],Ve={name:"PopupNewPass",components:{},data(){return{password1:null,password2:null,token:"",errors:{null:!1,not_match:!1,unknown_request:!1},success_password:!1}},directives:{ClickOutside:d()},methods:{emitClose(){this.$router.push({name:"ExcursionsHome"})},async sendNewPass(){return this.errors.unknown_request=!1,this.errors.null=!1,this.errors.not_match=!1,""==this.password1||null==this.password1||""==this.password2||null==this.password2?(this.errors.null=!0,!1):this.password1!=this.password2?(this.errors.not_match=!0,!1):void await h.put("/user/password/reset",{token:this.token,password:this.password1}).then((t=>{this.success_password=!0,setTimeout((()=>{console.log(t.data.data[0]),this.$store.dispatch("setUser",t.data.data[0]),localStorage.setItem("user",JSON.stringify(t.data.data[0])),localStorage.setItem("ref",t.data.data[0].session.ref),h.defaults.headers.common.Authorization=t.data.data[0].session.ref,this.$router.push({name:"ExcursionsHome"})}),1e3)})).catch((t=>{console.log(t),this.errors.unknown_request=!0}))}},created(){const t=this.$route.query.token;t&&(this.token=t)},mounted(){this.success_password=!1}},Ne=Ve,Oe=(0,x.Z)(Ne,He,Te,!1,null,null,null),Ae=Oe.exports,Ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("router-view")],1)},Ze=[],Re={name:"GuideLayout",methods:{}},Fe=Re,je=(0,x.Z)(Fe,Ie,Ze,!1,null,null,null),Le=je.exports,Ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"guide"},[s("section",{staticClass:"guide__top top-guide"},[s("div",{staticClass:"top-guide__wrapper"},[s("div",{staticClass:"top-guide__container container-xl"},[s("div",{staticClass:"top-guide__content"},[s("p",{staticClass:"top-guide__title"},[t._v(" "+t._s(t.$t("excursions.guide.home.banner.title"))+" ")]),s("p",{staticClass:"top-guide__reg-time"},[t._v(" "+t._s(t.$t("excursions.guide.home.banner.descr"))+" ")]),s("p",{staticClass:"top-guide__reg-check"},[s("span",{staticClass:"icon icon-check-circle"}),t._v(" "+t._s(t.$t("excursions.guide.home.banner.list.item1"))+" ")]),s("p",{staticClass:"top-guide__reg-check top-guide__reg-check_last"},[s("span",{staticClass:"icon icon-check-circle"}),t._v(" "+t._s(t.$t("excursions.guide.home.banner.list.item2"))+" ")]),s("button",{staticClass:"top-guide__btn",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.getRights.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("excursions.guide.home.banner.add_excursion"))+" ")]),s("p",{staticClass:"top-guide__btn-descr"},[t._v(" "+t._s(t.$t("excursions.guide.home.banner.create_acc"))+" ")])])])])]),s("section",{staticClass:"guide__benefit benefit-guide"},[s("div",{staticClass:"benefit-guide__container container-xl"},[s("div",{staticClass:"benefit-guide__title"},[t._v(" "+t._s(t.$t("excursions.guide.home.benefit.title"))+" ")]),s("div",{staticClass:"benefit-guide__block"},[s("div",{staticClass:"benefit-guide__item"},[s("div",{staticClass:"benefit-guide__item-title"},[t._v(" "+t._s(t.$t("excursions.guide.home.benefit.card1.title"))+" ")]),s("div",{staticClass:"benefit-guide__item-descr"},[t._v(" "+t._s(t.$t("excursions.guide.home.benefit.card1.descr"))+" ")])]),s("div",{staticClass:"benefit-guide__item"},[s("div",{staticClass:"benefit-guide__item-title"},[t._v(" "+t._s(t.$t("excursions.guide.home.benefit.card2.title"))+" ")]),s("div",{staticClass:"benefit-guide__item-descr"},[t._v(" "+t._s(t.$t("excursions.guide.home.benefit.card2.descr"))+" ")])])])])]),s("section",{staticClass:"guide__howstart howstart-guide"},[s("div",{staticClass:"howstart-guide__container container-xl"},[s("div",{staticClass:"howstart-guide__content"},[s("p",{staticClass:"howstart-guide__title"},[t._v(" "+t._s(t.$t("excursions.guide.home.how_start.title"))+" ")]),s("div",{staticClass:"howstart-guide__steps"},[s("div",{staticClass:"howstart-guide__step"},[s("p",{staticClass:"howstart-guide__number-step"},[t._v("1")]),s("p",{staticClass:"howstart-guide__text-step"},[t._v(" "+t._s(t.$t("excursions.guide.home.how_start.item1"))+" ")])]),s("span",{staticClass:"howstart-guide__arrow icon icon-arrow-right"}),s("div",{staticClass:"howstart-guide__step"},[s("p",{staticClass:"howstart-guide__number-step"},[t._v("2")]),s("p",{staticClass:"howstart-guide__text-step"},[t._v(" "+t._s(t.$t("excursions.guide.home.how_start.item2"))+" ")])]),s("span",{staticClass:"howstart-guide__arrow icon icon-arrow-right"}),s("div",{staticClass:"howstart-guide__step"},[s("p",{staticClass:"howstart-guide__number-step"},[t._v("3")]),s("p",{staticClass:"howstart-guide__text-step"},[t._v(" "+t._s(t.$t("excursions.guide.home.how_start.item3"))+" ")])])])])])]),s("section",{staticClass:"guide__mob-app mob-app"},[s("div",{staticClass:"mob-app__wrapper"},[s("div",{staticClass:"mob-app__container container-xl"},[s("div",{staticClass:"mob-app__content"},[s("p",{staticClass:"mob-app__title",domProps:{innerHTML:t._s(t.$t("excursions.guide.home.mobile_app.banner_title"))}})]),t._m(0)])])]),s("section",{staticClass:"guide__download-app download-app"},[s("div",{staticClass:"download-app__container container-xl"},[s("div",{staticClass:"download-app__content"},[s("div",{staticClass:"download-app__text-block"},[s("p",{staticClass:"download-app__title",domProps:{innerHTML:t._s(t.$t("excursions.guide.home.mobile_app.title"))}}),s("p",{staticClass:"download-app__descr",domProps:{innerHTML:t._s(t.$t("excursions.guide.home.mobile_app.descr"))}})]),s("div",{staticClass:"download-app__links-block"},[t._m(1),s("p",{staticClass:"download-app__links-title"},[t._v(" "+t._s(t.$t("excursions.guide.home.mobile_app.download_title"))+" ")]),t._m(2)])])])])])},qe=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mob-app__phone"},[i("img",{attrs:{src:s(1062),alt:"phone"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"download-app__phone"},[i("img",{attrs:{src:s(1062),alt:"phone"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"download-app__links-btns"},[i("a",{staticClass:"download-app__links-item",attrs:{href:"#"}},[i("img",{staticClass:"download-app__link",attrs:{src:s(5934),alt:"google-play"}})]),i("a",{staticClass:"download-app__links-item",attrs:{href:"#"}},[i("img",{staticClass:"download-app__link",attrs:{src:s(5332),alt:"app-store"}})])])}],Ge={name:"GuideRegistration",methods:{async getRights(){const t=this.$store.getters.getUser;t?(t.address||(t.address={zipcode:"",country:"",city:"",addres_1:"",address_2:""}),await h.post("/user",{first_name:t.first_name,middle_name:t.middle_name,last_name:t.last_name,email:t.email,phone:t.phone,passport:t.passport,privilegies:3,timezone:t.timezone}).then((t=>{this.$store.dispatch("setUser",t.data.data[0]),localStorage.setItem("user",JSON.stringify(t.data.data[0])),this.$router.push({name:"GuideMyExcursions"})})).catch((t=>{console.log(t.response)}))):this.$store.dispatch("popupSignIn",!0)}},mounted(){}},Be=Ge,We=(0,x.Z)(Be,Ue,qe,!1,null,"65f5dbc7",null),ze=We.exports,Ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-excursions"},[s("div",{staticClass:"container-xl"},[s("div",{staticClass:"my-excursions__content"},[s("h2",{staticClass:"my-excursions__title"},[t._v(" "+t._s(t.$t("excursions.guide.my_excursions.title"))+" ")]),s("p",{staticClass:"my-excursions__descr"},[t._v(" "+t._s(t.$t("excursions.guide.my_excursions.descr"))+" ")]),s("div",{staticClass:"my-excursions__cards-wrapper"},[0==t.excursions?s("p",{staticClass:"my-excursions__empty"},[t._v(" "+t._s(t.$t("excursions.guide.my_excursions.empty"))+" ")]):t._e(),t._l(t.excursions,(function(t,e){return s("card-excursion",{key:e,attrs:{excursion:t,my_excursion:!0}})}))],2),0==t.excursions?s("router-link",{staticClass:"my-excursions__add",attrs:{to:{name:"GuideAddExcursion"}}},[t._v(" "+t._s(t.$t("excursions.guide.my_excursions.add"))+" ")]):t._e()],1)])])},Je=[],Qe={name:"GuideMyExcursions",components:{CardExcursion:qt},data(){return{owner_id:null,excursions:null,errors:{}}},methods:{async getMyExcursions(){await h.get("/guide/my").then((t=>{t.data.data?this.excursions=t.data.data:this.excursions=0})).catch((t=>{console.log(t)}))}},mounted(){this.owner_id=this.$store.getters.getUser.id,this.getMyExcursions()}},Ke=Qe,Xe=(0,x.Z)(Ke,Ye,Je,!1,null,"790902c2",null),ts=Xe.exports,es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"add-excursion"},[s("div",{staticClass:"container-m"},[s("div",{staticClass:"add-excursion__content"},[s("h1",{staticClass:"add-excursion__title"},[t._v(" "+t._s(t.title?t.title:t.$t("excursions.guide.add_excursion.title"))+" ")]),s("p",{staticClass:"add-excursion__notif"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.notif"))+" ")]),s("help-info",{staticClass:"add-excursion__info-main",attrs:{color_style:"green"}},[s("p",{domProps:{innerHTML:t._s(t.$t("excursions.guide.add_excursion.info"))}})]),s("div",{staticClass:"add-excursion__block"},[s("h2",{staticClass:"add-excursion__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.topic.title"))+" ")]),s("div",{staticClass:"add-excursion__input input__box"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.excursion.subject,expression:"excursion.subject",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",placeholder:t.$t("excursions.guide.add_excursion.topic.placeholder")},domProps:{value:t.excursion.subject},on:{input:function(e){e.target.composing||t.$set(t.excursion,"subject",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.errors.subject?s("p",{staticClass:"error"},[t._v(t._s(t.$t("errors.required")))]):t._e(),t.errors.subject_length?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.max_length",{num:300}))+" ")]):t._e(),s("help-info",{staticClass:"add-excursion__info",attrs:{color_style:"green"}},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.topic.info"))+" ")])],1),s("div",{staticClass:"add-excursion__block"},[s("h2",{staticClass:"add-excursion__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.subtitle.title"))+" ")]),s("div",{staticClass:"add-excursion__input input__box"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.excursion.subtitle,expression:"excursion.subtitle",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",placeholder:t.$t("excursions.guide.add_excursion.subtitle.placeholder")},domProps:{value:t.excursion.subtitle},on:{input:function(e){e.target.composing||t.$set(t.excursion,"subtitle",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.errors.subtitle?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.required"))+" ")]):t._e(),t.errors.subtitle_length?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.max_length",{num:300}))+" ")]):t._e(),s("help-info",{staticClass:"add-excursion__info",attrs:{color_style:"green"}},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.subtitle.info"))+" ")])],1),s("div",{staticClass:"add-excursion__block"},[s("h2",{staticClass:"add-excursion__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.descr.title"))+" ")]),s("div",{staticClass:"add-excursion__input input__box"},[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.excursion.descr,expression:"excursion.descr",modifiers:{trim:!0}}],staticClass:"input input--l",attrs:{placeholder:t.$t("excursions.guide.add_excursion.descr.placeholder")},domProps:{value:t.excursion.descr},on:{input:function(e){e.target.composing||t.$set(t.excursion,"descr",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.errors.descr?s("p",{staticClass:"error"},[t._v(t._s(t.$t("errors.required")))]):t._e(),s("help-info",{staticClass:"add-excursion__info",attrs:{color_style:"green"}},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.descr.info"))+" ")])],1),s("div",{staticClass:"add-excursion__block tags"},[s("h2",{staticClass:"add-excursion__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.tags.title"))+" ")]),s("div",{staticClass:"add-tag"},[s("div",{staticClass:"add-tag__content"},[s("div",{staticClass:"add-tag__list-wrap"},[t.excursion.tags.list.length?t._e():s("p",{staticClass:"add-tag__holder"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.tags.placeholder"))+" ")]),s("ul",{staticClass:"add-tag__list"},[t._l(t.excursion.tags.list,(function(e,i){return s("li",{key:i,staticClass:"add-tag__item"},[s("span",{staticClass:"add-tag__item-name"},[t._v(t._s(e.tag))]),s("button",{staticClass:"add-tag__item-delete icon icon-trash",attrs:{type:"button"},on:{click:function(s){return t.deleteTag(e,i)}}})])})),t.excursion.tags.list.length<8?s("button",{staticClass:"add-tag__icon-add icon icon-plus-out",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.openPopupTags.apply(null,arguments)}}}):t._e()],2)])])]),t.errors.tags?s("p",{staticClass:"error"},[t._v(t._s(t.$t("errors.required")))]):t._e(),t.excursion.tags.popup_add_tag?s("div",{staticClass:"popup"},[s("div",{staticClass:"popup__body"},[s("form",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closePopupTags,expression:"closePopupTags"}],staticClass:"popup__content",on:{submit:function(e){return e.preventDefault(),t.selectTag.apply(null,arguments)}}},[s("h2",{staticClass:"popup__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.tags.popup.title"))+" ")]),s("div",{staticClass:"popup__inputs"},[s("div",{staticClass:"popup__input input-popup"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.excursion.tags.input,expression:"excursion.tags.input",modifiers:{trim:!0}}],staticClass:"input-popup__input",attrs:{type:"text"},domProps:{value:t.excursion.tags.input},on:{keyup:function(e){return t.searchTags(t.excursion.tags.input)},input:function(e){e.target.composing||t.$set(t.excursion.tags,"input",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),t.excursion.tags.options.length?s("div",{staticClass:"popup__input-dropdown"},[s("ul",{staticClass:"popup__dropdown-list"},t._l(this.excursion.tags.options,(function(e,i){return s("li",{key:i,staticClass:"popup__dropdown-item",on:{click:function(s){return t.enterTag(e.tag)}}},[t._v(" "+t._s(e.tag)+" ")])})),0)]):t._e(),s("div",{staticClass:"popup__btn-wrap"},[s("button",{staticClass:"popup__btn-cancel",attrs:{type:"button"},on:{click:t.closePopupTags}},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.tags.popup.cancel"))+" ")]),s("button",{staticClass:"popup__btn-add",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.tags.popup.add"))+" ")])])])])]):t._e(),s("help-info",{staticClass:"add-excursion__info",attrs:{color_style:"green"}},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.tags.info"))+" ")])],1),s("div",{staticClass:"add-excursion__block"},[s("h2",{staticClass:"add-excursion__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.content.title"))+" ")]),s("help-info",{staticClass:"add-excursion__info",attrs:{color_style:"green"}},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.content.info1"))+" ")]),s("help-info",{staticClass:"add-excursion__info",attrs:{color_style:"green"}},[s("p",{domProps:{innerHTML:t._s(t.$t("excursions.guide.add_excursion.content.info2"))}})])],1),s("div",{staticClass:"add-excursion__block"},[s("h2",{staticClass:"add-excursion__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.main_photo.title"))+" ")]),s("input-image",{attrs:{src2:t.photo.main.src},on:{src:function(e){return t.photo.main.src=e}}}),t.errors.photo?s("p",{staticClass:"error"},[t._v(t._s(t.$t("errors.required")))]):t._e()],1),s("div",{staticClass:"add-excursion__points"},[t._l(t.excursion.points,(function(e,i){return s("div",{key:i,staticClass:"add-excursion__block add-excursion__point"},[s("h4",{staticClass:"add-excursion__point-num"},[t._v(" "+t._s(i+1+t.$t("excursions.guide.add_excursion.points.num"))+" ")]),s("h2",{staticClass:"add-excursion__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.points.title"))+" ")]),s("div",{staticClass:"add-excursion__input input__box"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.subject,expression:"point.subject",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",placeholder:t.$t("excursions.guide.add_excursion.points.title_placeholder")},domProps:{value:e.subject},on:{input:function(s){s.target.composing||t.$set(e,"subject",s.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),e.error_subject?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.required"))+" ")]):t._e(),e.error_subject_length?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.max_length",{num:300}))+" ")]):t._e(),s("div",{staticClass:"add-excursion__input input__box"},[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.descr,expression:"point.descr",modifiers:{trim:!0}}],staticClass:"input input--l",attrs:{type:"text",placeholder:t.$t("excursions.guide.add_excursion.points.descr_placeholder")},domProps:{value:e.descr},on:{input:function(s){s.target.composing||t.$set(e,"descr",s.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),e.error_descr?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.required"))+" ")]):t._e(),s("div",{staticClass:"add-excursion__point-flex"},[s("div",{staticClass:"add-excursion__point-flex-box"},[s("div",{staticClass:"add-excursion__point-time point-time"},[s("h5",{staticClass:"point-time__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.points.time_to_place"))+" ")]),s("div",{staticClass:"point-time__box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.roadtime,expression:"point.roadtime"}],staticClass:"point-time__input input",attrs:{type:"number",placeholder:"00"},domProps:{value:e.roadtime},on:{input:function(s){s.target.composing||t.$set(e,"roadtime",s.target.value)}}}),s("span",{staticClass:"point-time__minuts"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.points.min"))+" ")])])]),s("div",{staticClass:"add-excursion__point-time point-time"},[s("h5",{staticClass:"point-time__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.points.parking_dur"))+" ")]),s("div",{staticClass:"point-time__box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.stoptime,expression:"point.stoptime"}],staticClass:"point-time__input input",attrs:{type:"number",placeholder:"00"},domProps:{value:e.stoptime},on:{input:function(s){s.target.composing||t.$set(e,"stoptime",s.target.value)}}}),s("span",{staticClass:"point-time__minuts"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.points.min"))+" ")])])])]),s("input-image",{attrs:{src2:e.image.src,caption:!0,name:e.image.name},on:{src:function(t){return e.image.src=t},emitCaption:function(t){return e.image.name=t}}})],1)])})),s("div",{staticClass:"add-excursion__add-point-block"},[s("button",{staticClass:"add-excursion__add-point",attrs:{type:"button"},on:{click:t.addPoint}},[s("span",{staticClass:"icon icon-plus"}),t._v(" "+t._s(t.$t("excursions.guide.add_excursion.points.add"))+" ")]),s("p",{staticClass:"add-excursion__add-point-info"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.points.add_info"))+" ")])])],2),s("div",{staticClass:"add-excursion__block"},[s("h2",{staticClass:"add-excursion__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.organization.title"))+" ")]),s("div",{staticClass:"add-excursion__input input__box"},[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.excursion.details,expression:"excursion.details",modifiers:{trim:!0}}],staticClass:"input input--xl",attrs:{placeholder:t.$t("excursions.guide.add_excursion.organization.placeholder")},domProps:{value:t.excursion.details},on:{input:function(e){e.target.composing||t.$set(t.excursion,"details",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.errors.details?s("p",{staticClass:"error"},[t._v(t._s(t.$t("errors.required")))]):t._e(),s("help-info",{staticClass:"add-excursion__info",attrs:{color_style:"green"}},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.organization.info"))+" ")])],1),s("div",{staticClass:"add-excursion__block"},[s("h2",{staticClass:"add-excursion__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.terms.title"))+" ")]),s("div",{staticClass:"add-excursion__term term"},[s("div",{staticClass:"term__flex-row"},[s("div",{staticClass:"term__flex-row-item"},[s("h4",{staticClass:"term__row-title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.terms.country.title"))+" ")]),s("dropdown-select",{staticClass:"term__input",staticStyle:{width:"215px"},attrs:{placeholder:t.$t("excursions.guide.add_excursion.terms.country.placeholder"),error:t.errors.country,value:t.excursion.country,body:t.dropdownsData.countries},on:{selectedValue:t.selectCountry}})],1),s("div",{staticClass:"term__flex-row-item"},[s("h4",{staticClass:"term__row-title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.terms.town.title"))+" ")]),s("dropdown-select",{staticClass:"term__input",staticStyle:{width:"215px"},attrs:{placeholder:t.$t("excursions.guide.add_excursion.terms.town.placeholder"),error:t.errors.city,body:t.dropdownsData.cities,value:t.excursion.city},on:{selectedValue:t.selectCity}})],1)])]),s("div",{staticClass:"add-excursion__term term--lang"},[s("div",{staticClass:"term__flex-row"},[s("h4",{staticClass:"term__row-title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.terms.langs.title"))+" ")]),s("p",{staticClass:"term__descr term__descr--mobile"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.terms.langs.descr"))+" ")]),s("ul",{staticClass:"term__langs"},t._l(t.excursion.langs,(function(e,i){return s("li",{key:i,staticClass:"term__lang"},[t._v(" "+t._s(e)+" "),s("button",{staticClass:"term__lang-icon icon icon-trash",attrs:{type:"button"},on:{click:function(e){return t.removeSelectLang(i)}}})])})),0),s("dropdown-select",{staticClass:"term__input",staticStyle:{width:"215px"},attrs:{placeholder:t.$t("excursions.guide.add_excursion.terms.langs.placeholder"),body:t.dropdownsData.langs},on:{selectedValue:t.selectLangs}})],1),t.errors.langs?s("p",{staticClass:"error"},[t._v(t._s(t.$t("errors.required")))]):t._e()]),s("p",{staticClass:"term__descr term__descr--desktop"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.terms.langs.descr"))+" ")]),s("div",{staticClass:"add-excursion__term term"},[s("h4",{staticClass:"term__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.terms.duration.title"))+" ")]),s("div",{staticClass:"term__rightside"},[s("dropdown-select",{staticClass:"term__input",staticStyle:{width:"130px"},attrs:{placeholder:t.$t("excursions.guide.add_excursion.terms.duration.placeholder"),body:t.$t("excursions.guide.add_excursion.terms.duration.options"),value:t.excursion.duration.name},on:{selectedValue:t.selectDuration}})],1)]),t.errors.duration?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.required"))+" ")]):t._e(),s("div",{staticClass:"add-excursion__term term"},[s("h4",{staticClass:"term__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.terms.length.title"))+" ")]),s("div",{staticClass:"term__rightside"},[s("div",{staticClass:"term__amount"},[s("div",{staticClass:"term__amount-input input__box",staticStyle:{width:"66px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.excursion.length_val,expression:"excursion.length_val"}],staticClass:"input",attrs:{type:"number",placeholder:t.$t("excursions.guide.add_excursion.terms.length.placeholder")},domProps:{value:t.excursion.length_val},on:{input:function(e){e.target.composing||t.$set(t.excursion,"length_val",e.target.value)}}})]),s("p",{staticClass:"term__amount-text"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.terms.length.unit"))+" ")])])])]),t.errors.length?s("p",{staticClass:"error"},[t._v(t._s(t.$t("errors.required")))]):t._e(),s("div",{staticClass:"add-excursion__term term"},[s("h4",{staticClass:"term__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.terms.amount.title"))+" ")]),s("div",{staticClass:"term__rightside"},[s("div",{staticClass:"term__amount"},[s("div",{staticClass:"term__amount-input input__box",staticStyle:{width:"66px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.excursion.amount,expression:"excursion.amount"}],staticClass:"input",attrs:{type:"number",placeholder:t.$t("excursions.guide.add_excursion.terms.amount.placeholder")},domProps:{value:t.excursion.amount},on:{input:function(e){e.target.composing||t.$set(t.excursion,"amount",e.target.value)}}})]),s("label",{staticClass:"term__check-block"},[s("span",{staticClass:"term__ckeck-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.excursion.children,expression:"excursion.children"}],staticClass:"term__check-none",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.excursion.children)?t._i(t.excursion.children,null)>-1:t.excursion.children},on:{change:function(e){var s=t.excursion.children,i=e.target,a=!!i.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);i.checked?r<0&&t.$set(t.excursion,"children",s.concat([o])):r>-1&&t.$set(t.excursion,"children",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.excursion,"children",a)}}}),s("span",{staticClass:"term__check-style"})]),s("span",{staticClass:"term__ckeck-text"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.terms.amount.children"))+" ")])])])])]),t.errors.amount?s("p",{staticClass:"error"},[t._v(t._s(t.$t("errors.required")))]):t._e(),s("div",{staticClass:"add-excursion__term term"},[s("h4",{staticClass:"term__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.terms.move.title"))+" ")]),s("div",{staticClass:"term__rightside"},[s("dropdown-select",{staticClass:"term__input",staticStyle:{width:"215px"},attrs:{placeholder:t.$t("excursions.guide.add_excursion.terms.move.placeholder"),body:t.$t("excursions.guide.add_excursion.terms.move.options"),value:t.excursion.moves.name},on:{selectedValue:t.selectMovement}})],1)]),t.errors.moves?s("p",{staticClass:"error"},[t._v(t._s(t.$t("errors.required")))]):t._e()]),s("div",{staticClass:"add-excursion__block"},[s("h2",{staticClass:"add-excursion__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.schedule.title"))+" ")]),s("div",{staticClass:"add-excursion__radio-block radio-block"},[s("h3",{staticClass:"radio-block__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.schedule.type.title"))+" ")]),s("div",{staticClass:"radio-block__content"},[s("div",{staticClass:"radio-block__item"},[s("label",{staticClass:"radio-block__check-block"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.excursion.type,expression:"excursion.type"}],staticClass:"radio-block__check-none",attrs:{type:"radio"},domProps:{value:"individual",checked:t._q(t.excursion.type,"individual")},on:{change:function(e){return t.$set(t.excursion,"type","individual")}}}),s("span",{staticClass:"radio-block__check-style"})]),s("div",{staticClass:"radio-block__text",domProps:{innerHTML:t._s(t.$t("excursions.guide.add_excursion.schedule.type.type1"))}})]),s("div",{staticClass:"radio-block__item"},[s("label",{staticClass:"radio-block__check-block"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.excursion.type,expression:"excursion.type"}],staticClass:"radio-block__check-none",attrs:{type:"radio"},domProps:{value:"groups",checked:t._q(t.excursion.type,"groups")},on:{change:function(e){return t.$set(t.excursion,"type","groups")}}}),s("span",{staticClass:"radio-block__check-style"})]),s("div",{staticClass:"radio-block__text",domProps:{innerHTML:t._s(t.$t("excursions.guide.add_excursion.schedule.type.type2"))}})])])]),s("div",{staticClass:"add-excursion__schedule schedule"},[s("h3",{staticClass:"schedule__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.schedule.days.title"))+" ")]),s("div",{staticClass:"schedule__content"},[s("ul",{staticClass:"schedule__main"},t._l(t.excursion.schedule,(function(e,i){return s("li",{key:i,staticClass:"schedule__day"},[s("h4",{staticClass:"schedule__day-name"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.schedule.days.names["+i+"]"))+" ")]),s("div",{staticClass:"schedule__day-content"},[0==e.time.length?s("button",{staticClass:"schedule__add-new-time",attrs:{type:"button"},on:{click:function(s){return t.addTime(e.time.length,e.day)}}},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.schedule.days.add_new_time"))+" ")]):t._e(),s("ul",{staticClass:"schedule__times"},t._l(e.time,(function(i,a){return s("li",{key:a,staticClass:"schedule__time"},[s("dropdown-select",{attrs:{type:"xs",placeholder:t.dropdownsData.time_placeholder,body:t.dropdownsData.time,value:i.start},on:{selectedValue:t.selectStartTime,selected:function(e){return t.selectStartTime2(i)}}}),s("button",{staticClass:"schedule__close icon icon-close",attrs:{type:"button"},on:{click:function(s){return t.removeTime(e.day,a)}}})],1)})),0),0!=e.time.length?s("button",{staticClass:"schedule__add-time icon icon-plus-out",attrs:{type:"button"},on:{click:function(s){return t.addTime(e.time.length,e.day)}}}):t._e()])])})),0),t.errors.schedule?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.schedule.select_time"))+" ")]):t._e(),s("help-info",{staticClass:"add-excursion__info",attrs:{color_style:"green"}},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.schedule.days.info"))+" ")])],1)]),s("div",{staticClass:"add-excursion__expire expire"},[s("h3",{staticClass:"expire__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.schedule.expire.title"))+" ")]),s("div",{staticClass:"expire__content"},[s("dropdown-select",{staticStyle:{width:"215px"},attrs:{placeholder:t.$t("excursions.guide.add_excursion.schedule.expire.placeholder"),error:t.errors.expire,body:t.$t("excursions.guide.add_excursion.schedule.expire.options")},on:{selectedValue:t.selectExpire}})],1)])]),s("div",{staticClass:"add-excursion__block add-excursion__place place"},[s("h2",{staticClass:"add-excursion__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.place.title"))+" ")]),s("div",{staticClass:"place__block"},[s("div",{staticClass:"place__flex"},[s("h4",{staticClass:"place__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.place.checkbox.title"))+" ")]),s("div",{staticClass:"place__check-block"},[s("label",{staticClass:"place__check-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.excursion.common_point,expression:"excursion.common_point"}],staticClass:"place__check-none",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.excursion.common_point)?t._i(t.excursion.common_point,null)>-1:t.excursion.common_point},on:{change:[function(e){var s=t.excursion.common_point,i=e.target,a=!!i.checked;if(Array.isArray(s)){var o=null,r=t._i(s,o);i.checked?r<0&&t.$set(t.excursion,"common_point",s.concat([o])):r>-1&&t.$set(t.excursion,"common_point",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.excursion,"common_point",a)},t.removeCommonPoint]}}),s("span",{staticClass:"place__check-style"})]),s("p",{staticClass:"place__check-text"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.place.checkbox.text"))+" ")])])])]),s("div",{staticClass:"place__block"},[s("div",{staticClass:"place__flex"},[s("h4",{staticClass:"place__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.place.approximate.title"))+" ")]),s("p",{staticClass:"place__descr"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.place.approximate.descr"))+" ")])]),s("div",{staticClass:"add-excursion__input input__box"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.excursion.expect_point,expression:"excursion.expect_point",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",placeholder:t.$t("excursions.guide.add_excursion.place.approximate.placeholder")},domProps:{value:t.excursion.expect_point},on:{input:function(e){e.target.composing||t.$set(t.excursion,"expect_point",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.errors.expect_point?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.required"))+" ")]):t._e()]),t.excursion.common_point?s("div",{staticClass:"place__block"},[s("div",{staticClass:"place__flex"},[s("h4",{staticClass:"place__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.place.exact.title"))+" ")]),s("p",{staticClass:"place__descr"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.place.exact.descr"))+" ")])]),s("div",{staticClass:"add-excursion__input input__box"},[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.excursion.exact_point,expression:"excursion.exact_point",modifiers:{trim:!0}}],staticClass:"input input--l",attrs:{placeholder:t.$t("excursions.guide.add_excursion.place.exact.placeholder")},domProps:{value:t.excursion.exact_point},on:{input:function(e){e.target.composing||t.$set(t.excursion,"exact_point",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.errors.exact_point?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.required"))+" ")]):t._e(),s("div",{staticClass:"place__map map"},[t.open_map?t._e():s("button",{staticClass:"map__btn",attrs:{type:"button"},on:{click:function(e){t.open_map=!0}}},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.place.map.btn"))+" ")]),t.open_map?s("div",{staticClass:"map__content"},[s("h3",{staticClass:"map__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.place.map.title"))+" ")]),s("div",{staticClass:"map__control"},[s("GmapMap",{ref:"gmap",staticStyle:{width:"100%",height:"290px"},attrs:{center:t.center,zoom:5,streetView:!1}},[s("gmap-marker",{attrs:{position:t.marker.position,clickable:!0,draggable:!1},on:{click:function(e){t.center=t.marker.position},dragend:t.setPlace2}})],1)],1),s("div",{staticClass:"map__details"},[s("div",{staticClass:"map__input"},[s("h4",{staticClass:"map__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.place.map.address.title"))+" ")]),s("div",{staticClass:"add-excursion__input input__box"},[s("gmap-autocomplete",{staticClass:"input",attrs:{value:t.marker.name,placeholder:t.$t("excursions.guide.add_excursion.place.map.address.placeholder"),"select-first-on-enter":!0},on:{place_changed:t.setPlace}})],1)]),s("div",{staticClass:"map__flex"},[s("div",{staticClass:"map__input"},[s("h4",{staticClass:"map__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.place.map.y.title"))+" ")]),s("div",{staticClass:"add-excursion__input input__box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.marker.position.lat,expression:"marker.position.lat"}],staticClass:"input",attrs:{type:"number",disabled:"",placeholder:t.$t("excursions.guide.add_excursion.place.map.y.placeholder")},domProps:{value:t.marker.position.lat},on:{input:function(e){e.target.composing||t.$set(t.marker.position,"lat",e.target.value)}}})])]),s("div",{staticClass:"map__input"},[s("h4",{staticClass:"map__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.place.map.x.title"))+" ")]),s("div",{staticClass:"add-excursion__input input__box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.marker.position.lng,expression:"marker.position.lng"}],staticClass:"input",attrs:{type:"number",disabled:"",placeholder:t.$t("excursions.guide.add_excursion.place.map.x.placeholder")},domProps:{value:t.marker.position.lng},on:{input:function(e){e.target.composing||t.$set(t.marker.position,"lng",e.target.value)}}})])])])])]):t._e()])]):t._e()]),s("div",{staticClass:"add-excursion__block price"},[s("h2",{staticClass:"add-excursion__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.price.title"))+" ")]),s("help-info",{staticClass:"add-excursion__info",attrs:{color_style:"green"}},[s("p",{domProps:{innerHTML:t._s(t.$t("excursions.guide.add_excursion.price.info"))}})]),s("div",{staticClass:"price__flex"},[s("h4",{staticClass:"price__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.price.type.title"))+" ")]),s("div",{staticClass:"price__rightside"},[s("div",{staticClass:"price__radio"},[s("label",{staticClass:"price__check-block"},[s("span",{staticClass:"price__check-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.excursion.price_type,expression:"excursion.price_type"}],staticClass:"price__check-none",attrs:{type:"radio",value:"excursion"},domProps:{checked:t._q(t.excursion.price_type,"excursion")},on:{change:function(e){return t.$set(t.excursion,"price_type","excursion")}}}),s("span",{staticClass:"price__check-style"})]),s("span",{staticClass:"price__check-text"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.price.type.excursion"))+" ")])]),s("label",{staticClass:"price__check-block"},[s("span",{staticClass:"price__check-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.excursion.price_type,expression:"excursion.price_type"}],staticClass:"price__check-none",attrs:{type:"radio",value:"person"},domProps:{checked:t._q(t.excursion.price_type,"person")},on:{change:function(e){return t.$set(t.excursion,"price_type","person")}}}),s("span",{staticClass:"price__check-style"})]),s("span",{staticClass:"price__check-text"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.price.type.person"))+" ")])])])])]),s("div",{staticClass:"price__flex"},[s("h4",{staticClass:"price__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.price.variant.title"))+" ")]),s("div",{staticClass:"price__rightside"},[s("div",{staticClass:"price__radio"},[s("label",{staticClass:"price__check-block"},[s("span",{staticClass:"price__check-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.excursion.price_variant,expression:"excursion.price_variant"}],staticClass:"price__check-none",attrs:{type:"radio",value:"single"},domProps:{checked:t._q(t.excursion.price_variant,"single")},on:{change:function(e){return t.$set(t.excursion,"price_variant","single")}}}),s("span",{staticClass:"price__check-style"})]),s("span",{staticClass:"price__check-text"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.price.variant.single"))+" ")])]),s("label",{staticClass:"price__check-block"},[s("span",{staticClass:"price__check-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.excursion.price_variant,expression:"excursion.price_variant"}],staticClass:"price__check-none",attrs:{type:"radio",value:"tickets"},domProps:{checked:t._q(t.excursion.price_variant,"tickets")},on:{change:function(e){return t.$set(t.excursion,"price_variant","tickets")}}}),s("span",{staticClass:"price__check-style"})]),s("span",{staticClass:"price__check-text"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.price.variant.by_types"))+" ")])])])])]),s("div",{staticClass:"price__flex"},[s("h4",{staticClass:"price__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.price.tickets.title"))+" ")]),s("div",{staticClass:"price__rightside"},[s("div",{staticClass:"price__table price-table"},[s("div",{staticClass:"price-table__row"},[s("div",{staticClass:"price-table__item-left"},[s("h5",{staticClass:"price-table__head"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.price.tickets.category_title"))+" ")])]),s("div",{staticClass:"price-table__item-right"},[s("h5",{staticClass:"price-table__head"},[t._v(" "+t._s(t.costTypeTitle)+" ")])])]),s("div",{staticClass:"price-table__row"},[s("div",{staticClass:"price-table__item-left"},[s("p",{staticClass:"price-table__category input"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.price.tickets.default.title"))+" ")])]),s("div",{staticClass:"price-table__item-right"},[s("div",{staticClass:"price-table__price"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.excursion.tickets.default,expression:"excursion.tickets.default",modifiers:{trim:!0}}],staticClass:"price-table__price-val input",attrs:{type:"number"},domProps:{value:t.excursion.tickets.default},on:{input:function(e){e.target.composing||t.$set(t.excursion.tickets,"default",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("span",{staticClass:"price-table__currency icon icon-euro"})]),s("p",{staticClass:"price-table__descr --desktop"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.price.tickets.default.descr"))+" ")])])]),t.errors.tickets_default?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.required"))+" ")]):t._e(),s("div",{staticClass:"price-table__row --mobile"},[s("p",{staticClass:"price-table__descr"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.price.tickets.default.descr"))+" ")])]),"single"!=t.excursion.price_variant&&t.excursion.children?s("div",{staticClass:"price-table__row"},[s("div",{staticClass:"price-table__item-left"},[s("p",{staticClass:"price-table__category input"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.price.tickets.children.title"))+" ")])]),s("div",{staticClass:"price-table__item-right"},[s("div",{staticClass:"price-table__price"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.excursion.tickets.children,expression:"excursion.tickets.children",modifiers:{trim:!0}}],staticClass:"price-table__price-val input",attrs:{type:"number"},domProps:{value:t.excursion.tickets.children},on:{input:function(e){e.target.composing||t.$set(t.excursion.tickets,"children",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("span",{staticClass:"price-table__currency icon icon-euro"})])])]):t._e(),t.errors.tickets_children?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.required"))+" ")]):t._e()])])]),s("help-info",{staticClass:"add-excursion__info",attrs:{color_style:"green"}},[s("p",{domProps:{innerHTML:t._s(t.$t("excursions.guide.add_excursion.price.tickets.info"))}})]),s("div",{staticClass:"price__flex"},[s("h4",{staticClass:"price__title price__title-min-price",domProps:{innerHTML:t._s(t.$t("excursions.guide.add_excursion.price.min.title"))}}),s("div",{staticClass:"price__min"},[s("div",{staticClass:"price__min-value input__box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.excursion.min_price,expression:"excursion.min_price"}],staticClass:"input",attrs:{type:"number"},domProps:{value:t.excursion.min_price},on:{input:function(e){e.target.composing||t.$set(t.excursion,"min_price",e.target.value)}}})]),s("span",{staticClass:"price__currency icon icon-euro"})])]),s("help-info",{staticClass:"add-excursion__info",attrs:{color_style:"green"}},[s("p",{domProps:{innerHTML:t._s(t.$t("excursions.guide.add_excursion.price.min.info1"))}})]),s("help-info",{staticClass:"add-excursion__info",attrs:{color_style:"green"}},[s("p",{domProps:{innerHTML:t._s(t.$t("excursions.guide.add_excursion.price.min.info2"))}})])],1),s("div",{staticClass:"add-excursion__block calendar"},[s("h3",{staticClass:"add-excursion__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.calendar.title"))+" ")]),s("help-info",{staticClass:"add-excursion__info",attrs:{color_style:"green"}},[s("p",{domProps:{innerHTML:t._s(t.$t("excursions.guide.add_excursion.calendar.info"))}})]),s("div",{staticClass:"calendar__picker"},[s("div",{staticClass:"excursion-calendar__wrap"},[s("date-picker",{directives:[{name:"show",rawName:"v-show",value:t.always_false,expression:"always_false"}]}),s("calendar-panel",{attrs:{calendar:t.calendar.calendar1,"get-classes":t.getClasses},on:{"update:calendar":t.handleUpdateCalendar1,select:t.handleSelect},model:{value:t.calendar.datepicker,callback:function(e){t.$set(t.calendar,"datepicker",e)},expression:"calendar.datepicker"}}),s("calendar-panel",{attrs:{calendar:t.calendar.calendar2,"get-classes":t.getClasses,valueType:"format"},on:{"update:calendar":t.handleUpdateCalendar2,select:t.handleSelect},model:{value:t.calendar.datepicker,callback:function(e){t.$set(t.calendar,"datepicker",e)},expression:"calendar.datepicker"}})],1),s("div",{staticClass:"excursion-calendar__info"},[s("div",{staticClass:"excursion-calendar__info-item excursion-calendar__info-item--red"},[s("span"),t._v(" "+t._s(t.$t("calendar.info.busy"))+" ")]),s("div",{staticClass:"excursion-calendar__info-item excursion-calendar__info-item--green"},[s("span"),t._v(" "+t._s(t.$t("calendar.info.free"))+" ")])])]),s("div",{staticClass:"calendar__changes calendar-changes"},[s("h4",{staticClass:"calendar-changes__title"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.calendar.changes.title"))+" ")]),s("div",{staticClass:"calendar-changes__selected-row"},[s("span",{staticClass:"calendar-changes__selected"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.calendar.changes.selected",{amount:t.calendar.selected.length}))+" ")]),s("button",{staticClass:"calendar-changes__remove",attrs:{type:"button"},on:{click:t.removeSelectedCells}},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.calendar.changes.remove"))+" ")])]),s("div",{staticClass:"calendar-changes__row"},[s("div",{staticClass:"calendar-changes__row-box"},[s("div",{staticClass:"calendar-changes__change"},[s("dropdown-select",{attrs:{body:t.$t("excursions.guide.add_excursion.calendar.changes.options"),placeholder:t.$t("excursions.guide.add_excursion.calendar.changes.options_placeholder")},on:{selectedValue:t.selectDiscountOptions}})],1),s("p",{staticClass:"calendar-changes__change-on"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.calendar.changes.text_change_on"))+" ")]),s("div",{staticClass:"calendar-changes__value"},[s("dropdown-select",{attrs:{body:t.$t("excursions.guide.add_excursion.calendar.changes.size")},on:{selectedValue:t.selectDiscountValue}})],1)]),s("button",{staticClass:"calendar-changes__confirm",attrs:{type:"button"},on:{click:t.changeDiscount}},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.calendar.changes.confirm"))+" ")])])])],1),s("div",{staticClass:"add-excursion__block about"},[s("h3",{staticClass:"add-excursion__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.about.title"))+" ")]),s("div",{staticClass:"about__flex-row"},[s("h4",{staticClass:"about__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.about.subtitle"))+" ")]),s("div",{staticClass:"about__input input__box"},[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.excursion.about,expression:"excursion.about",modifiers:{trim:!0}}],staticClass:"input input--l",domProps:{value:t.excursion.about},on:{input:function(e){e.target.composing||t.$set(t.excursion,"about",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),t.errors.about?s("p",{staticClass:"error"},[t._v(t._s(t.$t("errors.required")))]):t._e(),s("help-info",{staticClass:"add-excursion__info",attrs:{color_style:"green"}},[s("p",{domProps:{innerHTML:t._s(t.$t("excursions.guide.add_excursion.about.info"))}})])],1),s("div",{staticClass:"add-excursion__save"},[t.errors.post?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.unknown_request"))+" ")]):t._e(),t.errors.all?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.all"))+" ")]):t._e(),t.success.post?s("p",{staticClass:"success"},[t._v(" "+t._s(t.$t("success.new_excursion"))+" ")]):t._e(),t.errors.photo_new?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.photo"))+" ")]):t._e(),s("button",{staticClass:"add-excursion__save-btn",attrs:{disabled:t.wait},on:{click:t.sendExcursion}},[t._v(" "+t._s(t.wait?t.$t("excursions.guide.add_excursion.wait"):t.$t("excursions.guide.add_excursion.save"))+" ")]),s("button",{staticClass:"add-excursion__watch"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.watch"))+" ")])])],1)])])},ss=[],is=(s(6699),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{ref:"fileform",staticClass:"photo"},[""!=t.src?s("div",{staticClass:"photo__image"},[s("img",{attrs:{src:t.src}}),t.preloader?s("v-preloader",{staticClass:"preloader"}):t._e(),s("button",{staticClass:"photo__remove icon icon-trash",attrs:{type:"button"},on:{click:t.removeFile}})],1):t._e(),s("div",{staticClass:"photo__add-change"},[s("label",{staticClass:"photo__btn"},[s("input",{ref:"input",staticClass:"input-file",attrs:{type:"file",accept:".png, .jpg, .jpeg"},on:{change:t.upload}}),t._v(" "+t._s(""==t.src?t.$t("excursions.guide.add_excursion.photo.add"):t.$t("excursions.guide.add_excursion.photo.change"))+" ")])]),s("p",{staticClass:"photo__descr"},[t._v(" "+t._s(t.$t("excursions.guide.add_excursion.photo.descr"))+" ")]),t.caption?s("input",{directives:[{name:"model",rawName:"v-model",value:t.caption_value,expression:"caption_value"}],staticClass:"message",attrs:{type:"text",placeholder:t.$t("excursions.guide.add_excursion.photo.placeholder")},domProps:{value:t.caption_value},on:{input:function(e){e.target.composing||(t.caption_value=e.target.value)}}}):t._e()])}),as=[],os=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},rs=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"preloader"},[i("img",{attrs:{src:s(4690),alt:""}})])}],ns={name:"VPreloader"},cs=ns,ls=(0,x.Z)(cs,os,rs,!1,null,"42672b9a",null),us=ls.exports,ds={name:"InputImage",data(){return{dragAndDropCapable:!1,src:"",preloader:!1,caption_value:""}},props:{caption:{default(){return!1}},name:{default(){return""}},src2:{default(){return""}}},watch:{caption_value:function(t){this.$emit("emitCaption",t)},src2:function(t,e){t!=e&&(this.src=this.src2)}},computed:{},methods:{removeFile(){this.src="",this.$emit("src",this.src)},determineDragAndDropCapable(){var t=document.createElement("div");return("draggable"in t||"ondragstart"in t&&"ondrop"in t)&&"FormData"in window&&"FileReader"in window},upload(){const t=this.$refs.input.files[0];if(/\.(jpe?g|png)$/i.test(t.name)){this.preloader=!0;let e=new FileReader;e.addEventListener("load",(()=>{this.src=e.result,this.$emit("src",this.src),this.preloader=!1})),e.readAsDataURL(t)}else console.log("not image")}},mounted(){this.$nextTick((()=>{this.src=this.src2})),this.caption_value=this.name,this.dragAndDropCapable=this.determineDragAndDropCapable();var t=["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"];this.dragAndDropCapable&&(t.forEach(function(t){this.$refs.fileform.addEventListener(t,function(t){t.preventDefault(),t.stopPropagation()}.bind(this),!1)}.bind(this)),this.$refs.fileform.addEventListener("drop",function(t){this.preloader=!0;const e=t.dataTransfer.files[0];if(/\.(jpe?g|png)$/i.test(e.name)){let t=new FileReader;t.addEventListener("load",(()=>{this.src=t.result,this.$emit("src",this.src),this.preloader=!1})),t.readAsDataURL(e)}else console.log("not image")}.bind(this)))},components:{VPreloader:us}},_s=ds,ps=(0,x.Z)(_s,is,as,!1,null,"6eab66c0",null),ms=ps.exports,hs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropdown,expression:"closeDropdown"}],staticClass:"dropdown",class:[{open:t.open},{xs:"xs"==t.type}]},[s("button",{staticClass:"dropdown__head",attrs:{type:"button"},on:{click:function(e){t.open=!t.open}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedValue,expression:"selectedValue"}],staticClass:"input",attrs:{type:"text",placeholder:t.placeholder,disabled:""},domProps:{value:t.selectedValue},on:{input:function(e){e.target.composing||(t.selectedValue=e.target.value)}}}),s("span",{staticClass:"dropdown__icon icon icon-triangle-down"})]),t.error?s("p",{staticClass:"error"},[t._v(t._s(t.$t("errors.required")))]):t._e(),t.open?s("div",{staticClass:"dropdown__body"},t._l(t.body,(function(e,i){return s("button",{key:i,staticClass:"dropdown__item",attrs:{type:"button","data-value":e.value},on:{click:function(s){return t.selectItem(e.name,e.value)}}},[t._v(" "+t._s(e.name)+" ")])})),0):t._e()])},gs=[],vs={name:"DropdownSelect",directives:{ClickOutside:d()},data(){return{open:!1,selected_value:"",once:!0}},props:{placeholder:{default(){return""}},value:{default(){return null}},body:{default(){return[]}},type:{default(){return""}},error:{default(){return!1}}},methods:{closeDropdown(){this.open=!1},selectItem(t,e){this.selected_value=t,this.$emit("selectedValue",this.selected_value,e),this.$emit("selected"),this.open=!1},onceFuncfion(){this.selected_value=this.value,this.once=!1}},computed:{selectedValue(){return this.value&&this.once?(this.onceFuncfion(),this.$emit("selectedValue",this.selected_value,this.value),this.value):this.selected_value}}},xs=vs,Cs=(0,x.Z)(xs,hs,gs,!1,null,"aa0f8b5a",null),fs=Cs.exports;const{CalendarPanel:bs}=Xt.Z;var ys=new Date;function ws(){ys.setMonth(ys.getMonth()+1)}ws();var ks={name:"GuideAddExcursion",data(){return{opened_dropdowns:{city:!0},dropdownsData:{cities:[{name:"Киев"},{name:"Прага"},{name:"Ливерпуль"},{name:"Лондон"},{name:"Тбилиси"},{name:"Париж"}],countries:[{name:"Украина"},{name:"Грузия"},{name:"Франция"},{name:"Литва"},{name:"Латвия"},{name:"Болгария"}],langs:[{name:"Русский"},{name:"Английский"},{name:"Грузинский"},{name:"Украинский"},{name:"Иврит"},{name:"Немецкий"}],time_placeholder:"??:??",time:[{name:"00:00"},{name:"00:30"},{name:"01:00"},{name:"01:30"},{name:"02:00"},{name:"02:30"},{name:"03:00"},{name:"03:30"},{name:"04:00"},{name:"04:30"},{name:"05:00"},{name:"05:30"},{name:"06:00"},{name:"06:30"},{name:"07:00"},{name:"07:30"},{name:"08:00"},{name:"08:30"},{name:"09:00"},{name:"09:30"},{name:"10:00"},{name:"10:30"},{name:"11:00"},{name:"11:30"},{name:"12:00"},{name:"12:30"},{name:"13:00"},{name:"13:30"},{name:"14:00"},{name:"14:30"},{name:"15:00"},{name:"15:30"},{name:"16:00"},{name:"16:30"},{name:"17:00"},{name:"17:30"},{name:"18:00"},{name:"18:30"},{name:"19:00"},{name:"19:30"},{name:"20:00"},{name:"20:30"},{name:"21:00"},{name:"21:30"},{name:"22:00"},{name:"22:30"},{name:"23:00"},{name:"23:30"}]},open_map:!0,center:{lat:50.4016974,lng:30.251825},map:{address:""},marker:{name:"Киев",position:{lat:50.4016974,lng:30.251825}},always_false:!1,datepicker_ru:{formatLocale:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июнь","Июль","Авг","Сен","Окт","Ноя","Дек"],weekdays:["Понедельник","Вторник","Среда","Черверг","Пятница","Суббота","Воскресенье"],weekdaysShort:["Пнд","Втр","Сре","Чтв","Птн","Суб","Вск"],weekdaysMin:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],firstDayOfWeek:0,firstWeekContainsDate:1}},datepicker_en:{formatLocale:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],firstDayOfWeek:0,firstWeekContainsDate:1}},calendar:{datepicker:null,calendar1:new Date,calendar2:ys,busy_array:[],selected:[],discount_array:[],discount_options:null,discount_value:null},dragAndDropCapable:!1,photo:{main:{id:null,src:""}},temp_time:"",excursion:{subject:"Заголовок",subtitle:"Подаголовок",descr:"Описание",points:[{subject:"Пункт",error_subject:!1,error_subject_length:!1,descr:"Описание пункта",error_descr:!1,roadtime:"20",stoptime:"10",image:{src:"",name:""}},{subject:"Пункт",error_subject:!1,error_subject_length:!1,descr:"Описание пункта",error_descr:!1,roadtime:"24",stoptime:"",image:{src:""}}],details:"Детали",country:"Украина",city:"Киев",langs:["Русский","Английский"],duration:{name:"Полчаса",value:"30"},length_val:"25",amount:"10",children:!0,moves:{name:"Пешком",value:"onfoot"},type:"individual",schedule:[{day:0,time:[{day:"0",start:"10:00",end:"10:00"}]},{day:1,time:[]},{day:2,time:[]},{day:3,time:[]},{day:4,time:[]},{day:5,time:[]},{day:6,time:[]}],expire:"27.11.2022 23:59",discount_expire:"2022-11-09T23:59:00Z",common_point:!0,expect_point:"Тут",exact_point:"Здесь",price_type:"person",price_variant:"tickets",tickets:{default:"20",default_id:null,children:"10",children_id:null},min_price:"40",about:"Я лучший",tags:{input:"",list:[],popup_add_tag:!1,options:[]}},errors:{subject:!1,subject_length:!1,subtitle:!1,subtitle_length:!1,descr:!1,tags:!1,photo:!1,points:!1,details:!1,country:!1,city:!1,langs:!1,duration:!1,length:!1,amount:!1,children:!1,moves:!1,schedule:!1,expire:!1,expect_point:!1,exact_point:!1,tickets_default:!1,tickets_children:!1,about:!1,post:!1,photo_new:!1,all:!1},wait:!1,success:{post:!1}}},props:{title:{default(){return null}},edit_photo:{default(){return""}},edit_photo_id:{default(){return null}},edit_excursion:{default(){return null}},edit:{default(){return!1}},marker_adderss:{default(){return""}},marker_lat:{default(){return 0}},marker_lng:{default(){return 0}},edit_discount_arr:{default(){return[]}}},computed:{costTypeTitle(){return"excursion"==this.excursion.price_type?this.$t("excursions.guide.add_excursion.price.tickets.per_excursion_title"):this.$t("excursions.guide.add_excursion.price.tickets.per_person_title")}},watch:{edit_excursion:function(t,e){e!=t&&(this.excursion=this.edit_excursion)},edit_photo:function(){this.photo.main.src=this.edit_photo},edit_photo_id:function(){this.photo.main.id=this.edit_photo_id},marker_adderss:function(){this.marker.name=this.marker_adderss},marker_lat:function(){this.marker.position.lat=this.marker_lat},marker_lng:function(){this.marker.position.lng=this.marker_lng},edit_discount_arr:function(){this.calendar.discount_array=this.edit_discount_arr}},mounted(){null!=this.edit_excursion&&(this.photo.main.src=this.edit_photo,this.excursion=this.edit_excursion)},methods:{selectTimeNow(t){var e=new Date,s=e.getHours(),i=e.getMinutes(),a=new Date(t.setHours(s)),o=new Date(a.setMinutes(i));return o},async sendExcursion(){this.errors.subject_length=!1,this.errors.subject=!1,""!=this.excursion.subject?this.excursion.subject.length>=300&&(this.errors.subject_length=!0):this.errors.subject=!0,this.errors.subtitle_length=!1,this.errors.subtitle=!1,""!=this.excursion.subtitle?this.excursion.subtitle.length>=300&&(this.errors.subtitle_length=!0):this.errors.subtitle=!0,this.errors.descr=!1,""==this.excursion.descr&&(this.errors.descr=!0),this.errors.tags=!1,this.excursion.tags.list.length||(this.errors.tags=!0),this.errors.photo=!1,""==this.photo.main.src&&(this.errors.photo=!0);var t=this.photo.main.src.split(";")[0].split("/")[1],e=this.photo.main.src.split("base64,")[1],s={primary:1,name:"some name",extension:"."+t,data:e};this.errors.points=!1;var i,a=[],o=[];if(this.excursion.points.forEach((t=>{if(this.errors.points=!0,t.error_subject_length=!1,t.error_subject=!1,t.error_descr=!1,""!=t.subject?t.subject.length>=300&&(t.error_subject_length=!0):t.error_subject=!0,""==t.descr&&(t.error_descr=!0),0==t.error_subject_length&&0==t.error_subject&&0==t.error_descr){this.errors.points=!1;var e={subject:t.subject,description:t.descr,roadtime:Number(t.roadtime),stoptime:Number(t.stoptime)};if(a.push(e),""!=t.image.src){var s=t.image.src.split(";")[0].split("/")[1],i=t.image.src.split("base64,")[1],r={primary:1,name:""==t.image.name?"some name":t.image.name,extension:"."+s,data:i};t.image.id&&(r.id=t.image.id),o.push(r)}else o.push(null)}})),this.errors.details=!1,""==this.excursion.details&&(this.errors.details=!0),this.errors.country=!1,""==this.excursion.country&&(this.errors.country=!0),this.errors.city=!1,""==this.excursion.city&&(this.errors.city=!0),this.errors.langs=!1,this.excursion.langs.length){var r="";this.excursion.langs.forEach((t=>{r+=t+";"}));var n=r.substring(0,r.length-1)}else this.errors.langs=!0;this.errors.duration=!1,""==this.excursion.duration.value&&(this.errors.duration=!0),this.errors.length=!1,""==this.excursion.length_val&&(this.errors.length=!0),this.errors.amount=!1,""==this.excursion.amount&&(this.errors.amount=!0),i=this.excursion.children?1:0,this.errors.moves=!1,""==this.excursion.moves.value&&(this.errors.moves=!0),this.errors.schedule=!1;var c,l=[];this.excursion.schedule.forEach((t=>{t.time.forEach((t=>{""!=t.start&&""!=t.end?l.push(t):this.errors.schedule=!0}))})),l.length||(this.errors.schedule=!0),this.errors.expire=!1,""==this.excursion.expire&&(this.errors.expire=!0),c=this.excursion.common_point?1:0,this.errors.expect_point=!1,""==this.excursion.expect_point&&(this.errors.expect_point=!0),this.errors.exact_point=!1,1==c?""==this.excursion.exact_point&&(this.errors.exact_point=!0):this.excursion.exact_point="",this.errors.tickets_default=!1,""==this.excursion.tickets.default&&(this.errors.tickets_default=!0),"tickets"==this.excursion.price_variant&&(this.errors.tickets_children=!1,""==this.excursion.tickets.children&&(this.errors.tickets_children=!0));var u=[{type:"default",name:"Стандартный билет",currency:"EUR",price:Number(Number(this.excursion.tickets.default).toFixed(0))}];if(this.edit&&(u[0].id=this.excursion.tickets.default_id),1==this.excursion.children&&"tickets"==this.excursion.price_variant){var d={type:"child",name:"Детский билет",currency:"EUR",price:Number(Number(this.excursion.tickets.children).toFixed(0))};this.edit&&d.children_id,u.push(d)}var _=[];this.calendar.discount_array.forEach((t=>{var e=t.date.slice(0,11),s=t.date.slice(-1),i={discount:t.value,start:e+"00:00:00.000"+s,finish:e+"23:59:00.000"+s};_.push(i)})),console.log(_),this.errors.about=!1,""==this.excursion.about&&(this.errors.about=!0);var p=localStorage.getItem("lang");if(!this.errors.all){var m={locale:p||"en",subject:this.excursion.subject,subtitle:this.excursion.subtitle,description:this.excursion.descr,details:this.excursion.details,country:this.excursion.country,city:this.excursion.city,lang:n,duration:Number(this.excursion.duration.value),length:Number(Number(this.excursion.length_val).toFixed(1)),number:Number(Number(this.excursion.amount).toFixed(0)),children_allowed:i,moves:this.excursion.moves.value,type:this.excursion.type,expire:this.excursion.expire,has_common_point:c,expect_point:this.excursion.expect_point,exact_point:this.excursion.exact_point,cost_type:this.excursion.price_type,price_type:this.excursion.price_variant,min_price:Number(this.excursion.min_price),currency:"EUR",discount:1,discount_expire:this.excursion.expire,conductor_type:"company",conductor_description:this.excursion.about,moderate:1,tags:this.excursion.tags.list,guideplan:a,guideschedule:l,addres:this.marker.name,latitude:this.marker.position.lat,longtitude:this.marker.position.lng,guideprices:u,guidediscountcalendar:_};for(var g in console.log(m),this.errors.post=!1,this.errors.photo_new=!1,this.success.post=!1,this.wait=!0,this.errors.all=!1,this.errors)1==this.errors[g]&&(console.log(g),this.errors.all=!0);this.edit?await h.put(`/guide/${this.excursion.id}`,m).then((async t=>{const e=t.data.data[0],i=e.id;await h["delete"](`/guide/media/${i}/${this.photo.main.id}`).then((()=>{console.log("detele photo",t.data.data[0])})).catch((t=>{console.log(t),this.errors.photo_new=!0})),await h.post(`/guide/media/${i}`,s).then((()=>{console.log("add photo",t.data.data[0])})).catch((t=>{console.log(t),this.errors.photo_new=!0})),await e.guideplan.forEach((async(e,s)=>{let i=e.id;null!=o[s]&&(o[s].id&&await h["delete"](`/guide/media/guideplan/${i}/${o[s].id}`).then((()=>{console.log("detele point photo",t.data.data[0])})).catch((t=>{console.log(t),this.errors.photo_new=!0})),await h.post(`/guide/media/guideplan/${i}`,o[s]).then((()=>{console.log("add point photo",t.data.data[0])})).catch((t=>{console.log(t),this.errors.photo_new=!0})))})),this.success.post=!0,this.wait=!1})).catch((t=>{console.log(t),this.errors.post=!0,this.wait=!1})):await h.post("/guide",m).then((async t=>{const e=t.data.data[0],i=e.id;await h.post(`/guide/media/${i}`,s).then((()=>{console.log(t.data.data[0])})).catch((t=>{console.log(t),this.errors.photo_new=!0})),await e.guideplan.forEach((async(t,e)=>{let s=t.id;null!=o[e]&&await h.post(`/guide/media/guideplan/${s}`,o[e]).then((()=>{})).catch((t=>{console.log(t),this.errors.photo_new=!0}))})),this.success.post=!0,this.wait=!1})).catch((t=>{console.log(t),this.errors.post=!0,this.wait=!1})),this.errors.post||this.errors.photo_new||setTimeout((()=>{this.$router.push({name:"GuideMyExcursions"})}),2e3)}},addPoint(){var t=this.excursion.points,e=t.length,s={subject:"",descr:"",roadtime:"",stoptime:"",image:{src:""}};this.$set(t,e,s)},deleteTag(t,e){this.$delete(this.excursion.tags.list,e)},enterTag(t){this.excursion.tags.input=t},closePopupTags(){this.excursion.tags.popup_add_tag=!1},openPopupTags(){this.excursion.tags.popup_add_tag=!0,this.excursion.tags.input=""},searchTags(t){setTimeout((()=>{this.excursion.tags.input==t&&""!=this.excursion.tags.input&&h.get(`/guide/tags?limit=5&tag__contains=${t}`).then((t=>{this.excursion.tags.options=t.data.data})).catch((t=>{console.log(t)}))}),600)},selectTag(){if(""!=this.excursion.tags.input){var t=this.excursion.tags.list,e=t.length;this.$set(t,e,{tag:this.excursion.tags.input}),this.closePopupTags()}},handleUpdateCalendar1(t){this.calendar.calendar1=t,this.calendar.calendar2=(0,re.Z)(t,1)},handleUpdateCalendar2(t){this.calendar.calendar2=t,this.calendar.calendar1=(0,ne.Z)(t,1)},getClasses(t){const e=[];var s=this.selectTimeNow(t).toISOString();return this.excursion.schedule[t.getDay()].time.length||e.push("busy"),(new Date).toISOString()>t.toISOString()&&e.push("disabled"),this.calendar.selected.some((t=>t==s))&&e.push("active"),this.calendar.discount_array.some((t=>{if(t.date==s)return"-100 %"==t.discount?e.push("discount-m100"):"-95 %"==t.discount?e.push("discount-m95"):"-90 %"==t.discount?e.push("discount-m90"):"-85 %"==t.discount?e.push("discount-m85"):"-80 %"==t.discount?e.push("discount-m80"):"-75 %"==t.discount?e.push("discount-m75"):"-70 %"==t.discount?e.push("discount-m70"):"-65 %"==t.discount?e.push("discount-m65"):"-60 %"==t.discount?e.push("discount-m60"):"-55 %"==t.discount?e.push("discount-m55"):"-50 %"==t.discount?e.push("discount-m50"):"-45 %"==t.discount?e.push("discount-m45"):"-40 %"==t.discount?e.push("discount-m40"):"-35 %"==t.discount?e.push("discount-m35"):"-30 %"==t.discount?e.push("discount-m30"):"-25 %"==t.discount?e.push("discount-m25"):"-20 %"==t.discount?e.push("discount-m20"):"-15 %"==t.discount?e.push("discount-m15"):"-10 %"==t.discount?e.push("discount-m10"):"+95 %"==t.discount?e.push("discount-p95"):"+90 %"==t.discount?e.push("discount-p90"):"+85 %"==t.discount?e.push("discount-p85"):"+80 %"==t.discount?e.push("discount-p80"):"+75 %"==t.discount?e.push("discount-p75"):"+70 %"==t.discount?e.push("discount-p70"):"+65 %"==t.discount?e.push("discount-p65"):"+60 %"==t.discount?e.push("discount-p60"):"+55 %"==t.discount?e.push("discount-p55"):"+50 %"==t.discount?e.push("discount-p50"):"+45 %"==t.discount?e.push("discount-p45"):"+40 %"==t.discount?e.push("discount-p40"):"+35 %"==t.discount?e.push("discount-p35"):"+30 %"==t.discount?e.push("discount-p30"):"+25 %"==t.discount?e.push("discount-p25"):"+20 %"==t.discount?e.push("discount-p20"):"+15 %"==t.discount?e.push("discount-p15"):"+10 %"==t.discount&&e.push("discount-p10"),!0})),e},handleSelect(t){var e=this.selectTimeNow(t).toISOString();if(event.shiftKey){var s=this.calendar.selected,i=s.length,a=s.indexOf(e);-1==a?this.$set(s,i,e):this.$delete(s,a),this.calendar.datepicker=null}else this.calendar.selected=[e],this.calendar.datepicker=e},changeDiscount(){this.calendar.selected.forEach((t=>{if(1!=this.discount_value.value){var e="";"decrease"==this.discount_options?e="-":"increase"==this.discount_options&&(e="+");var s={date:t,discount:e+this.discount_value.title,value:this.discount_value.value},i=this.calendar.discount_array,a=i.length;i.some((t=>t.date==s.date&&(t.discount=s.discount,!0)))||this.$set(i,a,s)}else this.calendar.discount_array.some(((e,s)=>e.date==t&&(this.$delete(this.calendar.discount_array,s),!0)))}))},removeSelectedCells(){this.calendar.selected=[]},selectCountry(t){this.excursion.country=t},selectCity(t){this.excursion.city=t},selectLangs(t){var e=this.excursion.langs;if(!e.includes(t)){let s=e.length;this.$set(e,s,t)}},removeSelectLang(t){this.$delete(this.excursion.langs,t)},selectDuration(t,e){this.excursion.duration={name:t,value:e}},selectMovement(t,e){this.excursion.moves={name:t,value:e}},selectStartTime(t){this.temp_time=t},selectStartTime2(t){t.start=this.temp_time,t.end=this.temp_time},addTime(t,e){this.$set(this.excursion.schedule[e].time,t,{day:e,start:"",end:""})},removeTime(t,e){this.$delete(this.excursion.schedule[t].time,e)},selectExpire(t,e){var s=new Date,i=Number(e);s.setMonth(s.getMonth()+i);var a=s.getDate(),o=s.getMonth(),r=s.getFullYear(),n=a+"."+o+"."+r+" 23:59";this.excursion.expire=n},setPlace(t){t?.geometry&&(this.marker.position={lat:t.geometry.location.lat(),lng:t.geometry.location.lng()},this.marker.name=t.formatted_address)},setPlace2(t){t?.latLng},removeCommonPoint(){0==this.excursion.common_point&&(this.marker.name="",this.marker.position.lat="",this.marker.position.lng="")},selectDiscountOptions(t,e){this.discount_options=e},selectDiscountValue(t,e){this.discount_value={title:t,value:e}}},components:{DatePicker:Xt.Z,CalendarPanel:bs,HelpInfo:N,DropdownSelect:fs,InputImage:ms},directives:{ClickOutside:d()}},$s=ks,Es=(0,x.Z)($s,es,ss,!1,null,"1404a0b4",null),Ss=Es.exports,Ps=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("guide-add-excursion",{attrs:{edit_photo:t.photo.main.src,edit_excursion:t.excursion,edit_photo_id:t.photo.main.id,edit:!0,marker_adderss:t.marker.name,marker_lat:t.marker.position.lat,marker_lng:t.marker.position.lng,title:t.$t("excursions.guide.edit_excursion.title"),edit_discount_arr:t.discount_arr}})],1)},Ms=[],Ds={name:"GuideEditExcursion",components:{GuideAddExcursion:Ss},data(){return{excursion_id:null,excursion:null,photo:{main:{id:null,src:""}},marker:{name:"",position:{lat:0,lng:0}},discount_arr:[]}},created(){const t=this.$route.params.id;t&&(this.excursion_id=t)},methods:{selectTimeNow(t){var e=new Date,s=e.getHours(),i=e.getMinutes(),a=new Date(t.setHours(s)),o=new Date(a.setMinutes(i));return o},async getExcursion(){await h.get(`/guide/${this.excursion_id}`).then((async t=>{var e=t.data.data[0];await h.get(`/guide/media/${this.excursion_id}`).then((t=>{if(t.data.data[0]){var e=t.data.data[0];this.photo.main.id=e.id,this.photo.main.src="data:image/"+e.extension.slice(1)+";base64,"+e.data}})).catch((t=>{console.log(t)}));var s=[];e.guideplan.forEach((async t=>{var e={id:t.id,subject:t.subject,error_subject:!1,error_subject_length:!1,descr:t.description,error_descr:!1,roadtime:t.roadtime,stoptime:t.stoptime,image:{src:"",name:""}};await h.get(`/guide/media/guideplan/${t.id}`).then((t=>{if(t.data.data[0]){var i=t.data.data[0];e.image.id=i.id,e.image.name=i.name,e.image.src="data:image/"+i.extension.slice(1)+";base64,"+i.data}s.push(e)})).catch((function(t){console.log(t),s.push(e)}))}));var i=e.lang.split(";"),a={},o=e.duration,r=this.$t("excursions.guide.add_excursion.terms.duration.options");r.forEach((t=>{t.value==o&&(a=t)})),a=={}&&(a.name="",a.value="");var n={name:"",value:""},c=e.moves;n="onfoot"==c?{name:"Пешком",value:"onfoot"}:{name:"На машине",value:"car"};var l=[];e.guidediscountcalendar.forEach((t=>{let e=Number(t.discount);var s,i=1;e<1?(s=(1-e).toFixed(2),i="-"+String(s).slice(2)+" %"):e>1&&(s=(1-e).toFixed(2),i="+"+String(s).slice(3)+" %");let a={date:this.selectTimeNow(new Date(t.start)).toISOString(),discount:i,value:t.discount};l.push(a)})),this.discount_arr=l;var u=[{day:0,time:[]},{day:1,time:[]},{day:2,time:[]},{day:3,time:[]},{day:4,time:[]},{day:5,time:[]},{day:6,time:[]}];e.guideschedule.forEach((t=>{var e={id:t.id,day:t.day,start:t.start.slice(0,5),end:t.end.slice(0,5)};u[t.day].time.push(e)}));var d={default:"",children:""};e.guideprices.forEach((t=>{"default"==t.type?(d.default=t.price,d.default_id=t.id):"child"==t.type&&(d.children=t.price,d.children_id=t.id)})),this.marker.name=e.addres,this.marker.position.lat=e.latitude,this.marker.position.lng=e.longtitude;var _=[];e.tags.forEach((t=>{var e={id:t.id,tag:t.tag};_.push(e)}));var p={id:this.excursion_id,subject:e.subject,subtitle:e.subtitle,descr:e.description,points:s,details:e.details,country:e.country,city:e.city,langs:i,duration:a,length_val:e.length,amount:e.number,children:e.children_allowed,moves:n,type:e.type,schedule:u,expire:"2022-11-09T23:59:00Z",discount_expire:e.discount_expire,common_point:e.has_common_point,expect_point:e.expect_point,exact_point:e.exact_point,price_type:e.cost_type,price_variant:e.price_type,tickets:d,min_price:e.min_price,about:e.conductor_description,tags:{input:"",list:_,popup_add_tag:!1,options:[]}};this.excursion=p})).catch((t=>{console.log(t)}))}},mounted(){this.getExcursion()}},Hs=Ds,Ts=(0,x.Z)(Hs,Ps,Ms,!1,null,null,null),Vs=Ts.exports,Ns=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"tour-guide-profile"},[s("div",{staticClass:"tour-guide-profile__wrap"},[s("div",{staticClass:"tour-guide-profile__container"},[s("div",{staticClass:"tour-guide-profile__content"},[s("p",{staticClass:"tour-guide-profile__title"},[t._v(" "+t._s(t.$t("excursions.guide.profile.title"))+" ")]),s("div",{staticClass:"tour-guide-profile__about-me"},[s("div",{staticClass:"tour-guide-profile__photo-guide"},[t.user.photo.length?s("img",{attrs:{src:t.setPhoto,alt:"photo-guide"}}):t._e()]),s("div",{staticClass:"tour-guide-profile__text-about"},[s("p",{staticClass:"tour-guide-profile__subtitle"},[t._v(" "+t._s(t.$t("excursions.guide.profile.sub_title"))+" ")]),s("p",{staticClass:"tour-guide-profile__descr"},[t._v(" "+t._s(t.user.about&&""!=t.user.birthday?t.user.about:t.$t("excursions.guide.profile.unset"))+" ")])])]),s("table",{staticClass:"tour-guide-profile__table"},[s("tbody",{staticClass:"tour-guide-profile__tbody"},[s("tr",{staticClass:"tour-guide-profile__row"},[s("td",{staticClass:"tour-guide-profile__data"},[t._v("ID")]),s("td",{staticClass:"tour-guide-profile__data"},[t._v(t._s(t.user.id))])]),s("tr",{staticClass:"tour-guide-profile__row"},[s("td",{staticClass:"tour-guide-profile__data"},[t._v(" "+t._s(t.$t("excursions.guide.profile.name"))+" ")]),s("td",{staticClass:"tour-guide-profile__data"},[t._v(" "+t._s(t.user.first_name+" "+(t.user.last_name&&""!=t.user.last_name?t.user.last_name:""))+" ")])]),s("tr",{staticClass:"tour-guide-profile__row"},[s("td",{staticClass:"tour-guide-profile__data"},[t._v(" "+t._s(t.$t("excursions.guide.profile.birthday"))+" ")]),s("td",{staticClass:"tour-guide-profile__data"},[t._v(" "+t._s(t.user.birthday&&""!=t.user.birthday?t.user.birthday:t.$t("excursions.guide.profile.unset"))+" ")])]),s("tr",{staticClass:"tour-guide-profile__row"},[s("td",{staticClass:"tour-guide-profile__data"},[t._v(" "+t._s(t.$t("excursions.guide.profile.gender"))+" ")]),s("td",{staticClass:"tour-guide-profile__data"},[t._v(" "+t._s(t.selectGender)+" ")])]),s("tr",{staticClass:"tour-guide-profile__row"},[s("td",{staticClass:"tour-guide-profile__data"},[t._v(" "+t._s(t.$t("excursions.guide.profile.city"))+" ")]),s("td",{staticClass:"tour-guide-profile__data"},[t._v(" "+t._s(t.user.nationality&&""!=t.user.nationality?t.user.nationality:t.$t("excursions.guide.profile.unset"))+" ")])]),s("tr",{staticClass:"tour-guide-profile__row"},[s("td",{staticClass:"tour-guide-profile__data"},[t._v(" "+t._s(t.$t("excursions.guide.profile.phone"))+" ")]),s("td",{staticClass:"tour-guide-profile__data"},[t._v(" "+t._s(t.user.phone&&""!=t.user.phone?t.user.phone:t.$t("excursions.guide.profile.unset"))+" ")])]),s("tr",{staticClass:"tour-guide-profile__row"},[s("td",{staticClass:"tour-guide-profile__data"},[t._v(" "+t._s(t.$t("excursions.guide.profile.email"))+" ")]),s("td",{staticClass:"tour-guide-profile__data"},[t._v(" "+t._s(t.user.email&&""!=t.user.email?t.user.email:t.$t("excursions.guide.profile.unset"))+" ")])]),s("tr",{staticClass:"tour-guide-profile__row"},[s("td",{staticClass:"tour-guide-profile__data"},[t._v(" "+t._s(t.$t("excursions.guide.profile.account_number"))+" ")]),s("td",{staticClass:"tour-guide-profile__data"},[t._v(" "+t._s(t.user.card_num||""==t.user.card_num?t.user.card_num:t.$t("excursions.guide.profile.unset"))+" ")])])])]),s("router-link",{staticClass:"tour-guide-profile__edit-table",attrs:{to:{name:"GuideProfileEdit"}}},[t._v(" "+t._s(t.$t("excursions.guide.profile.edit_table"))+" ")])],1)])])])])},Os=[],As={name:"GuideProfile",data(){return{user:null}},created(){},mounted(){this.$nextTick((()=>{this.user=this.$store.getters.getUser}))},methods:{},computed:{setPhoto(){var t=this.user.photo[0].extension.slice(1);return"data:image/"+t+";base64,"+this.user.photo[0].data},selectGender(){if(this.user.sex){if("male"==this.user.sex)return this.$t("excursions.guide.profile_edit.input_label.gender.male");if("female"==this.user.sex)return this.$t("excursions.guide.profile_edit.input_label.gender.female")}return this.$t("excursions.guide.profile.unset")}}},Is=As,Zs=(0,x.Z)(Is,Ns,Os,!1,null,"f9a8acbc",null),Rs=Zs.exports,Fs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"tour-guide-edit-profile"},[s("div",{staticClass:"tour-guide-edit-profile__wrap"},[s("div",{staticClass:"tour-guide-edit-profile__container"},[s("form",{staticClass:"tour-guide-edit-profile__content",on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[s("p",{staticClass:"tour-guide-edit-profile__title"},[t._v(" "+t._s(t.$t("excursions.guide.profile_edit.title"))+" ")]),t.user.photo?s("div",{staticClass:"tour-guide-edit-profile__photo-guide"},[s("img",{attrs:{src:t.setPhoto,alt:"photo-guide"}})]):t._e(),s("label",{staticClass:"tour-guide-edit-profile__edit-photo"},[s("input",{ref:"input",staticClass:"input-file",attrs:{type:"file",accept:".png, .jpg, .jpeg"},on:{change:t.upload}}),t._v(" "+t._s(t.user.photo.length?t.$t("excursions.guide.profile_edit.edit_photo"):t.$t("excursions.guide.profile_edit.add_photo"))+" ")]),s("div",{staticClass:"tour-guide-edit-profile__text-input temp-textinput"},[s("div",{staticClass:"temp-textinput__content"},[s("p",{staticClass:"temp-textinput__name-input"},[t._v(" "+t._s(t.$t("excursions.guide.profile_edit.input_label.name"))+" ")]),s("div",{staticClass:"temp-textinput__wrap"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.first_name,expression:"user.first_name",modifiers:{trim:!0}}],staticClass:"temp-textinput__input",attrs:{type:"text"},domProps:{value:t.user.first_name},on:{input:function(e){e.target.composing||t.$set(t.user,"first_name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.errors.name?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.required"))+" ")]):t._e()])])]),s("div",{staticClass:"tour-guide-edit-profile__text-input temp-textinput"},[s("div",{staticClass:"temp-textinput__content"},[s("p",{staticClass:"temp-textinput__name-input"},[t._v(" "+t._s(t.$t("excursions.guide.profile_edit.input_label.sur_name"))+" ")]),s("div",{staticClass:"temp-textinput__wrap"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.last_name,expression:"user.last_name",modifiers:{trim:!0}}],staticClass:"temp-textinput__input",attrs:{type:"text"},domProps:{value:t.user.last_name},on:{input:function(e){e.target.composing||t.$set(t.user,"last_name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),s("div",{staticClass:"tour-guide-edit-profile__birthday birthday-picker"},[s("div",{staticClass:"birthday-picker__content"},[s("p",{staticClass:"birthday-picker__title"},[t._v(" "+t._s(t.$t("excursions.guide.profile_edit.input_label.date"))+" ")]),s("div",{staticClass:"temp-textinput__wrap"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.birthday,expression:"user.birthday",modifiers:{trim:!0}}],staticClass:"temp-textinput__input",attrs:{type:"text"},domProps:{value:t.user.birthday},on:{input:function(e){e.target.composing||t.$set(t.user,"birthday",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),s("div",{staticClass:"tour-guide-edit-profile__gender select-gender"},[s("div",{staticClass:"select-gender__content"},[s("p",{staticClass:"select-gender__title"},[t._v(" "+t._s(t.$t("excursions.guide.profile_edit.input_label.gender.label"))+" ")]),s("div",{staticClass:"select-gender__wrap"},[s("p",{staticClass:"select-gender__text-point"},[t._v(" "+t._s(t.$t("excursions.guide.profile_edit.input_label.gender.prompt"))+" ")]),s("div",{staticClass:"select-gender__buttons"},[s("label",{staticClass:"select-gender__label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.sex,expression:"user.sex"}],staticClass:"select-gender__radio",attrs:{type:"radio",name:"gender",value:"male"},domProps:{checked:t._q(t.user.sex,"male")},on:{change:function(e){return t.$set(t.user,"sex","male")}}}),s("span",{staticClass:"select-gender__style"}),t._v(" "+t._s(t.$t("excursions.guide.profile_edit.input_label.gender.male"))+" ")]),s("label",{staticClass:"select-gender__label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.sex,expression:"user.sex"}],staticClass:"select-gender__radio",attrs:{type:"radio",name:"gender",value:"female"},domProps:{checked:t._q(t.user.sex,"female")},on:{change:function(e){return t.$set(t.user,"sex","female")}}}),s("span",{staticClass:"select-gender__style"}),t._v(" "+t._s(t.$t("excursions.guide.profile_edit.input_label.gender.female"))+" ")])])])])]),s("div",{staticClass:"tour-guide-edit-profile__text-input temp-textinput"},[s("div",{staticClass:"temp-textinput__content"},[s("p",{staticClass:"temp-textinput__name-input"},[t._v(" "+t._s(t.$t("excursions.guide.profile_edit.input_label.citizenship"))+" ")]),s("div",{staticClass:"temp-textinput__wrap"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.nationality,expression:"user.nationality",modifiers:{trim:!0}}],staticClass:"temp-textinput__input",attrs:{type:"text"},domProps:{value:t.user.nationality},on:{input:function(e){e.target.composing||t.$set(t.user,"nationality",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),s("div",{staticClass:"tour-guide-edit-profile__text-input temp-textinput"},[s("div",{staticClass:"temp-textinput__content"},[s("p",{staticClass:"temp-textinput__name-input"},[t._v(" "+t._s(t.$t("excursions.guide.profile_edit.input_label.phone"))+" ")]),s("div",{staticClass:"temp-textinput__wrap"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.phone,expression:"user.phone",modifiers:{trim:!0}}],staticClass:"temp-textinput__input",attrs:{type:"number"},domProps:{value:t.user.phone},on:{input:function(e){e.target.composing||t.$set(t.user,"phone",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),s("div",{staticClass:"tour-guide-edit-profile__text-input temp-textinput"},[s("div",{staticClass:"temp-textinput__content"},[s("p",{staticClass:"temp-textinput__name-input"},[t._v(" "+t._s(t.$t("excursions.guide.profile_edit.input_label.password"))+" ")]),s("div",{staticClass:"temp-textinput__wrap"},[s("button",{staticClass:"change-pass",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.$store.dispatch("popupChangePass",!0)}}},[t._v(" "+t._s(t.$t("excursions.guide.profile_edit.input_label.change_pass"))+" ")])])])]),s("div",{staticClass:"tour-guide-edit-profile__text-input temp-textinput"},[s("div",{staticClass:"temp-textinput__content"},[s("p",{staticClass:"temp-textinput__name-input"},[t._v("E-mail")]),s("div",{staticClass:"temp-textinput__wrap"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.email,expression:"user.email",modifiers:{trim:!0}}],staticClass:"temp-textinput__input",attrs:{type:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.errors.email?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.required"))+" ")]):t._e()])])]),s("div",{staticClass:"tour-guide-edit-profile__text-input temp-textinput"},[s("div",{staticClass:"temp-textinput__content"},[s("p",{staticClass:"temp-textinput__name-input"},[t._v(" "+t._s(t.$t("excursions.guide.profile_edit.input_label.bank_account"))+" ")]),s("div",{staticClass:"temp-textinput__wrap"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.user.bank_account,expression:"user.bank_account",modifiers:{trim:!0}}],staticClass:"temp-textinput__input",attrs:{type:"text"},domProps:{value:t.user.bank_account},on:{input:function(e){e.target.composing||t.$set(t.user,"bank_account",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),s("div",{staticClass:"tour-guide-edit-profile__about-me temp-textarea"},[s("div",{staticClass:"temp-textarea__content"},[s("p",{staticClass:"temp-textarea__name-input"},[t._v(" "+t._s(t.$t("excursions.guide.profile_edit.input_label.about_me"))+" ")]),s("div",{staticClass:"temp-textarea__wrap"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.about,expression:"user.about"}],staticClass:"temp-textarea__textarea",attrs:{name:"aboutMe"},domProps:{value:t.user.about},on:{input:function(e){e.target.composing||t.$set(t.user,"about",e.target.value)}}})])])]),s("div",{staticClass:"tour-guide-edit-profile__button-wrap"},[t.errors.password?s("p",{staticClass:"error"},[t._v(" "+t._s(t.$t("errors.all"))+" ")]):t._e(),t.success?s("p",{staticClass:"success"},[t._v(" "+t._s(t.$t("success.change_password"))+" ")]):t._e(),s("button",{staticClass:"tour-guide-edit-profile__button",attrs:{type:"submit"}},[t._v(" "+t._s(t.$t("excursions.guide.profile_edit.save_btn"))+" ")])])])])])])])},js=[],Ls={name:"GuideProfileEdit",data(){return{password:"",user:null,photo_changed:!1,errors:{name:!1,email:!1,password:!1,all:!1},success:!1,user_photo:!1}},created(){this.user=this.$store.getters.getUser},methods:{async submit(){this.errors.name=!1,""==this.user.first_name&&(this.errors.name=!0),this.errors.email=!1,""==this.user.email&&(this.errors.email=!0),this.errors.all=!1,this.success=!1,0==this.errors.email&&0==this.errors.name&&0==this.errors.password&&await h.post("/user",{first_name:this.user.first_name,middle_name:this.user.middle_name,last_name:this.user.last_name,email:this.user.email,phone:this.user.phone,passport:this.user.passport,privilegies:this.user.privilegies.id,timezone:this.user.timezone,birthday:this.user.birthday,sex:this.user.sex,nationality:this.user.nationality,bank_account:this.user.bank_account,about:this.user.about,address:{zipcode:this.user.zipcode,country:this.user.country,city:this.user.city,addres_1:this.user.addres_1,address_2:this.user.address_2}}).then((async t=>{console.log(t.data.data[0]),this.$store.dispatch("setUser",t.data.data[0]),localStorage.setItem("user",JSON.stringify(t.data.data[0])),this.photo_changed&&await h.post("/user/photo",{primary:1,name:this.user.photo[0].name,extension:this.user.photo[0].extension,data:this.user.photo[0].data}).then((t=>{console.log(t.data.data[0]),this.user.photo[0]=t.data.data[0],this.$store.dispatch("setUser",this.user),localStorage.setItem("user",JSON.stringify(this.user)),this.success=!0})).catch((t=>{console.log(t)})),this.success=!0,this.$store.dispatch("setUser",this.user),localStorage.setItem("user",JSON.stringify(this.user)),this.success=!0,setTimeout((()=>{this.$router.push({name:"GuideProfile"})}),2e3)})).catch((t=>{console.log(t),this.errors.photo_new=!0}))},buildPhotoObject(t){var e=t.split(";")[0].split("/")[1],s=t.split("base64,")[1];0==this.user.photo.length&&this.$set(this.user.photo,0,{}),this.user.photo[0].primary=1,this.user.photo[0].name="avatar",this.user.photo[0].extension="."+e,this.user.photo[0].data=s,this.user_photo=!0,this.photo_changed=!0},upload(){const t=this.$refs.input.files[0];if(/\.(jpe?g|png)$/i.test(t.name)){let e=new FileReader;e.addEventListener("load",(()=>{this.buildPhotoObject(e.result)})),e.readAsDataURL(t)}else console.log("not image")}},computed:{setPhoto(){if(this.user.photo.length){var t=this.user.photo[0].extension.slice(1);return"data:image/"+t+";base64,"+this.user.photo[0].data}return""}}},Us=Ls,qs=(0,x.Z)(Us,Fs,js,!1,null,"caa6a948",null),Gs=qs.exports,Bs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"guide-order"},[s("div",{staticClass:"guide-order__wrapper"},[s("div",{staticClass:"guide-order__container"},[s("p",{staticClass:"guide-order__title"},[t._v(" "+t._s(t.$t("excursions.guide.orders.title"))+" ")]),s("p",{staticClass:"guide-order__sub-title"},[t._v(" "+t._s(t.$t("excursions.guide.orders.sub_title"))+" ")]),s("div",{staticClass:"guide-order__options"},[s("div",{staticClass:"guide-order__options-date date-option"},[s("div",{staticClass:"date-option__content"},[s("p",{staticClass:"date-option__title"},[t._v(" "+t._s(t.$t("excursions.guide.orders.date"))+" ")]),s("div",{staticClass:"date-option__list"},[s("div",{staticClass:"date-option__date-pick-item"},[s("span",{staticClass:"date-option__from-to"},[t._v(" "+t._s(t.$t("excursions.guide.orders.with"))+" ")]),s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideFilterDate,expression:"hideFilterDate"}],staticClass:"deep-options__item",class:{active:t.filter_date}},[s("button",{staticClass:"deep-options__item-head",attrs:{type:"button"},on:{click:function(e){t.filter_date=!t.filter_date}}},[s("span",{staticClass:"deep-options__icon"},[s("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("g",{attrs:{"clip-path":"url(#clip0_1_8877)"}},[s("path",{attrs:{d:"M22 2.25001H18.75V0.750012C18.7501 0.551099 18.6712 0.360281 18.5307 0.219535C18.3901 0.0787893 18.1994 -0.000355495 18.0005 -0.000488103C17.8016 -0.000620711 17.6108 0.0782697 17.47 0.218828C17.3293 0.359387 17.2501 0.550099 17.25 0.749012V2.25001H12.75V0.750012C12.7501 0.65152 12.7307 0.553981 12.6931 0.462961C12.6555 0.371942 12.6003 0.289226 12.5307 0.219535C12.4611 0.149845 12.3784 0.0945453 12.2875 0.0567936C12.1965 0.0190419 12.099 -0.000422453 12.0005 -0.000488114C11.8016 -0.000620723 11.6108 0.0782697 11.47 0.218828C11.3293 0.359387 11.2501 0.550099 11.25 0.749012V2.25001H6.75V0.750012C6.75007 0.65152 6.73073 0.553981 6.6931 0.462961C6.65547 0.371942 6.60028 0.289226 6.53068 0.219535C6.46109 0.149845 6.37844 0.0945453 6.28747 0.0567936C6.19651 0.0190419 6.09899 -0.000422453 6.0005 -0.000488114C5.80159 -0.000620723 5.61077 0.0782697 5.47002 0.218828C5.32928 0.359387 5.25013 0.550099 5.25 0.749012V2.25001H2C1.46974 2.25001 0.961184 2.46059 0.58614 2.83544C0.211096 3.2103 0.00026513 3.71875 0 4.24901V21.999C0 22.5294 0.210714 23.0382 0.585786 23.4132C0.960859 23.7883 1.46957 23.999 2 23.999H22C22.5304 23.999 23.0391 23.7883 23.4142 23.4132C23.7893 23.0382 24 22.5294 24 21.999V4.24901C23.9997 3.71875 23.7889 3.2103 23.4139 2.83544C23.0388 2.46059 22.5303 2.25001 22 2.25001ZM22.5 22C22.5 22.1324 22.4475 22.2595 22.3539 22.3532C22.2604 22.447 22.1334 22.4997 22.001 22.5H2C1.86739 22.5 1.74021 22.4473 1.64645 22.3536C1.55268 22.2598 1.5 22.1326 1.5 22V4.25001C1.50026 4.11758 1.55306 3.99066 1.6468 3.8971C1.74054 3.80355 1.86756 3.75101 2 3.75101H5.25V5.25101C5.24987 5.44992 5.32876 5.64074 5.46932 5.78149C5.60988 5.92223 5.80059 6.00138 5.9995 6.00151C6.19841 6.00164 6.38923 5.92275 6.52998 5.7822C6.67072 5.64164 6.74987 5.45092 6.75 5.25201V3.75101H11.25V5.25101C11.2499 5.44992 11.3288 5.64074 11.4693 5.78149C11.6099 5.92223 11.8006 6.00138 11.9995 6.00151C12.1984 6.00164 12.3892 5.92275 12.53 5.7822C12.6707 5.64164 12.7499 5.45092 12.75 5.25201V3.75101H17.25V5.25101C17.2499 5.44992 17.3288 5.64074 17.4693 5.78149C17.6099 5.92223 17.8006 6.00138 17.9995 6.00151C18.1984 6.00164 18.3892 5.92275 18.53 5.7822C18.6707 5.64164 18.7499 5.45092 18.75 5.25201V3.75101H22C22.1323 3.75128 22.259 3.80393 22.3526 3.89746C22.4461 3.99098 22.4987 4.11775 22.499 4.25001L22.5 22Z",fill:"black"}}),s("path",{attrs:{d:"M5.25 9H8.25V11.25H5.25V9ZM5.25 12.75H8.25V15H5.25V12.75ZM5.25 16.5H8.25V18.75H5.25V16.5ZM10.5 16.5H13.5V18.75H10.5V16.5ZM10.5 12.75H13.5V15H10.5V12.75ZM10.5 9H13.5V11.25H10.5V9ZM15.75 16.5H18.75V18.75H15.75V16.5ZM15.75 12.75H18.75V15H15.75V12.75ZM15.75 9H18.75V11.25H15.75V9Z",fill:"black"}})]),s("defs",[s("clipPath",{attrs:{id:"clip0_1_8877"}},[s("rect",{attrs:{width:"24",height:"24",fill:"white"}})])])])]),s("p",{staticClass:"deep-options__name"},[t._v(" "+t._s(t.getDate1)+" ")]),s("span",{staticClass:"deep-options__arr icon icon-triangle-down"})]),t.filter_date?s("div",{staticClass:"deep-options__drop-price drop-date"},[s("date-picker",{attrs:{editable:!1,clearable:!1,"append-to-body":!1,"popup-style":{position:"static",width:"fit-content"},"popup-class":["datepicker"],"input-class":["datepicker__input"],open:!0,"title-format":"DD-MM-YYYY"},on:{input:function(e){return t.getOrders()}},model:{value:t.datepicker,callback:function(e){t.datepicker=e},expression:"datepicker"}})],1):t._e()])]),s("div",{staticClass:"date-option__date-pick-item"},[s("span",{staticClass:"date-option__from-to"},[t._v(" "+t._s(t.$t("excursions.guide.orders.to"))+" ")]),s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideFilterDate2,expression:"hideFilterDate2"}],staticClass:"deep-options__item",class:{active:t.filter_date2}},[s("button",{staticClass:"deep-options__item-head",attrs:{type:"button"},on:{click:function(e){t.filter_date2=!t.filter_date2}}},[s("span",{staticClass:"deep-options__icon"},[s("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("g",{attrs:{"clip-path":"url(#clip0_1_8877)"}},[s("path",{attrs:{d:"M22 2.25001H18.75V0.750012C18.7501 0.551099 18.6712 0.360281 18.5307 0.219535C18.3901 0.0787893 18.1994 -0.000355495 18.0005 -0.000488103C17.8016 -0.000620711 17.6108 0.0782697 17.47 0.218828C17.3293 0.359387 17.2501 0.550099 17.25 0.749012V2.25001H12.75V0.750012C12.7501 0.65152 12.7307 0.553981 12.6931 0.462961C12.6555 0.371942 12.6003 0.289226 12.5307 0.219535C12.4611 0.149845 12.3784 0.0945453 12.2875 0.0567936C12.1965 0.0190419 12.099 -0.000422453 12.0005 -0.000488114C11.8016 -0.000620723 11.6108 0.0782697 11.47 0.218828C11.3293 0.359387 11.2501 0.550099 11.25 0.749012V2.25001H6.75V0.750012C6.75007 0.65152 6.73073 0.553981 6.6931 0.462961C6.65547 0.371942 6.60028 0.289226 6.53068 0.219535C6.46109 0.149845 6.37844 0.0945453 6.28747 0.0567936C6.19651 0.0190419 6.09899 -0.000422453 6.0005 -0.000488114C5.80159 -0.000620723 5.61077 0.0782697 5.47002 0.218828C5.32928 0.359387 5.25013 0.550099 5.25 0.749012V2.25001H2C1.46974 2.25001 0.961184 2.46059 0.58614 2.83544C0.211096 3.2103 0.00026513 3.71875 0 4.24901V21.999C0 22.5294 0.210714 23.0382 0.585786 23.4132C0.960859 23.7883 1.46957 23.999 2 23.999H22C22.5304 23.999 23.0391 23.7883 23.4142 23.4132C23.7893 23.0382 24 22.5294 24 21.999V4.24901C23.9997 3.71875 23.7889 3.2103 23.4139 2.83544C23.0388 2.46059 22.5303 2.25001 22 2.25001ZM22.5 22C22.5 22.1324 22.4475 22.2595 22.3539 22.3532C22.2604 22.447 22.1334 22.4997 22.001 22.5H2C1.86739 22.5 1.74021 22.4473 1.64645 22.3536C1.55268 22.2598 1.5 22.1326 1.5 22V4.25001C1.50026 4.11758 1.55306 3.99066 1.6468 3.8971C1.74054 3.80355 1.86756 3.75101 2 3.75101H5.25V5.25101C5.24987 5.44992 5.32876 5.64074 5.46932 5.78149C5.60988 5.92223 5.80059 6.00138 5.9995 6.00151C6.19841 6.00164 6.38923 5.92275 6.52998 5.7822C6.67072 5.64164 6.74987 5.45092 6.75 5.25201V3.75101H11.25V5.25101C11.2499 5.44992 11.3288 5.64074 11.4693 5.78149C11.6099 5.92223 11.8006 6.00138 11.9995 6.00151C12.1984 6.00164 12.3892 5.92275 12.53 5.7822C12.6707 5.64164 12.7499 5.45092 12.75 5.25201V3.75101H17.25V5.25101C17.2499 5.44992 17.3288 5.64074 17.4693 5.78149C17.6099 5.92223 17.8006 6.00138 17.9995 6.00151C18.1984 6.00164 18.3892 5.92275 18.53 5.7822C18.6707 5.64164 18.7499 5.45092 18.75 5.25201V3.75101H22C22.1323 3.75128 22.259 3.80393 22.3526 3.89746C22.4461 3.99098 22.4987 4.11775 22.499 4.25001L22.5 22Z",fill:"black"}}),s("path",{attrs:{d:"M5.25 9H8.25V11.25H5.25V9ZM5.25 12.75H8.25V15H5.25V12.75ZM5.25 16.5H8.25V18.75H5.25V16.5ZM10.5 16.5H13.5V18.75H10.5V16.5ZM10.5 12.75H13.5V15H10.5V12.75ZM10.5 9H13.5V11.25H10.5V9ZM15.75 16.5H18.75V18.75H15.75V16.5ZM15.75 12.75H18.75V15H15.75V12.75ZM15.75 9H18.75V11.25H15.75V9Z",fill:"black"}})]),s("defs",[s("clipPath",{attrs:{id:"clip0_1_8877"}},[s("rect",{attrs:{width:"24",height:"24",fill:"white"}})])])])]),s("p",{staticClass:"deep-options__name"},[t._v(" "+t._s(t.getDate2)+" ")]),s("span",{staticClass:"deep-options__arr icon icon-triangle-down"})]),t.filter_date2?s("div",{staticClass:"deep-options__drop-price drop-date"},[s("date-picker",{attrs:{editable:!1,clearable:!1,"append-to-body":!1,"popup-style":{position:"static",width:"fit-content"},"popup-class":["datepicker"],"input-class":["datepicker__input"],open:!0,"title-format":"DD-MM-YYYY"},on:{input:function(e){return t.getOrders()}},model:{value:t.datepicker2,callback:function(e){t.datepicker2=e},expression:"datepicker2"}})],1):t._e()])])])])]),s("div",{staticClass:"guide-order__options-sorting"},[s("button",{staticClass:"guide-order__sorting-item",class:{active:"all"==t.active_filter},attrs:{type:"button"},on:{click:function(e){return t.getAllOrders("all")}}},[t._v(" "+t._s(t.$t("excursions.guide.orders.sorting.all"))+" ")]),s("button",{staticClass:"guide-order__sorting-item",class:{active:"current"==t.active_filter},attrs:{type:"button","data-val":"current"},on:{click:function(e){return t.getCurrentOrders("current")}}},[t._v(" "+t._s(t.$t("excursions.guide.orders.sorting.current"))+" ")]),s("button",{staticClass:"guide-order__sorting-item",class:{active:"completed"==t.active_filter},attrs:{type:"button","data-val":"current"},on:{click:function(e){return t.getCompletedOrders("completed")}}},[t._v(" "+t._s(t.$t("excursions.guide.orders.sorting.completed"))+" ")])])]),t.empty?s("p",{staticClass:"empty"},[t._v(" "+t._s(t.$t("excursions.guide.orders.empty"))+" ")]):t._e(),s("div",{staticClass:"guide-order__order-list-pc order-list-pc"},[t.preloader?s("div",{staticClass:"for-preloader"},[s("v-preloader")],1):t._e(),t.orders.length&&!t.preloader?s("div",{staticClass:"order-list-pc__list"},[s("div",{staticClass:"order-list-pc__top-line"},[s("div",{staticClass:"order-list-pc__top-line-item order-list-pc__top-line-item_img"}),s("div",{staticClass:"order-list-pc__top-line-item order-list-pc__top-line-item_number"},[t._v(" № ")]),s("div",{staticClass:"order-list-pc__top-line-item order-list-pc__top-line-item_route"},[t._v(" "+t._s(t.$t("excursions.guide.orders.top_line.route"))+" ")]),s("div",{staticClass:"order-list-pc__top-line-item order-list-pc__top-line-item_date"},[t._v(" "+t._s(t.$t("excursions.guide.orders.top_line.date"))+" ")]),s("div",{staticClass:"order-list-pc__top-line-item order-list-pc__top-line-item_client-amount-contact"},[s("p",[t._v(t._s(t.$t("excursions.guide.orders.top_line.customer")))]),s("p",[t._v(" "+t._s(t.$t("excursions.guide.orders.top_line.number_of_persons"))+" ")]),s("p",[t._v(t._s(t.$t("excursions.guide.orders.top_line.contacts")))])]),s("div",{staticClass:"order-list-pc__top-line-item order-list-pc__top-line-item_status"},[t._v(" "+t._s(t.$t("excursions.guide.orders.top_line.status"))+" ")])]),t._l(t.orders,(function(t,e){return s("excursion-order-guide",{key:e,attrs:{order:t}})}))],2):t._e()])])])])])},Ws=[],zs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order"},[s("div",{staticClass:"order-list-pc__content"},[s("div",{staticClass:"order-list-pc__content-image"},[t.image.id?s("img",{attrs:{src:t.setPhoto,alt:"oops:O"}}):t._e()]),s("div",{staticClass:"order-list-pc__text-content"},[s("div",{staticClass:"order-list-pc__content-item order-list-pc__content-item_number"},[s("p",{staticClass:"order-list-pc__number-order"},[t._v(" "+t._s(t.order.id)+" ")])]),s("div",{staticClass:"order-list-pc__content-item order-list-pc__content-item_route"},[s("p",{staticClass:"order-list-pc__order-city"},[s("span",{staticClass:"icon icon-mark"}),t._v(" "+t._s(t.order.list[0].guide.city)+" ")]),s("p",{staticClass:"order-list-pc__order-location"},[t._v(" "+t._s(t.order.list[0].guide.subtitle)+" ")])]),s("div",{staticClass:"order-list-pc__content-item order-list-pc__content-item_date"},[s("p",{staticClass:"order-list-pc__order-date-info"},[s("span",{staticClass:"icon icon-calendar"}),t._v(" "+t._s(t.order.date)+" ")]),s("p",{staticClass:"order-list-pc__order-date-info"},[s("span",{staticClass:"icon icon-watch"}),t._v(" "+t._s(t.order.time)+" ")])]),s("div",{staticClass:"order-list-pc__content-item order-list-pc__content-item_client-amount-contact"},t._l(t.order_list,(function(e,i){return s("div",{key:i,staticClass:"order-list-pc__list-row"},[s("p",{staticClass:"order-list-pc__client"},[t._v(t._s(e.name))]),s("div",{staticClass:"order-list-pc__amount-person"},[s("p",{staticClass:"order-list-pc__person"},[t._v(" "+t._s(e.list.default.length)+" "+t._s(t.$t("excursions.guide.orders.item.adults"))+" ")]),s("p",{staticClass:"order-list-pc__person"},[t._v(" "+t._s(e.list.child.length)+" "+t._s(t.$t("excursions.guide.orders.item.children"))+" ")])]),s("p",{staticClass:"order-list-pc__contact"},[t._v("+995 577 44 5566")])])})),0),s("div",{staticClass:"order-list-pc__content-item order-list-pc__content-item_status"},[s("p",{staticClass:"order-list-pc__status",class:{active:!t.completed}},[t._v(" "+t._s(t.left)+" ")]),s("div",{staticClass:"order-list-pc__price-label"},[s("p",{staticClass:"order-list-pc__price-sign"},[t._v(" "+t._s(t.$t("excursions.guide.orders.item.sum"))+" ")]),s("p",{staticClass:"order-list-pc__sum"},[t._v(" "+t._s(t.getPrice)+" "),s("span",{staticClass:"icon icon-euro"})])])])])]),s("div",{staticClass:"order-list-mob__item"},[s("div",{staticClass:"order-list-mob__top-row"},[s("div",{staticClass:"order-list-mob__img"},[t.image.id?s("img",{attrs:{src:t.setPhoto,alt:"oops:O"}}):t._e()]),s("div",{staticClass:"order-list-mob__top-info"},[s("div",{staticClass:"order-list-mob__number-price"},[s("p",{staticClass:"order-list-mob__order-number"},[t._v(" "+t._s(t.$t("excursions.guide.orders.item_mob.order_label"))+" № "+t._s(t.order.id)+" ")]),s("p",{staticClass:"order-list-mob__order-price"},[s("span",{staticClass:"order-list-mob__price-sign"},[t._v(" "+t._s(t.$t("excursions.guide.orders.item_mob.sum"))+" ")]),t._v(" "+t._s(t.getPrice)+" "),s("span",{staticClass:"icon icon-euro"})])]),s("p",{staticClass:"order-list-mob__location"},[t._v(" "+t._s(t.order.list[0].guide.subtitle)+" ")])])]),s("div",{staticClass:"order-list-mob__mid-row"},[s("div",{staticClass:"order-list-mob__mid-signs"},[s("p",{staticClass:"order-list-mob__mid-date"},[s("span",{staticClass:"icon icon-calendar"}),t._v(" "+t._s(t.$t("excursions.guide.orders.item_mob.date"))+" ")]),s("p",{staticClass:"order-list-mob__mid-start"},[s("span",{staticClass:"icon icon-watch"}),t._v(" "+t._s(t.$t("excursions.guide.orders.item_mob.start"))+" ")]),s("p",{staticClass:"order-list-mob__mid-status"},[t._v(" "+t._s(t.$t("excursions.guide.orders.item_mob.status_label"))+" ")])]),s("div",{staticClass:"order-list-mob__mid-info",class:{active:!t.completed,other:t.completed}},[s("p",{staticClass:"order-list-mob__info"},[t._v(t._s(t.order.date))]),s("p",{staticClass:"order-list-mob__info"},[t._v(t._s(t.order.time))]),s("p",{staticClass:"order-list-mob__info",class:{active:!t.completed}},[t._v(" "+t._s(t.left)+" ")])])]),s("div",{staticClass:"order-list-mob__bottom-row"},[s("div",{staticClass:"order-list-mob__bottom-signs"},[s("p",{staticClass:"order-list-mob__bottom-sign"},[t._v(" "+t._s(t.$t("excursions.guide.orders.item_mob.client_label"))+" ")]),s("p",{staticClass:"order-list-mob__bottom-sign"},[t._v(" "+t._s(t.$t("excursions.guide.orders.item_mob.number_of_persons"))+" ")]),s("p",{staticClass:"order-list-mob__bottom-sign"},[t._v(" "+t._s(t.$t("excursions.guide.orders.item_mob.contacts"))+" ")])]),s("div",{staticClass:"order-list-mob__bottom-info"},t._l(t.order_list,(function(e,i){return s("div",{key:i,staticClass:"order-list-mob__bottom-info-row"},[s("p",{staticClass:"order-list-mob__client"},[t._v(t._s(e.name))]),s("div",{staticClass:"order-list-mob__list-person"},[s("p",{staticClass:"order-list-mob__person"},[t._v(" "+t._s(e.list.default.length)+" "+t._s(t.$t("excursions.guide.orders.item.adults"))+" ")]),s("p",{staticClass:"order-list-mob__person"},[t._v(" "+t._s(e.list.child.length)+" "+t._s(t.$t("excursions.guide.orders.item.children"))+" ")])]),s("p",{staticClass:"order-list-mob__contact"},[t._v(t._s(e.phone))])])})),0)])])])},Ys=[],Js={name:"ExcursionOrderGuide",data(){return{image:{data:"",extension:"",id:null,name:null,owner:null,basemediamodel_ptr:null,primary:null,size:null},order_list:[],price:0,completed:!1,left:null}},props:{order:{id:null,full_date:null,date:null,time:null,list:[]}},methods:{getImage(){h.get(`/guide/media/${this.order.id}`).then((t=>{t.data.data[0]&&(this.image=t.data.data[0])})).catch((function(t){console.log(t)}))},getOrderList(){function t(t){"child"==t.category?e.push({owner:t.owner,name:t.order.name,phone:t.order.phone,list:{child:[t],default:[]}}):e.push({owner:t.owner,name:t.order.name,phone:t.order.phone,list:{child:[],default:[t]}})}var e=[];this.order.list.forEach((s=>{e.length?e.forEach(((i,a)=>{i.owner==s.owner?"child"==s.category?i.list.child.push(s):i.list.default.push(s):a+1==e.length&&t(s)})):t(s)})),this.$nextTick((()=>{this.order_list=e,this.getImage()})),this.daysLeft()},daysLeft(){var t=new Date,e=new Date(this.order.full_date.slice(0,-4)),s=e.getFullYear(),i=t.getFullYear(),a=e.getMonth(),o=t.getMonth(),r=e.getDate(),n=t.getDate();if(s>i||s==i&&a>o||s==i&&a==o&&r>n){var c=new Date(t.toUTCString().slice(0,-4)),l=Math.abs(e.getTime()-c.getTime()),u=Math.ceil(l/864e5);this.$nextTick((()=>{this.completed=!1,this.left=this.$t("excursions.guide.orders.item.status",{amount:u})}))}else this.$nextTick((()=>{this.completed=!0,this.left=this.$t("excursions.guide.orders.item.completed")}))}},computed:{setPhoto(){var t=this.image.extension.slice(1);return"data:image/"+t+";base64,"+this.image.data},getPrice(){var t=0;return this.order.list.forEach((e=>{t+=e.cost})),t}},mounted(){this.getImage(),this.getOrderList(),this.daysLeft()}},Qs=Js,Ks=(0,x.Z)(Qs,zs,Ys,!1,null,"7308ae9a",null),Xs=Ks.exports,ti={name:"GuideOrders",components:{ExcursionOrderGuide:Xs,DatePicker:Xt.Z,VPreloader:us},directives:{ClickOutside:d()},data(){return{filter_date:!1,datepicker:new Date,filter_date2:!1,datepicker2:new Date,preloader:!0,empty:!1,orders:[],active_filter:"all"}},computed:{getDate1(){var t=this.datepicker.getDate();1==t.toString().length&&(t="0"+t);var e=Number(this.datepicker.getMonth())+1;1==e.toString().length&&(e="0"+e);var s=this.datepicker.getFullYear(),i=t+"."+e+"."+s;return i},getDate2(){var t=this.datepicker2.getDate();1==t.toString().length&&(t="0"+t);var e=Number(this.datepicker2.getMonth())+1;1==e.toString().length&&(e="0"+e);var s=this.datepicker2.getFullYear(),i=t+"."+e+"."+s;return i},setStartDate(){var t=this.datepicker.getDate();1==t.toString().length&&(t="0"+t);var e=Number(this.datepicker.getMonth())+1;1==e.toString().length&&(e="0"+e);var s=this.datepicker.getFullYear(),i=t+"-"+e+"-"+s;return i},setEndDate(){var t=this.datepicker2.getDate();1==t.toString().length&&(t="0"+t);var e=Number(this.datepicker2.getMonth())+1;1==e.toString().length&&(e="0"+e);var s=this.datepicker2.getFullYear(),i=t+"-"+e+"-"+s;return i}},methods:{setDate2(){var t=new Date;t.setMonth(t.getMonth()+2),this.datepicker2=t},hideFilterDate(){this.filter_date=!1},hideFilterDate2(){this.filter_date2=!1},async getOrders(){this.preloader=!0,await h.get(`/user/ordered/guides?start_on_the_date=${this.setStartDate}&end_on_the_date=${this.setEndDate}`).then((t=>{const e=t.data.data;var s=[];function i(t){var e=t.on_the_date.slice(8,10),i=t.on_the_date.slice(5,7),a=t.on_the_date.slice(0,4),o=e+"."+i+"."+a;s.push({id:t.servicetype,full_date:t.on_the_date,date:o,time:t.on_the_date.slice(11,16),list:[t]})}e.forEach((t=>{s.length?s.forEach(((e,a)=>{e.id==t.servicetype&&e.full_date==t.on_the_date?e.list.push(t):a+1==s.length&&i(t)})):i(t)})),this.$nextTick((function(){this.orders=s,this.orders.length?this.empty=!1:this.empty=!0}))})).catch((t=>{console.log(t)})),this.preloader=!1},getAllOrders(t){var e=new Date,s=new Date;this.datepicker=new Date(e.setMonth(e.getMonth()-2)),this.datepicker2=new Date(s.setMonth(s.getMonth()+2)),this.getOrders(),this.active_filter=t},getCompletedOrders(t){var e=new Date;this.datepicker=new Date(e.setMonth(e.getMonth()-2)),this.datepicker2=new Date,this.getOrders(),this.active_filter=t},getCurrentOrders(t){var e=new Date;this.datepicker2=new Date(e.setMonth(e.getMonth()+2)),this.datepicker=new Date,this.getOrders(),this.active_filter=t}},beforeMount(){var t=new Date,e=new Date;this.datepicker=new Date(t.setMonth(t.getMonth()-2)),this.datepicker2=new Date(e.setMonth(e.getMonth()+2))},mounted(){this.getOrders()}},ei=ti,si=(0,x.Z)(ei,Bs,Ws,!1,null,"7b72477c",null),ii=si.exports,ai=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"guide-balance"},[s("div",{staticClass:"guide-balance__wrapper"},[s("div",{staticClass:"guide-balance__container"},[s("p",{staticClass:"guide-balance__title"},[t._v(" "+t._s(t.$t("excursions.guide.balance.title"))+" ")]),s("p",{staticClass:"guide-balance__sub-title guide-balance__sub-title_on-account"},[t._v(" "+t._s(t.$t("excursions.guide.balance.on_account_title"))+" "),s("span",{staticClass:"guide-balance__sub-title-sum"},[t._v("240")]),s("span",{staticClass:"icon icon-euro"})]),s("p",{staticClass:"guide-balance__sub-title guide-balance__sub-title_earn"},[t._v(" "+t._s(t.$t("excursions.guide.balance.earl_title"))+" "),s("span",{staticClass:"guide-balance__sub-title-sum"},[t._v(t._s(t.earned_month))]),s("span",{staticClass:"icon icon-euro"})]),s("div",{staticClass:"guide-balance__options"},[s("div",{staticClass:"guide-balance__options-date date-option"},[s("div",{staticClass:"date-option__content"},[s("p",{staticClass:"date-option__title"},[t._v(" "+t._s(t.$t("excursions.guide.balance.date"))+" ")]),s("div",{staticClass:"date-option__list"},[s("div",{staticClass:"date-option__date-pick-item"},[s("span",{staticClass:"date-option__from-to"},[t._v(" "+t._s(t.$t("excursions.guide.balance.with"))+" ")]),s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideFilterDate,expression:"hideFilterDate"}],staticClass:"deep-options__item",class:{active:t.filter_date}},[s("button",{staticClass:"deep-options__item-head",attrs:{type:"button"},on:{click:function(e){t.filter_date=!t.filter_date}}},[s("span",{staticClass:"deep-options__icon"},[s("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("g",{attrs:{"clip-path":"url(#clip0_1_8877)"}},[s("path",{attrs:{d:"M22 2.25001H18.75V0.750012C18.7501 0.551099 18.6712 0.360281 18.5307 0.219535C18.3901 0.0787893 18.1994 -0.000355495 18.0005 -0.000488103C17.8016 -0.000620711 17.6108 0.0782697 17.47 0.218828C17.3293 0.359387 17.2501 0.550099 17.25 0.749012V2.25001H12.75V0.750012C12.7501 0.65152 12.7307 0.553981 12.6931 0.462961C12.6555 0.371942 12.6003 0.289226 12.5307 0.219535C12.4611 0.149845 12.3784 0.0945453 12.2875 0.0567936C12.1965 0.0190419 12.099 -0.000422453 12.0005 -0.000488114C11.8016 -0.000620723 11.6108 0.0782697 11.47 0.218828C11.3293 0.359387 11.2501 0.550099 11.25 0.749012V2.25001H6.75V0.750012C6.75007 0.65152 6.73073 0.553981 6.6931 0.462961C6.65547 0.371942 6.60028 0.289226 6.53068 0.219535C6.46109 0.149845 6.37844 0.0945453 6.28747 0.0567936C6.19651 0.0190419 6.09899 -0.000422453 6.0005 -0.000488114C5.80159 -0.000620723 5.61077 0.0782697 5.47002 0.218828C5.32928 0.359387 5.25013 0.550099 5.25 0.749012V2.25001H2C1.46974 2.25001 0.961184 2.46059 0.58614 2.83544C0.211096 3.2103 0.00026513 3.71875 0 4.24901V21.999C0 22.5294 0.210714 23.0382 0.585786 23.4132C0.960859 23.7883 1.46957 23.999 2 23.999H22C22.5304 23.999 23.0391 23.7883 23.4142 23.4132C23.7893 23.0382 24 22.5294 24 21.999V4.24901C23.9997 3.71875 23.7889 3.2103 23.4139 2.83544C23.0388 2.46059 22.5303 2.25001 22 2.25001ZM22.5 22C22.5 22.1324 22.4475 22.2595 22.3539 22.3532C22.2604 22.447 22.1334 22.4997 22.001 22.5H2C1.86739 22.5 1.74021 22.4473 1.64645 22.3536C1.55268 22.2598 1.5 22.1326 1.5 22V4.25001C1.50026 4.11758 1.55306 3.99066 1.6468 3.8971C1.74054 3.80355 1.86756 3.75101 2 3.75101H5.25V5.25101C5.24987 5.44992 5.32876 5.64074 5.46932 5.78149C5.60988 5.92223 5.80059 6.00138 5.9995 6.00151C6.19841 6.00164 6.38923 5.92275 6.52998 5.7822C6.67072 5.64164 6.74987 5.45092 6.75 5.25201V3.75101H11.25V5.25101C11.2499 5.44992 11.3288 5.64074 11.4693 5.78149C11.6099 5.92223 11.8006 6.00138 11.9995 6.00151C12.1984 6.00164 12.3892 5.92275 12.53 5.7822C12.6707 5.64164 12.7499 5.45092 12.75 5.25201V3.75101H17.25V5.25101C17.2499 5.44992 17.3288 5.64074 17.4693 5.78149C17.6099 5.92223 17.8006 6.00138 17.9995 6.00151C18.1984 6.00164 18.3892 5.92275 18.53 5.7822C18.6707 5.64164 18.7499 5.45092 18.75 5.25201V3.75101H22C22.1323 3.75128 22.259 3.80393 22.3526 3.89746C22.4461 3.99098 22.4987 4.11775 22.499 4.25001L22.5 22Z",fill:"black"}}),s("path",{attrs:{d:"M5.25 9H8.25V11.25H5.25V9ZM5.25 12.75H8.25V15H5.25V12.75ZM5.25 16.5H8.25V18.75H5.25V16.5ZM10.5 16.5H13.5V18.75H10.5V16.5ZM10.5 12.75H13.5V15H10.5V12.75ZM10.5 9H13.5V11.25H10.5V9ZM15.75 16.5H18.75V18.75H15.75V16.5ZM15.75 12.75H18.75V15H15.75V12.75ZM15.75 9H18.75V11.25H15.75V9Z",fill:"black"}})]),s("defs",[s("clipPath",{attrs:{id:"clip0_1_8877"}},[s("rect",{attrs:{width:"24",height:"24",fill:"white"}})])])])]),s("p",{staticClass:"deep-options__name"},[t._v(" "+t._s(t.getDate1)+" ")]),s("span",{staticClass:"deep-options__arr icon icon-triangle-down"})]),t.filter_date?s("div",{staticClass:"deep-options__drop-price drop-date"},[s("date-picker",{attrs:{editable:!1,clearable:!1,"append-to-body":!1,"popup-style":{position:"static",width:"fit-content"},"popup-class":["datepicker"],"input-class":["datepicker__input"],open:!0,"title-format":"DD-MM-YYYY"},on:{input:function(e){return t.getOrders()}},model:{value:t.datepicker,callback:function(e){t.datepicker=e},expression:"datepicker"}})],1):t._e()])]),s("div",{staticClass:"date-option__date-pick-item"},[s("span",{staticClass:"date-option__from-to"},[t._v(" "+t._s(t.$t("excursions.guide.balance.to"))+" ")]),s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideFilterDate2,expression:"hideFilterDate2"}],staticClass:"deep-options__item",class:{active:t.filter_date2}},[s("button",{staticClass:"deep-options__item-head",attrs:{type:"button"},on:{click:function(e){t.filter_date2=!t.filter_date2}}},[s("span",{staticClass:"deep-options__icon"},[s("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("g",{attrs:{"clip-path":"url(#clip0_1_8877)"}},[s("path",{attrs:{d:"M22 2.25001H18.75V0.750012C18.7501 0.551099 18.6712 0.360281 18.5307 0.219535C18.3901 0.0787893 18.1994 -0.000355495 18.0005 -0.000488103C17.8016 -0.000620711 17.6108 0.0782697 17.47 0.218828C17.3293 0.359387 17.2501 0.550099 17.25 0.749012V2.25001H12.75V0.750012C12.7501 0.65152 12.7307 0.553981 12.6931 0.462961C12.6555 0.371942 12.6003 0.289226 12.5307 0.219535C12.4611 0.149845 12.3784 0.0945453 12.2875 0.0567936C12.1965 0.0190419 12.099 -0.000422453 12.0005 -0.000488114C11.8016 -0.000620723 11.6108 0.0782697 11.47 0.218828C11.3293 0.359387 11.2501 0.550099 11.25 0.749012V2.25001H6.75V0.750012C6.75007 0.65152 6.73073 0.553981 6.6931 0.462961C6.65547 0.371942 6.60028 0.289226 6.53068 0.219535C6.46109 0.149845 6.37844 0.0945453 6.28747 0.0567936C6.19651 0.0190419 6.09899 -0.000422453 6.0005 -0.000488114C5.80159 -0.000620723 5.61077 0.0782697 5.47002 0.218828C5.32928 0.359387 5.25013 0.550099 5.25 0.749012V2.25001H2C1.46974 2.25001 0.961184 2.46059 0.58614 2.83544C0.211096 3.2103 0.00026513 3.71875 0 4.24901V21.999C0 22.5294 0.210714 23.0382 0.585786 23.4132C0.960859 23.7883 1.46957 23.999 2 23.999H22C22.5304 23.999 23.0391 23.7883 23.4142 23.4132C23.7893 23.0382 24 22.5294 24 21.999V4.24901C23.9997 3.71875 23.7889 3.2103 23.4139 2.83544C23.0388 2.46059 22.5303 2.25001 22 2.25001ZM22.5 22C22.5 22.1324 22.4475 22.2595 22.3539 22.3532C22.2604 22.447 22.1334 22.4997 22.001 22.5H2C1.86739 22.5 1.74021 22.4473 1.64645 22.3536C1.55268 22.2598 1.5 22.1326 1.5 22V4.25001C1.50026 4.11758 1.55306 3.99066 1.6468 3.8971C1.74054 3.80355 1.86756 3.75101 2 3.75101H5.25V5.25101C5.24987 5.44992 5.32876 5.64074 5.46932 5.78149C5.60988 5.92223 5.80059 6.00138 5.9995 6.00151C6.19841 6.00164 6.38923 5.92275 6.52998 5.7822C6.67072 5.64164 6.74987 5.45092 6.75 5.25201V3.75101H11.25V5.25101C11.2499 5.44992 11.3288 5.64074 11.4693 5.78149C11.6099 5.92223 11.8006 6.00138 11.9995 6.00151C12.1984 6.00164 12.3892 5.92275 12.53 5.7822C12.6707 5.64164 12.7499 5.45092 12.75 5.25201V3.75101H17.25V5.25101C17.2499 5.44992 17.3288 5.64074 17.4693 5.78149C17.6099 5.92223 17.8006 6.00138 17.9995 6.00151C18.1984 6.00164 18.3892 5.92275 18.53 5.7822C18.6707 5.64164 18.7499 5.45092 18.75 5.25201V3.75101H22C22.1323 3.75128 22.259 3.80393 22.3526 3.89746C22.4461 3.99098 22.4987 4.11775 22.499 4.25001L22.5 22Z",fill:"black"}}),s("path",{attrs:{d:"M5.25 9H8.25V11.25H5.25V9ZM5.25 12.75H8.25V15H5.25V12.75ZM5.25 16.5H8.25V18.75H5.25V16.5ZM10.5 16.5H13.5V18.75H10.5V16.5ZM10.5 12.75H13.5V15H10.5V12.75ZM10.5 9H13.5V11.25H10.5V9ZM15.75 16.5H18.75V18.75H15.75V16.5ZM15.75 12.75H18.75V15H15.75V12.75ZM15.75 9H18.75V11.25H15.75V9Z",fill:"black"}})]),s("defs",[s("clipPath",{attrs:{id:"clip0_1_8877"}},[s("rect",{attrs:{width:"24",height:"24",fill:"white"}})])])])]),s("p",{staticClass:"deep-options__name"},[t._v(" "+t._s(t.getDate2)+" ")]),s("span",{staticClass:"deep-options__arr icon icon-triangle-down"})]),t.filter_date2?s("div",{staticClass:"deep-options__drop-price drop-date"},[s("date-picker",{attrs:{editable:!1,clearable:!1,"append-to-body":!1,"popup-style":{position:"static",width:"fit-content"},"popup-class":["datepicker"],"input-class":["datepicker__input"],open:!0,"title-format":"DD-MM-YYYY"},on:{input:function(e){return t.getOrders()}},model:{value:t.datepicker2,callback:function(e){t.datepicker2=e},expression:"datepicker2"}})],1):t._e()])])])])]),s("div",{staticClass:"guide-balance__status-prompt status-prompt"},[s("p",{staticClass:"status-prompt__title"},[t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.status"))+" ")]),s("div",{staticClass:"status-prompt__in-process"},[s("span",{staticClass:"status-prompt__icon"}),t._v(" "+t._s(t.$t("excursions.guide.balance.mob_prompt.in_process"))+" ")]),s("div",{staticClass:"status-prompt__done"},[s("span",{staticClass:"status-prompt__icon paid"}),t._v(" "+t._s(t.$t("excursions.guide.balance.mob_prompt.paid"))+" ")])])]),t.empty?s("p",{staticClass:"empty"},[t._v(" "+t._s(t.$t("excursions.guide.orders.empty"))+" ")]):t._e(),t.preloader?s("div",{staticClass:"for-preloader"},[s("v-preloader")],1):t._e(),t.orders.length&&!t.preloader?s("div",[s("div",{staticClass:"guide-balance__balance-list-pc balance-list-pc"},[s("div",{staticClass:"balance-list-pc__top-line"},[s("div",{staticClass:"balance-list-pc__top-line-item balance-list-pc__top-line-item_number"},[t._v(" № ")]),s("div",{staticClass:"balance-list-pc__top-line-item balance-list-pc__top-line-item_tour"},[t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.tour"))+" ")]),s("div",{staticClass:"balance-list-pc__top-line-item balance-list-pc__top-line-item_date"},[s("span",{staticClass:"icon icon-calendar"}),t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.date"))+" ")]),s("div",{staticClass:"balance-list-pc__top-line-item balance-list-pc__top-line-item_time"},[s("span",{staticClass:"icon icon-watch"}),t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.time"))+" ")]),s("div",{staticClass:"balance-list-pc__top-line-item balance-list-pc__top-line-item_amount"},[t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.amount"))+" ")]),s("div",{staticClass:"balance-list-pc__top-line-item balance-list-pc__top-line-item_price-for-one"},[t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.price_for_one"))+" ")]),s("div",{staticClass:"balance-list-pc__top-line-item balance-list-pc__top-line-item_sum"},[t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.sum"))+" ")]),s("div",{staticClass:"balance-list-pc__top-line-item balance-list-pc__top-line-item_commission"},[t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.commission"))+" ")]),s("div",{staticClass:"balance-list-pc__top-line-item balance-list-pc__top-line-item_earned"},[t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.earned"))+" ")]),s("div",{staticClass:"balance-list-pc__top-line-item balance-list-pc__top-line-item_status"},[t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.status"))+" ")])]),s("div",{staticClass:"balance-list-pc__content"},[s("div",{staticClass:"balance-list-pc__list"},t._l(t.orders,(function(t,e){return s("excursion-balance",{key:e,attrs:{order:t}})})),1)])])]):t._e()])])])},oi=[],ri=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"balance-list-pc__item"},[s("div",{staticClass:"balance-list-pc__col balance-list-pc__col_number"},[t._v(" "+t._s(t.order.owner)+" ")]),s("div",{staticClass:"balance-list-pc__image"},[t.image.id?s("img",{attrs:{src:t.setPhoto,alt:"oops:O"}}):t._e()]),s("div",{staticClass:"balance-list-pc__col balance-list-pc__col_tour"},[t._v(" "+t._s(t.subtitle)+" ")]),s("div",{staticClass:"balance-list-pc__col balance-list-pc__col_date"},[t._v(" "+t._s(t.order.date)+" ")]),s("div",{staticClass:"balance-list-pc__col balance-list-pc__col_time"},[t._v(" "+t._s(t.order.time)+" ")]),s("div",{staticClass:"balance-list-pc__col balance-list-pc__col_amount"},[s("span",[t._v(" "+t._s(t.order.list.default.length)+" "+t._s(t.$t("excursions.guide.balance.item.adults"))+" ")]),s("span",[t._v(" "+t._s(t.order.list.child.length)+" "+t._s(t.$t("excursions.guide.balance.item.children"))+" ")])]),s("div",{staticClass:"balance-list-pc__col balance-list-pc__col_price-for-one"},[s("span",[t._v(" "+t._s(t.price_default)+" "),s("span",{staticClass:"icon icon-euro"})]),s("span",[t._v(" "+t._s(t.price_child)+" "),s("span",{staticClass:"icon icon-euro"})])]),s("div",{staticClass:"balance-list-pc__col balance-list-pc__col_sum"},[s("span",[t._v(" "+t._s(t.getPrice)+" "),s("span",{staticClass:"icon icon-euro"})])]),s("div",{staticClass:"balance-list-pc__col balance-list-pc__col_commission"},[s("span",[t._v(" "+t._s(t.getCommission)+" "),s("span",{staticClass:"icon icon-euro"})])]),s("div",{staticClass:"balance-list-pc__col balance-list-pc__col_earned"},[s("span",[t._v(" "+t._s(t.getPriceAfterCommission)+" "),s("span",{staticClass:"icon icon-euro"})])]),s("div",{staticClass:"balance-list-pc__col balance-list-pc__col_status"},[t._v(" "+t._s(t.getStatus)+" ")])]),s("div",{staticClass:"balance-list-mob__item"},[s("div",{staticClass:"balance-list-mob__top-row"},[s("div",{staticClass:"balance-list-mob__image"},[t.image.id?s("img",{attrs:{src:t.setPhoto,alt:"oops:O"}}):t._e()]),s("div",{staticClass:"balance-list-mob__top-content"},[s("p",{staticClass:"balance-list-mob__number"},[t._v("№ "+t._s(t.order.owner))]),s("p",{staticClass:"balance-list-mob__location"},[t._v(" "+t._s(t.subtitle)+" ")])]),s("div",{staticClass:"balance-list-mob__status-icon",class:{paid:t.getStatusMobile}})]),s("div",{staticClass:"balance-list-mob__mid-row balance-list-mob__mid-row_first"},[s("div",{staticClass:"balance-list-mob__mid-list-label"},[s("p",{staticClass:"balance-list-mob__mid-label"},[s("span",{staticClass:"icon icon-calendar"}),t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.date"))+" ")]),s("p",{staticClass:"balance-list-mob__mid-label"},[s("span",{staticClass:"icon icon-watch"}),t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.time"))+" ")]),s("p",{staticClass:"balance-list-mob__mid-label"},[t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.amount"))+" ")])]),s("div",{staticClass:"balance-list-mob__mid-list-info"},[s("p",{staticClass:"balance-list-mob__mid-info"},[t._v(t._s(t.order.date))]),s("p",{staticClass:"balance-list-mob__mid-info"},[t._v(t._s(t.order.time))]),s("p",{staticClass:"balance-list-mob__mid-info"},[s("span",[t._v(" "+t._s(t.order.list.default.length)+" "+t._s(t.$t("excursions.guide.balance.item.adults"))+" ")]),s("span",[t._v(" "+t._s(t.order.list.child.length)+" "+t._s(t.$t("excursions.guide.balance.item.children"))+" ")])])])]),s("div",{staticClass:"balance-list-mob__mid-row balance-list-mob__mid-row_second"},[s("div",{staticClass:"balance-list-mob__mid-list-label"},[s("p",{staticClass:"balance-list-mob__mid-label"},[t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.price_for_one"))+" ")]),s("p",{staticClass:"balance-list-mob__mid-label"},[t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.sum"))+" ")]),s("p",{staticClass:"balance-list-mob__mid-label"},[t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.commission"))+" ")]),s("p",{staticClass:"balance-list-mob__mid-label"},[t._v(" "+t._s(t.$t("excursions.guide.balance.top_line.earned"))+" ")])]),s("div",{staticClass:"balance-list-mob__mid-list-info"},[s("p",{staticClass:"balance-list-mob__mid-info"},[s("span",[t._v(" "+t._s(t.price_default)+" "),s("span",{staticClass:"icon icon-euro"})]),s("span",[t._v(" "+t._s(t.price_child)+" "),s("span",{staticClass:"icon icon-euro"})])]),s("p",{staticClass:"balance-list-mob__mid-info"},[s("span",[t._v(" "+t._s(t.getPrice)+" "),s("span",{staticClass:"icon icon-euro"})])]),s("p",{staticClass:"balance-list-mob__mid-info"},[s("span",[t._v(" "+t._s(t.getCommission)+" "),s("span",{staticClass:"icon icon-euro"})])]),s("p",{staticClass:"balance-list-mob__mid-info"},[s("span",[t._v(" "+t._s(t.getPriceAfterCommission)+" "),s("span",{staticClass:"icon icon-euro"})])])])])])])},ni=[],ci={name:"ExcursionBalance",data(){return{image:{data:"",extension:"",id:null,name:null,owner:null,basemediamodel_ptr:null,primary:null,size:null},subtitle:null,price_default:null,price_child:null}},props:{order:{default(){return{id:null,owner:null,full_date:null,date:null,time:null,list:[]}}}},methods:{getImage(){h.get(`/guide/media/${this.order.id}`).then((t=>{t.data.data[0]&&(this.image=t.data.data[0])})).catch((t=>{console.log(t)}))},async getExcursion(){h.get(`/guide/${this.order.id}`).then((t=>{t.data.data[0]&&(this.subtitle=t.data.data[0].subtitle,this.price_default=t.data.data[0].guideprices[0].price,this.price_child=t.data.data[0].guideprices[1].price)})).catch((t=>{console.log(t)}))}},computed:{setPhoto(){var t=this.image.extension.slice(1);return"data:image/"+t+";base64,"+this.image.data},getStatus(){return this.order.list.default.length?1==this.order.list.default[0].order.payed?this.$t("excursions.guide.balance.item.paid"):1==this.order.list.default[0].order.canceled?this.$t("excursions.guide.balance.item.canceled"):this.$t("excursions.guide.balance.item.in_process"):1==this.order.list.child[0].order.payed?this.$t("excursions.guide.balance.item.paid"):1==this.order.list.child[0].order.canceled?this.$t("excursions.guide.balance.item.canceled"):this.$t("excursions.guide.balance.item.in_process")},getStatusMobile(){return this.order.list.default.length?1==this.order.list.default[0].order.payed||(this.order.list.default[0].order.canceled,!1):1==this.order.list.child[0].order.payed||(this.order.list.child[0].order.canceled,!1)},getPrice(){var t=0;return this.order.list.default.forEach((e=>{t+=e.cost})),this.order.list.child.forEach((e=>{t+=e.cost})),Number(t).toFixed(0)},getCommission(){var t=0;return this.order.list.default.forEach((e=>{t+=e.cost})),this.order.list.child.forEach((e=>{t+=e.cost})),Number(.2*t).toFixed(0)},getPriceAfterCommission(){var t=0;return this.order.list.default.forEach((e=>{t+=e.cost})),this.order.list.child.forEach((e=>{t+=e.cost})),Number(t-.2*t).toFixed(0)}},beforeMount(){this.getImage(),this.getExcursion()},mounted(){}},li=ci,ui=(0,x.Z)(li,ri,ni,!1,null,"30e9c5bf",null),di=ui.exports,_i={name:"GuideBalance",directives:{ClickOutside:d()},components:{DatePicker:Xt.Z,VPreloader:us,ExcursionBalance:di},data(){return{filter_date:!1,datepicker:new Date,filter_date2:!1,datepicker2:new Date,preloader:!0,empty:!1,orders:[],earned:0,earned_month:0}},computed:{getDate1(){var t=this.datepicker.getDate();1==t.toString().length&&(t="0"+t);var e=Number(this.datepicker.getMonth())+1;1==e.toString().length&&(e="0"+e);var s=this.datepicker.getFullYear(),i=t+"."+e+"."+s;return i},getDate2(){var t=this.datepicker2.getDate();1==t.toString().length&&(t="0"+t);var e=Number(this.datepicker2.getMonth())+1;1==e.toString().length&&(e="0"+e);var s=this.datepicker2.getFullYear(),i=t+"."+e+"."+s;return i},setStartDate(){var t=this.datepicker.getDate();1==t.toString().length&&(t="0"+t);var e=Number(this.datepicker.getMonth())+1;1==e.toString().length&&(e="0"+e);var s=this.datepicker.getFullYear(),i=t+"-"+e+"-"+s;return i},setEndDate(){var t=this.datepicker2.getDate();1==t.toString().length&&(t="0"+t);var e=Number(this.datepicker2.getMonth())+1;1==e.toString().length&&(e="0"+e);var s=this.datepicker2.getFullYear(),i=t+"-"+e+"-"+s;return i}},methods:{setDate2(){var t=new Date;t.setMonth(t.getMonth()+2),this.datepicker2=t},hideFilterDate(){this.filter_date=!1},hideFilterDate2(){this.filter_date2=!1},async getOrders(){this.preloader=!0,await h.get(`/user/ordered/guides?start_on_the_date=${this.setStartDate}&end_on_the_date=${this.setEndDate}`).then((t=>{const e=t.data.data;var s=[];function i(t){var e=t.on_the_date.slice(8,10),i=t.on_the_date.slice(5,7),a=t.on_the_date.slice(0,4),o=e+"."+i+"."+a;"child"==t.category?s.push({id:t.servicetype,owner:t.owner,full_date:t.on_the_date,date:o,time:t.on_the_date.slice(11,16),list:{child:[t],default:[]}}):s.push({id:t.servicetype,owner:t.owner,full_date:t.on_the_date,date:o,time:t.on_the_date.slice(11,16),list:{child:[],default:[t]}})}var a=0;e.forEach((t=>{a+=t.cost-.2*t.cost,s.length?s.forEach(((e,a)=>{e.owner==t.owner?"child"==t.category?e.list.child.push(t):e.list.default.push(t):a+1==s.length&&i(t)})):i(t)})),this.$nextTick((function(){this.earned=a,this.orders=s,this.orders.length?this.empty=!1:this.empty=!0}))})).catch((t=>{console.log(t)})),this.preloader=!1},async getEarned(){var t=new Date,e=new Date(t.setMonth(t.getMonth()-1));await h.get(`/user/ordered/guides?start_on_the_date=${e}&end_on_the_date=${t}`).then((t=>{const e=t.data.data;var s=0;e.forEach((t=>{s+=t.cost-.2*t.cost})),this.$nextTick((function(){this.earned_month=s}))})).catch((t=>{console.log(t)}))}},beforeMount(){var t=new Date,e=new Date;this.datepicker=new Date(t.setMonth(t.getMonth()-2)),this.datepicker2=new Date(e.setMonth(e.getMonth()+2))},mounted(){this.getOrders(),this.getEarned()}},pi=_i,mi=(0,x.Z)(pi,ai,oi,!1,null,"1e2be878",null),hi=mi.exports,gi=new xt.Z({mode:"history",routes:[{path:"/",component:At,children:[{path:"",name:"ExcursionsHome"},{path:"pass_recovery",name:"PassRecovery",component:Ae,props:t=>({token:t.query.token})}]},{path:"/guide",component:Le,children:[{path:"",name:"GuideMyExcursions",component:ts,beforeEnter:(t,e,s)=>{const i=localStorage.getItem("user"),a=JSON.parse(i);i&&4!=a.privilegies.id?s():s({name:"GuideRegistration"})}},{path:"home",name:"GuideRegistration",component:ze,props:!0,beforeEnter:(t,e,s)=>{const i=localStorage.getItem("user"),a=JSON.parse(i);i&&4!=a.privilegies.id?s({name:"GuideMyExcursions"}):s()}},{path:"new",name:"GuideAddExcursion",component:Ss,props:!0,beforeEnter:(t,e,s)=>{const i=localStorage.getItem("user"),a=JSON.parse(i);i&&4!=a.privilegies.id?s():s({name:"GuideRegistration"})}},{path:"edit/:id",name:"GuideEditExcursion",component:Vs,props:!0,beforeEnter:(t,e,s)=>{const i=localStorage.getItem("user"),a=JSON.parse(i);i&&4!=a.privilegies.id?s():s({name:"GuideRegistration"})}},{path:"profile",name:"GuideProfile",component:Rs,props:!0,beforeEnter:(t,e,s)=>{const i=localStorage.getItem("user"),a=JSON.parse(i);i&&4!=a.privilegies.id?s():s({name:"GuideRegistration"})}},{path:"profile/edit",name:"GuideProfileEdit",component:Gs,props:!0,beforeEnter:(t,e,s)=>{const i=localStorage.getItem("user"),a=JSON.parse(i);i&&4!=a.privilegies.id?s():s({name:"GuideRegistration"})}},{path:"profile/orders",name:"GuideOrders",component:ii,props:!0,beforeEnter:(t,e,s)=>{const i=localStorage.getItem("user"),a=JSON.parse(i);i&&4!=a.privilegies.id?s():s({name:"GuideRegistration"})}},{path:"profile/balance",name:"GuideBalance",component:hi,props:!0,beforeEnter:(t,e,s)=>{const i=localStorage.getItem("user"),a=JSON.parse(i);i&&4!=a.privilegies.id?s():s({name:"GuideRegistration"})}}]},{path:"/country/:country_name",name:"ExcursionsCountry",component:zt},{path:"/country/:country_name/:city_name",name:"ExcursionsTown",component:ie},{path:"/excursion/:id",name:"ExcursionPage",component:_e,props:!0},{path:"/excursion/:id/booking/:date/:week_day",name:"BookingData",component:xe,props:!0},{path:"/payment",name:"PaymentExcursion",component:ke,props:!0},{path:"/thank_you/:order_id/:payment_id",name:"ThankYou",component:De,props:!0}],scrollBehavior(){return window.scrollTo(0,0),{top:0}}}),vi=s(7152);i["default"].use(vi.Z);const xi={ru:{header:{menu:{tours:"ТУРЫ",air:"АВИАБИЛЕТЫ",apartments:"ЖИЛЬЕ",excursions:"ЭКСКУРСИИ",transfer:"ТРАНСФЕР"},menu_guide:{my_excursions:"МОИ ЭКСКУРСИИ",orders:"ЗАКАЗЫ",balance:"БАЛАНС"},lang:"РУС",login:"Войти"},footer:{company:"КОМПАНИЯ",services:"СЕРВИСЫ",privacy_policy:"Политика конфиденциальности",info_company:"Информация о компании",login:"Войти / зарегистрироваться",app:"Мобильное приложение",adress:"Батуми, ул Кобаладзе 6"},popups:{sing_in:{title:"Войти",input_login:{title:"Электронная почта ",placeholder:"Введите ваш E-mail"},input_pass:{title:"Пароль",placeholder:"Введите пароль"},btn:"ВОЙТИ",info:{text1:"Регистрируясь, вы принимаете условия сервиса",text2:"Впервые у нас?",reg:"Зарегистрируйтесь."},remember_me:"Запомнить меня",forget_pass:"Забыли Ваш пароль?"},pass_recovery:{title:"ВОССТАНОВЛЕНИЕ ПАРОЛЯ",input_email:{title:"Электронная почта",placeholder:"Введите ваш E-mail"},btn:"СБРОСИТЬ ПАРОЛЬ",info:{text1:"Если вы уже регистрировались, ",login:"то вам сюда."}},change_pass:{title:"Смена пароля",old_pass:{title:"Старый пароль",placeholder:"Введите старый пароль"}},new_pass:{title:"ВВЕДИТЕ НОВЫЙ ПАРОЛЬ",input_login:{title:"Пароль",placeholder:"Придумайте пароль"},input_pass:{title:"Повторите пароль",placeholder:"Придумайте пароль"},btn:"СОХРАНИТЬ"},code_waiting:{title:"оЖИДАЙТЕ ссылку НА ВАШ E-MAIL",info1:"На указанную вами почту был выслана ссылка для сброса пароля",info2:"Обычно сообщение приходит в течении 3 минут",btn:"OK"},reg:{title:"РЕГИСТРАЦИЯ",input_name:{title:"Имя",placeholder:"Введите ваше имя"},input_email:{title:"Электронная почта ",placeholder:"Введите ваш E-mail"},input_pass:{title:"Пароль",placeholder:"Придумайте пароль"},btn:"зарегистрироваться",info:{text1:"Регистрируясь, вы принимаете условия сервиса",text2:"Если вы уже регистрировались,",login:"то вам сюда"}}},calendar:{formatLocale:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июнь","Июль","Авг","Сен","Окт","Ноя","Дек"],weekdays:["Понедельник","Вторник","Среда","Черверг","Пятница","Суббота","Воскресенье"],weekdaysShort:["Пнд","Втр","Сре","Чтв","Птн","Суб","Вск"],weekdaysMin:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],firstDayOfWeek:0,firstWeekContainsDate:1},info:{free:"Свободен",busy:"Занят"}},excursions:{client:{header:{logo_descr:"Новый способ путешествовать!",profile:{history:"История бронирований",edit:"Профиль",to_guide:"Профиль гида",exit:"Выход"}},search:{placeholder:"Где вы планируете путешествовать?",btn:"НАЙТИ",amount:"",empty:"Ничего не найдено"},amount_excursions:{one:" экскурсия",two_to_four:" экскурсии",another:" экскурсий"},amount_towns:{one:" городе",two_to_four:" городах",another:" городах"},home:{banner:{title:"Экскурсии ",descr:"экскурсии в {count} городах мира"},popular_towns:"Популярные города",watch_articles:"СТАТЬИ",show_more:{desktop:"ЗАГРУЗИТЬ БОЛЬШЕ",mobile:"Еще..."}},country:{banner:{title:"Экскурсии в {country}",descr:" в "},popular_towns:"Популярные города",popular_excursions:"Популярные экскурсии в {country}",show_more:{desktop:"ЗАГРУЗИТЬ БОЛЬШЕ",mobile:"Еще..."}},city:{banner:{title:"экскурсии в {city}",descr:"Необычные экскурсии на русском языке. Цены на экскурсии по городу от {min_price}"},subtitle:"экскурсии по {city}",tags:{all:"Все",more:"Еще ..."},filter:{date:"Дата",people:{title:"Человек",subtitle:"Кол-во человек"},price:{title:"Цена",subtitle:"Цена",from:"от ",to:"до "},move:{title:"Способ передвижения",title_mobile:"Передвижения",subtitle:"Передвижение",any:"Любое",onfoot:"Пешком",car:"На машине"}},sort:{popular:"Популярные",by_price:"По цене"},not_found:"Ничего не найдено"},excursion_page:{guide_function:{once:"Гид экскурсовод"},title:"Что вас ожидает",title_group:"Групповая экскурсия",table:{duration:"Длительность",amount:"Размер группы",to:"до",children:{title:"Дети",true:"Можно с детьми",false:"Нельзя с детьми"},move:{title:"Как проходит",car:"На машине",onfoot:"Пешком"},length:{term:"Общая длина экскурсии:",km:"км"},duration2:"Продолжительность: "},route:{title:"Маршрут экскурсии",next:"До следующей точки ехать ",wait:"Стоянка "},organization:{title:"Организационные детали",price:"Стоимость тура на 1 человека – ",meeting_point:"Место встречи",book_now:"Забронировать экскурсию",book_now_text:"Это индивидуальная экскурсия на {langs}, гид проведет ее для вас и вашей компании."},calendar:{info:"Для бронирования экскурсии выберите желаемую дату и нажмите кнопку “выбрать”",btn:"Выбрать"}},card_excursion:{cost_type:{person:"за человека",excursion:"за экскурсию"}},booking:{guide_function:"Гид экскурсовод",date_title:"Дата экскурсии",time_title:"Время экскурсии",ticket:{title:"Сколько вас будет?",category:"Категория билета",price:"Цена {for}",default_ticket:"Стандартный билет",child_ticket:"Дети до 16 лет"},input_name:{title:"Как вас зовут",placeholder:"Укажите имя"},input_email:{title:"Ваш e-mail",placeholder:"Укажите e-mail"},input_phone:{title:"Ваш телефон",placeholder:"Укажите телефон"},input_textarea:{title:"Вопросы и комментарии (не обязательно)"},submit:"ЗАБРОНИРОВАТЬ"},card_order:{route:"Маршрут",date:"Дата",duration:"Продолжительность",customer:"Заказчик",amount:"Кол-во человек"},payment:{title:"Информация о заказе № ",to_pay:"К оплате",pay:"ОПЛАТИТЬ",info_card:"Данные вашей карты в безопасности. Мы используем технологии соответствующие стандартам безопасности платежных систем Visa, MasterCard",policy:"Нажимая на кнопку, я принимаю пользовательское соглашение Оформляя и оплачивая заказ, я подтверждаю, что ознакомлен, согласен и принимаю условия договора. Договор будет выслан на ваш E-mail после оплаты"},thanks:{title:"Спасибо за бронирование!",descr:"Информация о бронировании выслана вам на почту",order_num:"Заказ № ",paid:"Оплачено",to_main:"на главную"}},guide:{header:{logo_descr:"Лучшие экскурсии",profile:{to_client:"Забронировать экскурсию",add:"Добавить экскурсию",my:"Мои экскурсии",orders:"Заказы",balance:"Баланс"}},home:{banner:{title:"Зарегистрируйте в качестве Гида",descr:"Регистрация займет всего 15 минут - начните прямо сейчас",list:{item1:"Бесплатная регистрация",item2:"Поддержка по телефону и e-mail"},add_excursion:"Стать гидом",create_acc:"Создайте аккаунт, чтобы начать"},benefit:{title:"УДОБНО И ВЫГОДНО",card1:{title:"УДОБНАЯ РЕГИСТРАЦИЯ",descr:"Зарегистрируйте экскурсии, добавте информацию о себе, и получайте заказы."},card2:{title:"КОНТРОЛИруйте ЗАКАЗЫ",descr:"Наблюдайте все рабочие процессы, заявки и фининсы "}},how_start:{title:"Как начать работу?",item1:"ПРОЙДИТЕ РЕГИСТРАЦИЮ",item2:"Мы позвоним вам, И уточниМ детали",item3:"ПОЛУЧАЙТЕ ЗАКАЗЫ"},mobile_app:{banner_title:"<span>THE</span> MAPSTER GUIDES",title:"Получите еще больше возможностей с мобильным приложением <span>Mapster GUIDES</span>",descr:" Загружайте мобильное приложение\n                  <span>Mapster Guides</span>\n                  для загрузки экскурсий и контроля поступления заказов. Мобильное\n                  приложение\n                  <span>Mapster Guides</span>\n                  дает вам доступ к скрытым функциям и специальным предложениям.",download_title:"Приложение доступно на платформах"}},my_excursions:{title:"мои экскурсии",descr:"Здесь представлены все ваши экскурсии, которые вы можете редактировать",empty:"У вас пока нет экскурсий",add:"Добавить экскурсию"},add_excursion:{title:"Добавление экскурсии",notif:"Поля помеченные * обязательны к запонению",info:'Расскажите о своей экскурсии, прогулке или мастер-классе. Обязательно прочитайте <a href="#">наши советы по оформлению</a>. Если у вас будут вопросы — <a href="#">напишите нам</a>, мы поможем!',topic:{title:"Тема экскурсии  *",placeholder:"Заголовок экскурсии - короткое оригинальное название",info:"В одну строчку напишите, чему посвящена ваша экскурсия, чтобы все сразу все поняли."},subtitle:{title:"Подзаголовок *",placeholder:"Напишите подзаголовок",info:"Напишите подзаголовок или цитату, характеризующую вашу экскурсию"},descr:{title:"Описание экскурсии *",placeholder:"Что вы узнаете из экскурсии",info:"Напишите коротко о чем экскурсия, как вы ее собираетесь проводить"},tags:{title:"Теги *",placeholder:"Добавьте теги ",info:"Добавьте теги - напирмер, Мцхета, винный тур, старый Тбилиси и тп. до 8 тегов",popup:{title:"ДОБАВИТЬ ТЕГ",cancel:"отменить",add:"добавить тег"}},content:{title:"Содержание *",info1:"Напишите: В чем заключается ваш подход? Что именно вы хотите рассказать на экскурсии? Какие места вы выбрали и почему?\n                  И самое главное, напишите, что лично вас вдохновляет в теме экскурсии. Вдохновите этим других людей!",info2:'Загрузите качественные и яркие фото с пейзажами, архитектурными, природными и другими любопытными объектами по маршруту. Также хорошо подойдут фото с людьми на вашей экскурсии, чтобы прочувствовать атмосферу, которую вы создаете.\n                  <br><br>\n                  <p style="font-size: 12px;">\n                  Загружая фотографии, вы подтверждаете право их использования на Мапстере: изображения сделаны вами, взяты с согласия автора или из легальных источников, а также не нарушают прав третьих лиц.\n                  </p>'},photo:{add:"ДОБАВИТЬ ФОТОГРАФИю",change:"ИЗМЕНИТЬ ФОТОГРАФИю",descr:"горизонтальные фотографий шириной не менее 1500 пикселей",placeholder:"Добавьте подпись под фотографию"},main_photo:{title:"Главное фото *"},points:{num:" пункт экскурсии",title:"Заголовок  *",title_placeholder:"Напишите заголовок",descr_placeholder:"Описание места которое посещаете",time_to_place:"Время поездки до места",parking_dur:"Продолжительность  стоянки",min:"мин",add:"Добавить еще пункт",add_info:"Добавьте нужное количество шагов из которых состоит ваша экскурсия"},organization:{title:"Организационные детали *",placeholder:"Как пройдет экскурсия",info:"Напишите, о чем стоит знать путешественникам перед экскурсией. Например, о дополнительных расходах,\n                  деталях трансфера, о том, что взять с собой, и других важных моментах. Либо укажите, что таких важных моментов нет."},terms:{title:"Условия *",country:{title:"Страна",placeholder:"Укажите страну"},town:{title:"Город",placeholder:"Укажите город"},langs:{title:"Выберите языки",placeholder:"Добавить",descr:"Выберите языки, на которых вы можете провести экскурсию.\n                     Описание экскурсии пока можно написать только на русском и\n                     английском"},duration:{title:"Продолжительность",placeholder:"10 часов",options:[{name:"Полчаса",value:"30"},{name:"1 час",value:"60"},{name:"1,5 часа",value:"90"},{name:"2 часа",value:"120"},{name:"2,5 часа",value:"150"},{name:"3 часа",value:"180"},{name:"3,5 часа",value:"210"},{name:"4 часа",value:"240"},{name:"5 часов",value:"300"},{name:"6 часов",value:"360"},{name:"7 часов",value:"420"},{name:"8 часов",value:"480"},{name:"9 часов",value:"540"},{name:"10 часов",value:"600"},{name:"11 часов",value:"660"},{name:"12 часов",value:"720"}]},length:{title:"Общая длина экскурсии",placeholder:"00",unit:"км"},amount:{title:"Количество участников",placeholder:"10",children:"Можно с детьми"},move:{title:"Передвижения",placeholder:"Выбрать",options:[{name:"Пешком",value:"onfoot"},{name:"На машине",value:"car"}]}},schedule:{title:"Расписание и время начала *",type:{title:"Тип экскурсии",type1:"<span>Индивидуальная</span>. Заказать экскурсию можно на дни недели, которые вы указали в расписании.",type1_value:"individual",type2:"<span>Групповая по еженедельному расписанию</span>. Вы составляете повторяющееся расписание экскурсии, участники записываются на доступные даты независимо друг от друга. Бронирования подтверждаются автоматически.",type2_value:"groups"},days:{title:"Расписание и время начала",names:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],add_new_time:"добавить время",info:"Укажите возможное время начала экскурсии и дни недели, по которым она может проводиться"},expire:{title:"Публиковать расписание на",placeholder:"6 месяцев",options:[{name:"3 месяца",value:"3"},{name:"4 месяца",value:"4"},{name:"5 месяцев",value:"5"},{name:"6 месяцев",value:"6"}]}},place:{title:"Место начала экскурсии *",checkbox:{title:"Место встречи",text:" У экскурсии есть обычное место начала"},approximate:{title:"Примерное место встречи",descr:"Напишите, где примерно начинается экскурсия. Это будет показано на странице экскурсии, чтоб путешественники могли сориентироваться до бронирования.",placeholder:"Например, в районе метро Октябрьская"},exact:{title:"Точное место встречи",descr:"Опишите место встречи так, чтобы любой участник мог без лишних вопросов найти его. Эта информация будет отображаться в билете на экскурсию.",placeholder:"Пример: «Экскурсия начинается на выходе из странци метро Октябрьская-Кольцевая. Встречаемся у кофейного магазина справа от выхода. Я буду с желтой сумкой справа от витрины.»"},map:{btn:"Указать на карте",title:"Объект на карте",address:{title:"Адрес",placeholder:""},y:{title:"Широта",placeholder:""},x:{title:"Долгота",placeholder:""}}},price:{title:"Стоимость *",info:'Вы ничего не платите за размещение экскурсии на Мапстере. Вместо этого мы берем процент от стоимости каждого заказа: 20%. Таким образом, мы заинтересованы, чтобы вы зарабатывали, и только в этом случае зарабатываем сами. Узнайте, <a href="#">как выбрать оптимальную стоимость</a>, это важно!',type:{title:"Тип стоимости",excursion:"За экскурсию",person:"За человека"},variant:{title:"Вариант цены",single:"Единая цена",by_types:"Цены по типам билетов"},tickets:{title:"Стоимость",category_title:"Категория билета",per_person_title:"Цена за человека",per_excursion_title:"Цена за экскурсию",default:{title:"Стандартный билет",descr:"Это основная цена, она будет видна в списке экскурсий"},children:{title:"Дети до 16 лет"},info:"При покупке 1 билета за €20,\n                     путешественники заплатят на сайте\n                     €4 (20% Mapster), а €16 вам на месте"},min:{title:"Минимальная стоимость <br> (необязательно)",info1:"€8 (20% Mapster) путешественники заплатят на сайте, а €32 вам на месте",info2:"€40 за 1-2 человек или\n                     €20 за человека, если вас больше\n                     За вычетом 20% Мапстеру путешественники заплатят вам €32 за 1-2 человек или\n                     €16 за человека, если участников больше"}},calendar:{title:"Управление ценой на даты",info:"Вы можете повышать и понижать цены на выбранные даты. Выбирайте диапазоны дат с зажатой клавишей Shift. Не забудьте сохранить изменения, нажав на “Сохранить” внизу страницы.",changes:{title:"Чтобы внести изменения, выберите дни в календаре",selected:"Выбрано дней: {amount}",remove:"сбросить выделение",options_placeholder:"Выберите опцию",options:[{name:"Уменьшить",value:"decrease"},{name:"Увеличить",value:"increase"}],text_change_on:"стоимость на ",size_placeholder:"Значение",size:[{name:"нет",value:"1"},{name:"10 %",value:"0.9"},{name:"15 %",value:"0.85"},{name:"20 %",value:"0.80"},{name:"25 %",value:"0.75"},{name:"30 %",value:"0.70"},{name:"35 %",value:"0.65"},{name:"40 %",value:"0.60"},{name:"45 %",value:"0.55"},{name:"50 %",value:"0.50"},{name:"55 %",value:"0.45"},{name:"60 %",value:"0.40"},{name:"65 %",value:"0.35"},{name:"70 %",value:"0.30"},{name:"75 %",value:"0.25"},{name:"80 %",value:"0.20"},{name:"85 %",value:"0.15"},{name:"90 %",value:"0.10"},{name:"95 %",value:"0.05"},{name:"100 %",value:"0"}],confirm:"ПРИМЕНИТЬ"}},about:{title:"О гиде",subtitle:"Напишите о себе",placeholder:"",info:"Расскажите путешественникам о себе, как о гиде. Напишите, чем вы увлекаетесь, как давно живете вгороде, почему решили проводить экскурсии и встречаться с путешественниками, в каких темах выхорошо разбираетесь и какими стараетесь сделать свои экскурсии. Не пишите длинно, постарайтесьчетко и понятно изложить самую суть."},save:"СОХРАНИТЬ",wait:"Подождите",watch:"Посмотрите, как будет выглядеть ваше предложение для путешественников"},edit_excursion:{title:"РЕДАКТИРОВАТЬ экскурсиЮ"},profile:{unset:"Не указано",title:"Профиль",sub_title:"О себе",name:"Имя и Фамилия",birthday:"Дата рождения",gender:"Пол",city:"Гражданство",phone:"Телефон",email:"E-mail",account_number:"Номер счета",edit_table:"Редактировать профиль"},profile_edit:{title:"Профиль",edit_photo:"Изменить фото",add_photo:"Добавить фото",input_label:{name:"Имя",sur_name:"Фамилия",date:"Дата рождения",gender:{label:"Пол",prompt:"Укажите ваш пол",male:"Мужской",female:"Женский"},citizenship:"Гражданство",phone:"Телефон",password:"Пароль",change_pass:"Сменить пароль",bank_account:"Привязать банковский счёт",about_me:"О себе"},save_btn:"СОХРАНИТЬ"},orders:{title:"мои заказы",sub_title:"Здесь представлены ваши заказы",date:"Дата",with:"c",to:"до",empty:"Заказов нет",sorting:{all:"Все",current:"Текущие",canceled:"Отмененые",completed:"Завершеные"},top_line:{route:"Маршрут",date:"Дата",customer:"Заказчик",number_of_persons:"Кол-во чел",contacts:"Контакты",status:"Статус"},item:{status:"Осталось дней: {amount}",completed:"Завершено",sum:"Сумма",adults:"вз",children:"дет"},item_mob:{order_label:"Заказ",sum:"Сумма",date:"Дата",start:"Начало",status_label:"Статус",status:"Осталось 10 дней",client_label:"Заказчик",number_of_persons:"Кол-во чел",adults:"вз",children:"дет",contacts:"Контакты"}},balance:{title:"Баланс",on_account_title:"У вас на счету",earl_title:"Заработано за месяц",date:"Дата",with:"c",to:"до",mob_prompt:{in_process:"В процессе",paid:"Выплачен"},top_line:{tour:"Экскурсия",date:"Дата",time:"Время",amount:"Кол-во чел",price_for_one:"Цена за 1 чел",sum:"Сумма",commission:"Комисия 20%",earned:"Заработано",status:"Статус"},item:{adults:"вз",children:"дет",in_process:"В процессе",paid:"Выплачено",canceled:"Отменено"}}}},errors:{unauthorized:"Пожалуйтса, авторизуйтесь",unknown_request:"Ошибка, попробуйте позже",unknown_request2:"Ой, вы где-то ошиблись",required:"Это поле обязательно",max_length:"Максимальное количество символов: {num}",photo:"Не получилось загрузить фото, попробуйте позже",all:"Заполните поля",new_pass:{null:"Заполните поля",not_match:"Пароли не совпадают"},login:{name:"Пожалуйста, введите имя",password:"Пожалуйста, введите пароль"},date:{null:"Укажите дату начала экскурсии",wrong:"Неправильно указанная дата"},time:{null:"Укажите время начала экскурсии"},ticket:{null:"Выберите билет/билеты"},inputs:{name:{null:"Введите имя"},email:{null:"Укажите email",wrong:"Некорректный email"},phone:{null:"Введите номер телефона"}},schedule:{select_time:"Выберите время"}},success:{change_password:"Успех!",reg:"Регистрация прошла успешно!",new_excursion:"Экскурсия создана успешно!"}},en:{header:{menu:{tours:"TOURS",air:"AIR TICKETS",apartments:"APARTAMENTS",excursions:"EXCURSIONS",transfer:"TRANSFER"},menu_guide:{my_excursions:"MY EXCURSIONS",orders:"ORDERS",balance:"BALANCE"},lang:"ENG",login:"Login"},footer:{company:"COMPANY",services:"SERVICES",privacy_policy:"Privacy Policy",info_company:"Information about the company",login:"Login / register",app:"Mobile app",adress:"Batumi, Kobaladze street 6"},popups:{sing_in:{title:"Sing In",input_login:{title:"Email",placeholder:"Enter your E-mail"},input_pass:{title:"Password",placeholder:"enter password"},btn:"Sing In",info:{text1:"By registering, you accept the terms of service",text2:"First time with us?",reg:"Sign up."},remember_me:"To remember me",forget_pass:"Forgot your password?"},pass_recovery:{title:"PASSWORD RECOVERY",input_email:{title:"Email",placeholder:"Enter your E-mail"},btn:"RESET THE PASSWORD",info:{text1:"If you have already registered, ",login:"then you here."}},change_pass:{title:"Password change",old_pass:{title:"Eld password",placeholder:"Enter the old password"}},new_pass:{title:"ENTER A NEW PASSWORD",input_login:{title:"Password",placeholder:"Create a password"},input_pass:{title:"Repeat password",placeholder:"Create a password"},btn:"SAVE"},code_waiting:{title:"EXPECT the link ON YOUR E-MAIL",info1:"A link to reset your password has been sent to your email address.",info2:"Usually the message arrives within 3 minutes",btn:"OK"},reg:{title:"REGISTRATION",input_name:{title:"Name",placeholder:"Enter your name"},input_email:{title:"Email",placeholder:"Enter your E-mail"},input_pass:{title:"Password",placeholder:"Create a password"},btn:"register",info:{text1:"By registering, you accept the terms of service",text2:"If you have already registered,",login:"then you here"}}},calendar:{formatLocale:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],firstDayOfWeek:0,firstWeekContainsDate:1},info:{free:"Free",busy:"Busy"}},excursions:{client:{header:{logo_descr:"A new way to travel!",profile:{history:"Booking history",edit:"Profile",to_guide:"Guide profile",exit:"Exit"}},search:{placeholder:"Where are you planning to travel?",btn:"FIND",amount:"",empty:"Nothing found"},amount_excursions:{one:" excursion",two_to_four:" excursions",another:" excursions"},amount_towns:{one:" town",two_to_four:" towns",another:" towns"},home:{banner:{title:"Excursions",descr:"excursions in {count} cities of the world"},popular_towns:"Popular cities",watch_articles:"ARTICLES",show_more:{desktop:"LOAD MORE",mobile:"More..."}},country:{banner:{title:"Excursions in {country}",descr:" in "},popular_towns:"Popular cities",popular_excursions:"Popular excursions in {country}",show_more:{desktop:"LOAD MORE",mobile:"More..."}},city:{banner:{title:"excursions in {city}",descr:"Unusual excursions to English language. Prices for city tours from {min_price}"},subtitle:"excursions in {city}",tags:{all:"All",more:"More ..."},filter:{date:"Date",people:{title:"Peoples",subtitle:"Number of people"},price:{title:"Price",subtitle:"Price",from:"from ",to:"to "},move:{title:"Way to travel",title_mobile:"Way to travel",subtitle:"Movement",any:"Any",onfoot:"On foot",car:"By car"}},not_found:"Nothing found",sort:{popular:"Popular",by_price:"By price"}},excursion_page:{guide_function:{once:"Tour guide"},title:"What awaits you",title_group:"Group tour",table:{duration:"Duration",amount:"Group size",to:"up to",children:{title:"Children",true:"Possible with children",false:"Not allowed with children"},move:{title:"How is it going",car:"By car",onfoot:"On foot"},length:{term:"Total length of the tour:",km:"km"},duration2:"Duration all: "},route:{title:"Excursion route",next:"Drive to the next point ",wait:"Parking "},organization:{title:"Organizational details",price:"The cost of the tour for 1 person - ",meeting_point:"Meeting point",book_now:"Book an excursion",book_now_text:"This is an individual tour in {langs}, the guide will conduct it for you and your company."},calendar:{info:'To book an excursion, select the desired date and click the "choose" button',btn:"Choose"}},card_excursion:{cost_type:{person:"per person",excursion:"for the tour"}},booking:{guide_function:"tour guide",date_title:"Tour date",time_title:"Tour time",ticket:{title:"How many of you will be?",category:"Ticket category",price:"Price {for}",default_ticket:"Standard ticket",child_ticket:"Children under 16"},input_name:{title:"What is your name",placeholder:"Enter a name"},input_email:{title:"Your e-mail",placeholder:"Enter e-mail"},input_phone:{title:"Your phone number",placeholder:"Specify phone"},input_textarea:{title:"Questions and comments (optional)"},submit:"BOOK NOW"},card_order:{route:"Route",date:"Date",duration:"Duration",customer:"Customer",amount:"Number of people"},payment:{title:"Order Information No. ",to_pay:"To pay",pay:"pay",info_card:"Your card details are safe. We use technologies that meet the security standards of Visa, MasterCard payment systems",policy:"By clicking on the button, I accept the user agreement By placing and paying for the order, I confirm that I have read, agree and accept the terms of the agreement. The contract will be sent to your E-mail after payment"},thanks:{title:"Thanks for booking!",descr:"Your booking information has been sent to your email.",order_num:"Order No. ",paid:"Paid",to_main:"To main"}},guide:{header:{logo_descr:"Best excursions",profile:{to_client:"Book an excursion",add:"Add a tour",my:"My excursions",orders:"Orders",balance:"Balance"}},home:{banner:{title:"Register as a guide",descr:"Registration only takes 15 minutes - start now",list:{item1:"Free registration",item2:"Phone and email support"},add_excursion:"Become a guide",create_acc:"Create an account to get started"},benefit:{title:"CONVENIENT AND PROFITABLE",card1:{title:"CONVENIENT REGISTRATION",descr:"Register excursions, add information about yourself, and receive orders."},card2:{title:"CONTROL ORDERS",descr:"Monitor all workflows, requests and finances"}},how_start:{title:"How to get started?",item1:"REGISTER",item2:"We will call you and clarify the details",item3:"GET ORDERS"},mobile_app:{banner_title:"<span>THE</span> MAPSTER GUIDES",title:"Get even more with the <span>Mapster GUIDES</span> mobile app",descr:"Download the <span>Mapster Guides</span> mobile app to download tours and track bookings. The <span>Mapster Guides</span> mobile app gives you access to hidden features and special offers.",download_title:"The app is available on platforms"}},my_excursions:{title:"my excursions",descr:"Here are all your excursions that you can edit",empty:"You don't have excursions yet",add:"Add excursion"},add_excursion:{title:"Adding a tour",notif:"Fields marked with * are mandatory",info:'Tell us about your excursion, walk or master class. Be sure to read <a href="#">our styling tips</a>. If you have any questions - <a href="#">write to us</a>, we will help!',topic:{title:"Excursion topic *",placeholder:"Excursion title - short original title",info:"In one line, write what your tour is about so that everyone understands everything at once."},subtitle:{title:"Subtitle *",placeholder:"Write a subtitle",info:"Write a subtitle or quote describing your tour"},descr:{title:"Description of the tour *",placeholder:"What will you learn from the tour",info:"Write briefly about what the tour is about, how you are going to conduct it"},tags:{title:"Tags *",placeholder:"Add tags",info:"Add tags - for example, Mtskheta, wine tour, old Tbilisi, etc. up to 8 tags",popup:{title:"Add tag",cancel:"cancel",add:"Add tag"}},content:{title:"Content *",info1:"Write: What is your approach? What exactly do you want to tell on the tour? What places did you choose and why?\n                  And most importantly, write what inspires you personally in the topic of the tour. Inspire other people with this!",info2:'Upload high-quality and bright photos with landscapes, architectural, natural and other interesting objects along the route. Photos with people on your tour are also good to get a feel for the atmosphere you create.\n                  <br><br>\n                  <p style="font-size: 12px;">\n                  By uploading photos, you confirm the right to use them on Mapster: images are made by you, taken with the consent of the author or from legal sources, and do not violate the rights of third parties.\n                  </p>'},photo:{add:"ADD A PHOTO",change:"EDIT PHOTO",descr:"horizontal photos at least 1500 pixels wide",placeholder:"Добавьте подпись под фотографию"},main_photo:{title:"Main photo *"},points:{num:" excursion point",title:"Title *",title_placeholder:"Write a title",descr_placeholder:"Description of the place you are visiting",time_to_place:"Travel time to place",parking_dur:"Parking duration",min:"min",add:"Add another item",add_info:"Add the required number of steps that your tour consists of"},organization:{title:"Organizational details *",placeholder:"How will the tour go",info:"Write about what travelers should know before the tour. For example, additional costs\n                  transfer details, what to bring with you, and other important points. Or indicate that there are no such important points."},terms:{title:"Terms *",country:{title:"Country",placeholder:"Specify the country"},town:{title:"City",placeholder:"Specify the city"},langs:{title:"Select languages",placeholder:"Add",descr:"Select the languages in which you can conduct the tour.\n                     The description of the tour can only be written in Russian and\n                     English"},duration:{title:"Duration",placeholder:"10 hours",options:[{name:"Half an hour"},{name:"1 hour"},{name:"1.5 hours"},{name:"2 hours"},{name:"2,5 hours"},{name:"3 hours"},{name:"3,5 hours"},{name:"4 hours"},{name:"5 hours"},{name:"6 hours"},{name:"7 hours"},{name:"8 hours"},{name:"9 hours"},{name:"10 hours"},{name:"11 hours"},{name:"12 hours"}]},length:{title:"Total length of the tour",placeholder:"00",unit:"km"},amount:{title:"Number of participants",placeholder:"10",children:"Possible with children"},move:{title:"Movement",placeholder:"Select",options:[{name:"On foot",value:"onfoot"},{name:"By car",value:"car"}]}},schedule:{title:"Schedule and start time *",type:{title:"Tour type",type1:"<span>Individual</span>. You can order a tour for the days of the week that you indicated in the schedule.",type1_value:"individual",type2:"<span>Group on a weekly schedule</span>. You make a recurring tour schedule, participants sign up for available dates independently of each other. Reservations are automatically confirmed.",type2_value:"groups"},days:{title:"Schedule and start time",names:["Mo","Tu","We","Th","Fr","Sa","Su"],add_new_time:"add time",info:"Indicate the possible start time of the tour and the days of the week on which it can be conducted"},expire:{title:"Publish schedule for",placeholder:"6 months",options:[{name:"3 months",value:3},{name:"4 months",value:4},{name:"5 months",value:5},{name:"6 months",value:6}]}},place:{title:"Starting point of the tour *",checkbox:{title:"Meeting point",text:"The tour has a regular starting point"},approximate:{title:"Approximate location meetings",descr:"Write about where the tour starts. This will be shown on the tour page so travelers can get their bearings before booking.",placeholder:"For example, in the Oktyabrskaya metro area"},exact:{title:"Exact meeting point",descr:"Describe the meeting place so that any participant can find it without further questions. This information will be displayed on the tour ticket.",placeholder:""},map:{btn:"Specify on the map",title:"Object on the map",address:{title:"Address",placeholder:""},x:{title:"Latitude",placeholder:""},y:{title:"Longitude",placeholder:""}}},price:{title:"Price *",info:'You do not pay anything for hosting a tour on Mapster. Instead, we take a percentage of the value of each order: 20%. Thus, we are interested in you earning, and only in this case we earn ourselves. Find out <a href="#">how to choose the best cost</a> matters!',type:{title:"Cost type",excursion:"For the excursion",person:"Per person"},variant:{title:"Price option",single:"Single price",by_types:"Prices by ticket type"},tickets:{title:"Price",category_title:"Ticket category",per_person_title:"Price per person",per_excursion_title:"The price for the tour",default:{title:"Standard ticket",descr:"This is the main price, it will be visible in the list of excursions"},children:{title:"Children under 16"},info:"When buying 1 ticket for €20,\n                     travelers will pay on site\n                     €4 (20% Mapster) and €16 for you on the spot"},min:{title:"Minimum cost <br> (optional)",info1:"€8 (20% Mapster) travelers will pay on the site and €32 on the spot",info2:"€40 for 1-2 persons or\n                     €20 per person if there are more of you\n                     Less 20% Mapster, travelers will pay you €32 for 1-2 people or\n                     €16 per person if there are more participants"}},calendar:{title:"Date price management",info:'You can raise or lower prices on selected dates. Select date ranges with the Shift key pressed. Don\'t forget to save your changes by clicking "Save" at the bottom of the page.',changes:{title:"To make changes, select the days in the calendar",selected:"Selected days: {amount}",remove:"reset selection",options_placeholder:"Select option",options:[{name:"Increase",value:"increase"},{name:"Decrease",value:"decrease"}],text_change_on:"cost per",size_placeholder:"Value",size:[{name:"no",value:1},{name:"10 %",value:.9},{name:"15 %",value:.85},{name:"20 %",value:.8},{name:"25 %",value:.75},{name:"30 %",value:.7},{name:"35 %",value:.65},{name:"40 %",value:.6},{name:"45 %",value:.55},{name:"50 %",value:.5},{name:"55 %",value:.45},{name:"60 %",value:.4},{name:"65 %",value:.35},{name:"70 %",value:.3},{name:"75 %",value:.25},{name:"80 %",value:.2},{name:"85 %",value:.15},{name:"90 %",value:.1},{name:"95 %",value:.05},{name:"100 %",value:0}],confirm:"APPLY"}},about:{title:"About guide",subtitle:"Write about yourself",placeholder:"",info:"Tell travelers about yourself as a guide. Write what you are fond of, how long you have been living in the city, why you decided to conduct excursions and meet travelers, what topics you are well versed in and how you try to make your excursions. Do not write long, try to clearly and clearly state the essence."},save:"Save",wait:"Wait",watch:"See what your offer for travelers will look like"},edit_excursion:{title:"Edit a tour"},profile:{title:"Profile",sub_title:"About myself",name:"Name and surname",birthday:"Birthday",gender:"Gender",city:"Citizenship",phone:"Phone",phone_unset:"Not pointed",email:"E-mail",account_number:"Account number",edit_table:"Edit profile"},profile_edit:{title:"Profile",edit_photo:"Change the photo",add_photo:"Add photo",input_label:{name:"Name",sur_name:"Surname",date:"Birthday",gender:{label:"Gender",prompt:"Indicate your gender",male:"Male",female:"Female"},citizenship:"Citizenship",phone:"Phone",password:"Password",change_pass:"Change password",bank_account:"Bind a bank account",about_me:"About myself"},save_btn:"SAVE"},orders:{title:"My orders",sub_title:"Your orders are presented here",date:"Date",with:"with",to:"to",empty:"There are no orders",sorting:{all:"All",current:"Current",canceled:"Canceled",completed:"Completed"},top_line:{route:"Route",date:"Date",customer:"Customer",number_of_persons:"Number of persons",contacts:"Contacts",status:"Status"},item:{status:"days left: {amount}",completed:"Completed",sum:"Sum",adults:"adu",children:"chi"},item_mob:{order_label:"Order",sum:"Sum",date:"Date",start:"Start",status_label:"Status",status:"10 days left",client_label:"Customer",number_of_persons:"Number of persons",adults:"adu",children:"chi",contacts:"Contacts"}},balance:{title:"Balance",on_account_title:"You have",earl_title:"Earned in a month",date:"Date",with:"c",to:"to",mob_prompt:{in_process:"In the process",paid:"Paid"},top_line:{tour:"Excursion",date:"Date",time:"Time",amount:"The number of people",price_for_one:"Price for 1 person",sum:"Sum",commission:"Committee 20%",earned:"Earned",status:"Status"},item:{adults:"ad",children:"chi",in_process:"In the process",paid:"Paid",canceled:"Abolished"}}}},errors:{unauthorized:"Please login",unknown_request:"Error, please try again later",unknown_request2:"Oops, you made a mistake somewhere",required:"This field is required",photo:"I didn't work out the photo, try it later",all:"Fill in the fields",new_pass:{null:"Fill in the fields",not_match:"Passwords do not match"},login:{name:"Please enter a name",password:"Please enter a password"},date:{null:"Specify the start date of the tour",wrong:"Wrong date"},time:{null:"Specify the start time of the tour"},ticket:{null:"Select ticket(s)"},inputs:{name:{null:"Enter your name"},email:{null:"Enter your email",wrong:"Incorrect email"},phone:{null:"Enter phone number"}},schedule:{select_time:"Choose time"}},success:{change_password:"Success!",reg:"Registration completed successfully!",new_excursion:"The tour was created successfully!"}}},Ci=new vi.Z({locale:localStorage.getItem("lang"),fallbackLocale:"en",messages:xi});var fi=Ci,bi=s(629);i["default"].use(bi.ZP);var yi=new bi.ZP.Store({state:{user:null,popup_registration:!1,popup_signin:!1,popup_change_pass:!1},getters:{getUser(t){return t.user},statePopupReg(t){return t.popup_registration},statePopupSignIn(t){return t.popup_signin},statePopupChangePass(t){return t.popup_change_pass}},mutations:{SET_USER(t,e){t.user=e},DELETE_USER(t){t.user=null},POPUP_REG(t,e){t.popup_registration=e},POPUP_SIGNIN(t,e){t.popup_signin=e},POPUP_CHANGE_PASS(t,e){t.popup_change_pass=e}},actions:{setUser({commit:t},e){t("SET_USER",e)},deleteUser({commit:t}){t("DELETE_USER")},popupReg({commit:t},e){t("POPUP_REG",e)},popupSignIn({commit:t},e){t("POPUP_SIGNIN",e)},popupChangePass({commit:t},e){t("POPUP_CHANGE_PASS",e)}}}),wi=s(9301);i["default"].use(bi.ZP),i["default"].use(xt.Z),i["default"].config.productionTip=!1,i["default"].use(wi.ZP,{load:{key:"AIzaSyC9f8svoIwJPtQuwYHEkXlF-dyxm9aKDqQ",libraries:"places"},installComponents:!0}),new i["default"]({i18n:fi,render:t=>t(vt),router:gi,store:yi}).$mount("#app")},5332:function(t,e,s){t.exports=s.p+"img/appstore.9f4b821c.svg"},5934:function(t,e,s){t.exports=s.p+"img/gplay.a5fe3ab4.svg"},2835:function(t,e,s){t.exports=s.p+"img/logo.280db207.svg"},9572:function(t,e,s){t.exports=s.p+"img/mark-with-dot.acf92b43.svg"},7914:function(t,e,s){t.exports=s.p+"img/mastercard.805af20f.svg"},5998:function(t,e,s){t.exports=s.p+"img/point-path-curve.4cc4990a.svg"},7676:function(t,e,s){t.exports=s.p+"img/visa.d44b053a.svg"},4690:function(t,e,s){t.exports=s.p+"img/preloader.6d3c0ed1.gif"},1062:function(t,e,s){t.exports=s.p+"img/phone.ffd85abb.png"},3373:function(t,e,s){t.exports=s.p+"img/home-banner--mobile.f5047e3b.jpg"},9397:function(t,e,s){t.exports=s.p+"img/home-banner.e5e3a0f2.jpg"}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,i,a,o){if(!i){var r=1/0;for(u=0;u<t.length;u++){i=t[u][0],a=t[u][1],o=t[u][2];for(var n=!0,c=0;c<i.length;c++)(!1&o||r>=o)&&Object.keys(s.O).every((function(t){return s.O[t](i[c])}))?i.splice(c--,1):(n=!1,o<r&&(r=o));if(n){t.splice(u--,1);var l=a();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[i,a,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,o,r=i[0],n=i[1],c=i[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(c)var u=c(s)}for(e&&e(i);l<r.length;l++)o=r[l],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(u)},i=self["webpackChunkmapster"]=self["webpackChunkmapster"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(5065)}));i=s.O(i)})();
//# sourceMappingURL=app.8537b044.js.map